(self.webpackChunkshell=self.webpackChunkshell||[]).push([[618,237],{1913:(ne,N,A)=>{Object.defineProperty(N,"__esModule",{value:!0}),A(1635).__exportStar(A(5766),N)},6237:(ne,N,A)=>{A.r(N),A.d(N,{API_CONFIG:()=>v,APP_CONFIG:()=>z,AUTH0_CONFIG:()=>S,AuthService:()=>F,CoreServicesComponent:()=>Z,CoreServicesService:()=>T,DummyDataService:()=>Y,EventBusService:()=>$,MfeLoaderService:()=>ee,ProductCategory:()=>H,RoleService:()=>V,STORAGE_CONFIG:()=>C,STORAGE_KEYS:()=>w,SalesStatus:()=>x,SseControlService:()=>p,SseFromEventService:()=>d,UserProfileService:()=>D,UserRole:()=>f,authInterceptor:()=>j,configureAuth0:()=>i,getAuth0Config:()=>s,getAuthService:()=>n,getEventBusService:()=>oe,getStorage:()=>O,getStorageItem:()=>I,hasRequiredRole:()=>Q,removeStorageItem:()=>k,setStorageItem:()=>U});var g=A(4304);let T=(()=>{class r{constructor(){}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var R=A(467),b=A(5883),L=A(2943);const S={domain:"dev-26sow24tone5na8a.us.auth0.com",clientId:"EdkPy5co65jESIAT8T9SBy5X4cmeolhl",redirectUri:"https://opensourcekd.github.io/i17e/auth-callback",logoutUri:"https://opensourcekd.github.io/i17e",scope:"openid profile email",audience:"https://something"},C={TOKEN_STORAGE:"sessionStorage",USER_INFO_STORAGE:"sessionStorage",AUTH_STATE_STORAGE:"sessionStorage",PREFERENCES_STORAGE:"localStorage"},w={ACCESS_TOKEN:"auth0_access_token",ID_TOKEN:"auth0_id_token",REFRESH_TOKEN:"auth0_refresh_token",USER_INFO:"auth0_user_info",OAUTH_STATE:"oauth_state",CODE_VERIFIER:"code_verifier",CURRENT_USER:"current_user",DEV_MIMIC_USER:"dev_mimic_user"};function O(r){return"sessionStorage"===r?sessionStorage:localStorage}function U(r,a,e="sessionStorage"){O(e).setItem(r,a)}function I(r,a="sessionStorage"){return O(a).getItem(r)}function k(r,a="sessionStorage"){O(a).removeItem(r)}var B=A(8072),K=A(7555),W=A.n(K);let $=(()=>{class r{constructor(){this.emitter=W()(),console.log("[EventBusService] Service initialized");const e=new Event("EventBusServiceCreated");this.onePlusNEvents=new b.ReplaySubject(100),this.onePlusNEvents.next(e.type),this.emitter.on("*",t=>{console.log("[EventBusService] Event received and forwarded to ReplaySubject:",t),this.onePlusNEvents.next(t)}),console.log("[EventBusService] Event listener registered for all events")}sendEvent(e){console.log("[EventBusService] sendEvent() called with:",e),this.emitter.emit(e),console.log("[EventBusService] Event emitted successfully")}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),F=(()=>{class r{constructor(e,t){this.http=e,this.eventBus=t,this.id="auth of pokemon",this.STANDARD_JWT_CLAIMS=["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at","iss","aud","exp","iat","auth_time","nonce","acr","amr","azp","at_hash","c_hash"],this.auth0Client=null,this.userSubject=new b.BehaviorSubject(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable(),console.log("[AuthService] Initializing Auth0 authentication service from the SHELL"),this.initializationPromise=this.initializeAuth0()}initializeAuth0(){var e=this;return(0,R.A)(function*(){try{if(console.log("[AuthService] Starting Auth0 client initialization..."),!S||"object"!=typeof S)throw new Error("[AuthService] AUTH0_CONFIG is not defined or invalid");if(!S.domain||!S.clientId)throw new Error("[AuthService] AUTH0_CONFIG is missing required fields (domain, clientId)");e.auth0Client=yield(0,L.createAuth0Client)({domain:S.domain,clientId:S.clientId,authorizationParams:{redirect_uri:S.redirectUri,scope:S.scope,...S.audience&&{audience:S.audience}},cacheLocation:"memory",useRefreshTokens:!0}),console.log("[AuthService] Auth0 client initialized successfully from SHELL")}catch(t){throw console.error("[AuthService] Failed to initialize Auth0 client:",t),t}})()}ensureInitialized(){var e=this;return(0,R.A)(function*(){if(yield e.initializationPromise,!e.auth0Client)throw new Error("[AuthService] Auth0 client failed to initialize")})()}login(e,t){var l=this;return(0,R.A)(function*(){e&&console.log(`[AuthService] Logging in: ${e}`);try{let m;if(yield l.ensureInitialized(),!window.location.pathname.includes("auth-callback")&&window.location.search){const h=window.location.search;m={returnTo:h},console.log("[AuthService] Preserving URL parameters through auth flow:",h)}const E={redirect_uri:S.redirectUri,scope:S.scope,...S.audience&&{audience:S.audience},...S.connection&&{connection:S.connection}};t?.invitation&&(E.invitation=t.invitation,console.log("[AuthService] Including invitation parameter:",t.invitation)),t?.organization&&(E.organization=t.organization,console.log("[AuthService] Including organization parameter:",t.organization)),console.log("[AuthService] Starting Auth0 login redirect..."),yield l.auth0Client.loginWithRedirect({authorizationParams:E,...m&&{appState:m}})}catch(c){throw console.error("[AuthService] Login failed:",c),c}})()}handleCallback(){var e=this;return(0,R.A)(function*(){try{console.log("[AuthService] Processing Auth0 callback..."),yield e.ensureInitialized();const t=yield e.auth0Client.handleRedirectCallback();console.log("[AuthService] Callback processed successfully"),t.appState?console.log("[AuthService] Restored appState from auth flow:",JSON.stringify(t.appState)):console.log("[AuthService] No appState restored (user may not have started from invitation link)");const l=yield e.auth0Client.getUser();if(!l)return console.warn("[AuthService] No user info returned from Auth0"),{success:!1};e.logUserClaims(l),e.setUserInfo(l);const c=yield e.auth0Client.getTokenSilently();return e.setToken(c),console.log("[AuthService] Authentication successful"),{success:!0,appState:t.appState}}catch(t){return console.error("[AuthService] Error processing callback:",t),console.error("[AuthService] Error details:",JSON.stringify(t,null,2)),{success:!1}}})()}logUserClaims(e){console.log("=".repeat(80)),console.log("[AuthService] \u{1f50d} AUTH0 ID TOKEN - ALL CLAIMS:"),console.log("=".repeat(80)),this.logStandardClaims(e);const t=this.getCustomClaims(e);this.logClaims("\n\u{1f511} Custom Claims (Auth0):",t,e);const l=this.getAdditionalClaims(e);this.logClaims("\n\u{1f527} Additional Claims:",l,e),console.log("\n\u{1f4e6} Complete User Object (JSON):"),console.log(JSON.stringify(e,null,2)),console.log("=".repeat(80))}logStandardClaims(e){console.log("\n\u{1f4cb} Standard OIDC Claims:"),["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at"].forEach(l=>{console.log(`  \u2022 ${"sub"===l?`${l} (Subject/User ID)`:l}:`,e[l])})}logClaims(e,t,l){console.log(e),0!==t.length?t.forEach(c=>{const u=l[c],m="object"==typeof u?JSON.stringify(u,null,2):u;console.log(`  \u2022 ${c}:`,m)}):console.log("  No custom claims found")}getCustomClaims(e){return Object.keys(e).filter(t=>!this.STANDARD_JWT_CLAIMS.includes(t)&&this.isNamespacedClaim(t))}getAdditionalClaims(e){return Object.keys(e).filter(t=>!this.STANDARD_JWT_CLAIMS.includes(t)&&!this.isNamespacedClaim(t))}isNamespacedClaim(e){return e.startsWith("http://")||e.startsWith("https://")}logout(){var e=this;return(0,R.A)(function*(){k(w.ACCESS_TOKEN,C.TOKEN_STORAGE),k(w.USER_INFO,C.USER_INFO_STORAGE),e.userSubject.next(null),e.emitAuthEvent("logout",null),console.log("[AuthService] User logged out, clearing Auth0 session");try{yield e.ensureInitialized(),yield e.auth0Client.logout({logoutParams:{returnTo:S.logoutUri}})}catch(t){console.error("[AuthService] Error during Auth0 logout:",t)}})()}getToken(){var e=this;return(0,R.A)(function*(){const t=I(w.ACCESS_TOKEN,C.TOKEN_STORAGE);if(t)return t;try{yield e.ensureInitialized();const l=yield e.auth0Client.getTokenSilently();return e.setToken(l),l}catch(l){return console.error("[AuthService] Error getting token from Auth0:",l),null}})()}getTokenSync(){return I(w.ACCESS_TOKEN,C.TOKEN_STORAGE)}setToken(e){U(w.ACCESS_TOKEN,e,C.TOKEN_STORAGE),this.emitAuthEvent("token_updated",{token:e})}isAuthenticated(){var e=this;return(0,R.A)(function*(){try{return yield e.ensureInitialized(),yield e.auth0Client.isAuthenticated()}catch(t){return console.error("[AuthService] Error checking authentication status:",t),!!I(w.ACCESS_TOKEN,C.TOKEN_STORAGE)}})()}isAuthenticatedSync(){return!!I(w.ACCESS_TOKEN,C.TOKEN_STORAGE)}getUser(){return this.userSubject.value}getUserData(){const e=this.getUser();if(!e)return null;const t=this.extractClaimValue(e,"role","user"),l=this.extractClaimValue(e,["org","organization"],"default");return{id:e.sub,name:e.name||e.email||"User",email:e.email||"",role:t,org:l}}extractClaimValue(e,t,l){const c=Array.isArray(t)?t:[t];for(const m of c){const E=e[m];if(E)return E}const u=this.getCustomClaims(e);for(const m of c){const E=u.find(h=>h.toLowerCase().includes(m.toLowerCase()));if(E&&e[E]){const h=e[E];return Array.isArray(h)?h[0]:h}}return l}getUserInfoFromStorage(){const e=I(w.USER_INFO,C.USER_INFO_STORAGE);return e?JSON.parse(e):null}setUserInfo(e){U(w.USER_INFO,JSON.stringify(e),C.USER_INFO_STORAGE),this.userSubject.next(e),console.log("[AuthService] \u{1f4be} User info stored in sessionStorage:"),console.log("  Standard claims:",{sub:e.sub,name:e.name,email:e.email,email_verified:e.email_verified});const t=this.getCustomClaims(e);t.length>0&&(console.log("  Custom claims stored:"),t.forEach(l=>{console.log(`    \u2022 ${l}:`,e[l])})),this.emitAuthEvent("user_info_updated",e)}emitAuthEvent(e,t){const l={type:`auth:${e}`,payload:t,timestamp:(new Date).toISOString()};this.eventBus.sendEvent(JSON.stringify(l)),console.log("[AuthService] Auth event emitted:",l.type)}static{this.\u0275fac=function(t){return new(t||r)(g.\u0275\u0275inject(B.HttpClient),g.\u0275\u0275inject($))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Z=(()=>{class r{static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275cmp=g.\u0275\u0275defineComponent({type:r,selectors:[["org-core-services"]],standalone:!0,features:[g.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(t,l){1&t&&(g.\u0275\u0275elementStart(0,"p"),g.\u0275\u0275text(1," core-services works! "),g.\u0275\u0275elementEnd())}})}}return r})();var f=function(r){return r.SUPER_ADMIN="super-admin",r.ORG_ADMIN="org-admin",r.TEAM_LEAD="team-lead",r.SALES_EXECUTIVE="sales-executive",r}(f||{});function Q(r,a){const e={[f.SUPER_ADMIN]:4,[f.ORG_ADMIN]:3,[f.TEAM_LEAD]:2,[f.SALES_EXECUTIVE]:1};return e[r]>=e[a]}let V=(()=>{class r{constructor(){this.currentUserSubject=new b.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable(),console.log("[RoleService] Service initialized"),this.loadInitialUser()}setUserFromProfile(e){console.log("[RoleService] Setting user from API profile:",e);const t=this.mapApiRoleToUserRole(e.roles),l={id:e.userId,name:e.name||e.email||"User",email:e.email||"",role:t};console.log("[RoleService] Mapped user with role from API:",l),this.setCurrentUser(l)}mapApiRoleToUserRole(e){return e&&0!==e.length?this.mapStringToUserRole(e[0].name):(console.warn("[RoleService] No roles found in API response, defaulting to SALES_EXECUTIVE"),f.SALES_EXECUTIVE)}setUserFromAuth(e){console.log("[RoleService] Setting user from Auth0 auth:",e);const t=this.mapUserInfoToUser(e);console.log("[RoleService] Mapped user with role:",t),this.setCurrentUser(t)}mapUserInfoToUser(e){const t=this.extractRoleFromToken(e);return{id:e.sub,name:e.name||e.email||"User",email:e.email||"",role:t}}extractRoleFromToken(e){if(e.role)return this.mapStringToUserRole(e.role);if(e.org_and_roles){const c=this.extractRoleFromOrgAndRoles(e.org_and_roles);if(c)return console.log("[RoleService] Extracted role from org_and_roles:",c),c}const l=Object.keys(e).filter(c=>c.startsWith("http://")||c.startsWith("https://")).find(c=>c.toLowerCase().includes("role"));if(l&&e[l]){const c=e[l],u=Array.isArray(c)?c[0]:c;return this.mapStringToUserRole(u)}return console.warn("[RoleService] No role found in token, falling back to email pattern"),this.determineRoleFromEmail(e.email||"")}extractRoleFromOrgAndRoles(e){if(!e||"object"!=typeof e)return null;const t=[];for(const c in e){const u=e[c];Array.isArray(u)&&u.forEach(m=>{const E=this.mapStringToUserRole(m);t.push(E)})}if(0===t.length)return null;const l=[f.SUPER_ADMIN,f.ORG_ADMIN,f.TEAM_LEAD,f.SALES_EXECUTIVE];for(const c of l)if(t.includes(c))return console.log("[RoleService] Selected highest privilege role:",c),c;return t[0]}mapStringToUserRole(e){const t=e.toLowerCase().replace(/[-_\s]/g,"");return{superadmin:f.SUPER_ADMIN,super:f.SUPER_ADMIN,admin:f.SUPER_ADMIN,orgadmin:f.ORG_ADMIN,organizationadmin:f.ORG_ADMIN,manager:f.ORG_ADMIN,teamlead:f.TEAM_LEAD,lead:f.TEAM_LEAD,salesexecutive:f.SALES_EXECUTIVE,sales:f.SALES_EXECUTIVE,executive:f.SALES_EXECUTIVE}[t]||f.SALES_EXECUTIVE}determineRoleFromEmail(e){const t=e.toLowerCase();return[{patterns:["admin","super"],role:f.SUPER_ADMIN},{patterns:["manager","org"],role:f.ORG_ADMIN},{patterns:["lead","team"],role:f.TEAM_LEAD}].find(({patterns:u})=>u.some(m=>t.includes(m)))?.role??f.SALES_EXECUTIVE}loadInitialUser(){const e=this.getDevMimicUser();if(e)return console.log("[RoleService] Using dev mimic user:",e),void this.currentUserSubject.next(e)}getDevMimicUser(){try{const e=localStorage.getItem("dev_mimic_user");if(e){const t=JSON.parse(e);if(t.id&&t.name&&t.role)return t}}catch(e){console.error("[RoleService] Error parsing dev mimic user:",e)}return null}setDevMimicUser(e){e?(localStorage.setItem("dev_mimic_user",JSON.stringify(e)),this.currentUserSubject.next(e),console.log("[RoleService] Dev mimic user set:",e)):(localStorage.removeItem("dev_mimic_user"),this.loadDummyUser(),console.log("[RoleService] Dev mimic user cleared"))}loadDummyUser(){console.log("[RoleService] Loading user from session storage");const e=sessionStorage.getItem("current_user");if(e){const t=JSON.parse(e);console.log("[RoleService] User loaded from session:",t),this.currentUserSubject.next(t)}else{const t={id:"user-1",name:"John Admin",email:"john.admin@company.com",role:f.ORG_ADMIN};console.log("[RoleService] No saved user found, using default:",t),this.setCurrentUser(t)}}setCurrentUser(e){console.log("[RoleService] Setting current user:",e),this.currentUserSubject.next(e),e?(sessionStorage.setItem("current_user",JSON.stringify(e)),console.log("[RoleService] User saved to session storage")):(sessionStorage.removeItem("current_user"),console.log("[RoleService] User removed from session storage"))}getCurrentUser(){const e=this.currentUserSubject.value;return console.log("[RoleService] getCurrentUser() called, returning:",e),e}getCurrentUserRole(){const e=this.currentUserSubject.value?.role||null;return console.log("[RoleService] getCurrentUserRole() called, returning:",e),e}hasRole(e){const t=this.getCurrentUserRole();if(!t)return console.log("[RoleService] hasRole() - No current role, access denied"),!1;const l=Q(t,e);return console.log(`[RoleService] hasRole() - Checking if ${t} has ${e}:`,l),l}canViewOthersData(){const e=this.getCurrentUserRole(),t=e===f.SUPER_ADMIN||e===f.ORG_ADMIN||e===f.TEAM_LEAD;return console.log(`[RoleService] canViewOthersData() - Role: ${e}, Can view:`,t),t}getViewableUsers(){const e=this.getCurrentUser();if(!e)return[];const t=this.getAllUsers();return this.isTeamLeadOrHigher()?t.filter(l=>l.role===f.SALES_EXECUTIVE||l.id===e.id):t.filter(l=>l.id===e.id)}hasAnyRole(e){const t=this.getCurrentUser();return!!t&&e.includes(t.role)}isAdmin(){return this.hasAnyRole([f.SUPER_ADMIN,f.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([f.SUPER_ADMIN,f.ORG_ADMIN,f.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:f.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:f.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:f.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:f.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:f.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:f.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var x=function(r){return r.COMPLETED="completed",r.PENDING="pending",r.CANCELLED="cancelled",r}(x||{}),H=function(r){return r.ELECTRONICS="Electronics",r.SOFTWARE="Software",r.SERVICES="Services",r.HARDWARE="Hardware",r}(H||{});let Y=(()=>{class r{constructor(){this.salesExecutivesSubject=new b.BehaviorSubject(this.generateSalesExecutives()),this.salesExecutives$=this.salesExecutivesSubject.asObservable(),this.salesRecordsSubject=new b.BehaviorSubject(this.generateSalesRecords()),this.salesRecords$=this.salesRecordsSubject.asObservable(),this.incentiveRulesSubject=new b.BehaviorSubject(this.generateIncentiveRules()),this.incentiveRules$=this.incentiveRulesSubject.asObservable(),this.incentivesEarnedSubject=new b.BehaviorSubject(this.generateIncentivesEarned()),this.incentivesEarned$=this.incentivesEarnedSubject.asObservable(),console.log("[DummyDataService] Service initialized"),console.log("[DummyDataService] Generated data:",{salesExecutives:this.salesExecutivesSubject.value.length,salesRecords:this.salesRecordsSubject.value.length,incentiveRules:this.incentiveRulesSubject.value.length,incentivesEarned:this.incentivesEarnedSubject.value.length})}generateSalesExecutives(){return console.log("[DummyDataService] Generating sales executives"),[{id:"user-1",name:"John Admin",email:"john.admin@company.com",teamId:"team-1"},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",teamId:"team-1"},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",teamId:"team-1"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",teamId:"team-1"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",teamId:"team-1"}]}generateSalesRecords(){console.log("[DummyDataService] Generating sales records");const e=[],t=this.generateSalesExecutives(),l=["Product A","Product B","Product C","Product D"],c=[x.COMPLETED,x.PENDING,x.CANCELLED];for(let u=0;u<50;u++){const m=t[u%t.length],E=Math.floor(u/10),h=new Date;h.setMonth(h.getMonth()-E),e.push({id:`sale-${u+1}`,salesExecutiveId:m.id,salesExecutiveName:m.name,date:h,productName:l[u%l.length],productCategory:H.SOFTWARE,amount:Math.floor(5e4*Math.random())+1e4,commission:Math.floor(5e3*Math.random()),quantity:Math.floor(10*Math.random())+1,status:c[u%c.length],clientName:`Client ${u+1}`,region:["North","South","East","West"][u%4]})}return e}generateIncentiveRules(){return console.log("[DummyDataService] Generating incentive rules"),[{id:"rule-1",name:"Basic Sales Incentive",description:"5% incentive on all sales",type:"percentage",value:5,isActive:!0,createdBy:"admin",createdAt:new Date("2024-01-01")},{id:"rule-2",name:"High Value Sales Bonus",description:"10% incentive on sales above $50,000",type:"percentage",value:10,minSalesAmount:5e4,isActive:!0,createdBy:"admin",createdAt:new Date("2024-02-01")},{id:"rule-3",name:"Product A Special",description:"Fixed $500 bonus for Product A sales",type:"fixed",value:500,productCategory:"Product A",isActive:!0,createdBy:"team-lead-1",createdAt:new Date("2024-03-01")},{id:"rule-4",name:"Tiered Volume Incentive",description:"15% incentive on sales above $100,000",type:"tiered",value:15,minSalesAmount:1e5,isActive:!1,createdBy:"admin",createdAt:new Date("2024-04-01")}]}generateIncentivesEarned(){console.log("[DummyDataService] Generating incentives earned");const e=[],t=this.generateSalesExecutives(),l=this.generateIncentiveRules(),c=["pending","approved","paid"];for(let u=0;u<30;u++){const m=t[u%t.length],E=l[u%l.length],h=Math.floor(u/10),y=new Date;y.setMonth(y.getMonth()-h),e.push({id:`incentive-${u+1}`,salesExecutiveId:m.id,salesExecutiveName:m.name,ruleId:E.id,ruleName:E.name,salesRecordId:`sale-${u+1}`,amount:Math.floor(5e3*Math.random())+500,earnedDate:y,status:c[u%3]})}return e}getSalesRecordsForExecutive(e){console.log("[DummyDataService] getSalesRecordsForExecutive() called for:",e);const t=this.salesRecordsSubject.value.filter(l=>l.salesExecutiveId===e);return console.log("[DummyDataService] Found",t.length,"sales records for executive:",e),t}getIncentivesForExecutive(e){console.log("[DummyDataService] getIncentivesForExecutive() called for:",e);const t=this.incentivesEarnedSubject.value.filter(l=>l.salesExecutiveId===e);return console.log("[DummyDataService] Found",t.length,"incentives for executive:",e),t}getReportDataForExecutive(e){console.log("[DummyDataService] getReportDataForExecutive() called for:",e);const t=this.salesExecutivesSubject.value.find(y=>y.id===e),l=this.getSalesRecordsForExecutive(e),c=this.getIncentivesForExecutive(e),u=l.filter(y=>"completed"===y.status).reduce((y,M)=>y+M.amount,0),m=c.filter(y=>"pending"!==y.status).reduce((y,M)=>y+M.amount,0),E=[];for(let y=5;y>=0;y--){const M=new Date;M.setMonth(M.getMonth()-y);const P=M.toISOString().substring(0,7),J=l.filter(X=>X.date.toISOString().substring(0,7)===P&&"completed"===X.status).reduce((X,ie)=>X+ie.amount,0),se=c.filter(X=>X.earnedDate.toISOString().substring(0,7)===P&&"pending"!==X.status).reduce((X,ie)=>X+ie.amount,0);E.push({month:P,sales:J,incentives:se})}const h={salesExecutiveId:e,salesExecutiveName:t?.name||"Unknown",totalSales:u,totalIncentives:m,period:"Last 6 months",breakdown:E};return console.log("[DummyDataService] Report data generated:",h),h}getSalesExecutives(){const e=this.salesExecutivesSubject.value;return console.log("[DummyDataService] getSalesExecutives() called, returning",e.length,"executives"),e}getIncentiveRules(){const e=this.incentiveRulesSubject.value;return console.log("[DummyDataService] getIncentiveRules() called, returning",e.length,"rules"),e}addIncentiveRule(e){console.log("[DummyDataService] addIncentiveRule() called with:",e),this.incentiveRulesSubject.next([...this.incentiveRulesSubject.value,e]),console.log("[DummyDataService] Rule added successfully, total rules:",this.incentiveRulesSubject.value.length)}updateIncentiveRule(e,t){console.log("[DummyDataService] updateIncentiveRule() called for rule:",e,"with updates:",t);const c=this.incentiveRulesSubject.value.map(u=>u.id===e?{...u,...t}:u);this.incentiveRulesSubject.next(c),console.log("[DummyDataService] Rule updated successfully")}deleteIncentiveRule(e){console.log("[DummyDataService] deleteIncentiveRule() called for rule:",e);const l=this.incentiveRulesSubject.value.filter(c=>c.id!==e);this.incentiveRulesSubject.next(l),console.log("[DummyDataService] Rule deleted successfully, remaining rules:",this.incentiveRulesSubject.value.length)}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var q=A(1913);let ee=(()=>{class r{constructor(){this.mfeConfigs=[],this.loadedMfesSubject=new b.BehaviorSubject(new Set),this.loadedMfes$=this.loadedMfesSubject.asObservable(),this.loadingMfesSubject=new b.BehaviorSubject(new Set),this.loadingMfes$=this.loadingMfesSubject.asObservable(),console.log("[MfeLoaderService] Service initialized")}setConfigs(e){console.log("[MfeLoaderService] setConfigs() called with",e.length,"configurations"),this.mfeConfigs=e.sort((t,l)=>l.priority-t.priority),console.log("[MfeLoaderService] Configurations sorted by priority:",this.mfeConfigs.map(t=>({name:t.name,priority:t.priority})))}getConfigs(){return console.log("[MfeLoaderService] getConfigs() called, returning",this.mfeConfigs.length,"configurations"),this.mfeConfigs}getConfigsForRole(e){console.log("[MfeLoaderService] getConfigsForRole() called for role:",e);const t=this.mfeConfigs.filter(l=>l.allowedRoles.includes(e));return console.log("[MfeLoaderService] Found",t.length,"configurations for role:",e,t.map(l=>l.name)),t}getConfigByName(e){console.log("[MfeLoaderService] getConfigByName() called for:",e);const t=this.mfeConfigs.find(l=>l.name===e);return t?console.log("[MfeLoaderService] Found configuration for:",e):console.warn("[MfeLoaderService] Configuration not found for:",e),t}preloadPriorityMfes(e){var t=this;return(0,R.A)(function*(){console.log("[MfeLoaderService] preloadPriorityMfes() called for role:",e);const c=t.getConfigsForRole(e).filter(m=>m.priority>=5);console.log("[MfeLoaderService] Preloading",c.length,"priority MFEs:",c.map(m=>({name:m.name,priority:m.priority})));const u=c.map(m=>t.loadMfe(m));yield Promise.all(u),console.log("[MfeLoaderService] Preloading complete")})()}loadMfe(e){var t=this;return(0,R.A)(function*(){const l=t.loadingMfesSubject.value,c=t.loadedMfesSubject.value;if(c.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} already loaded`);else if(l.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} is already loading`);else try{const u=new Set(l);u.add(e.name),t.loadingMfesSubject.next(u),console.log(`[MfeLoaderService] Loading MFE ${e.name} (priority: ${e.priority})`),console.log("[MfeLoaderService] MFE config:",{name:e.name,url:e.url,exposedModule:e.exposedModule,remoteName:e.remoteName});const m=yield(0,q.loadRemoteModule)({type:"module",remoteEntry:e.url,exposedModule:e.exposedModule}),E=new Set(c);E.add(e.name),t.loadedMfesSubject.next(E);const h=new Set(t.loadingMfesSubject.value);return h.delete(e.name),t.loadingMfesSubject.next(h),console.log(`[MfeLoaderService] Successfully loaded MFE ${e.name}`),console.log("[MfeLoaderService] Currently loaded MFEs:",Array.from(t.loadedMfesSubject.value)),m}catch(u){console.error(`[MfeLoaderService] Error loading MFE ${e.name}:`,u),console.error("[MfeLoaderService] Failed config:",{name:e.name,url:e.url,exposedModule:e.exposedModule});const m=new Set(t.loadingMfesSubject.value);throw m.delete(e.name),t.loadingMfesSubject.next(m),u}})()}isMfeLoaded(e){const t=this.loadedMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoaded(${e}):`,t),t}isMfeLoading(e){const t=this.loadingMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoading(${e}):`,t),t}static{this.\u0275fac=function(t){return new(t||r)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var G=A(6883);let d=(()=>{class r{constructor(e){this.zone=e}listen(){const e=new EventSource("https://stream.wikimedia.org/v2/stream/recentchange");return(0,b.fromEvent)(e,"message").pipe((0,G.map)(t=>{let l;return this.zone.run(()=>l=t.data),l}))}static{this.\u0275fac=function(t){return new(t||r)(g.\u0275\u0275inject(g.NgZone))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),p=(()=>{class r{constructor(e){this.zone=e}start(e){this.eventSource=new EventSource(e);const t=this.eventSource;return new b.Observable(l=>{const c=(0,b.fromEvent)(t,"message").subscribe(u=>{this.zone.run(()=>l.next(u.data))});return t.onerror=u=>{this.zone.run(()=>l.error(u))},()=>{c.unsubscribe(),t.close()}})}stop(){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0)}static{this.\u0275fac=function(t){return new(t||r)(g.\u0275\u0275inject(g.NgZone))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const v={baseUrl:"https://tmzuktmjy7.execute-api.us-east-1.amazonaws.com"};let D=(()=>{class r{constructor(e){this.http=e,this.profileSubject=new b.BehaviorSubject(null),this.profile$=this.profileSubject.asObservable(),console.log("[UserProfileService] Service initialized")}fetchUserProfile(){return console.log("[UserProfileService] Fetching user profile from API"),v&&v.baseUrl?this.http.get(`${v.baseUrl}/auth/me`).pipe((0,G.map)(e=>e.success&&e.data?(console.log("[UserProfileService] Profile loaded successfully"),this.profileSubject.next(e.data),e.data):null),(0,G.catchError)(e=>(console.error("[UserProfileService] Error fetching profile:",e),this.profileSubject.next(null),(0,b.of)(null)))):(console.error("[UserProfileService] API_CONFIG or baseUrl is not defined"),(0,b.of)(null))}getCurrentProfile(){return this.profileSubject.value}getPrimaryOrganization(){return this.profileSubject.value?.organizations?.[0]||null}getPrimaryRole(){return this.profileSubject.value?.roles?.[0]||null}getRoleName(){return this.getPrimaryRole()?.name||null}getOrganizationDisplayName(){return this.getPrimaryOrganization()?.displayName||null}clearProfile(){this.profileSubject.next(null)}static{this.\u0275fac=function(t){return new(t||r)(g.\u0275\u0275inject(B.HttpClient))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const j=(r,a)=>{const t=(0,g.inject)(F).getTokenSync();return!t||_(r.url)?a(r):a(r.clone({setHeaders:{Authorization:`Bearer ${t}`}}))},_=r=>{try{if(v&&"object"==typeof v&&v.baseUrl&&r.startsWith(v.baseUrl))return!1}catch(e){console.warn("[authInterceptor] API_CONFIG not available, using pattern-based auth endpoint detection",e)}return["/oauth","auth0.com","/authorize","/token"].some(e=>r.includes(e))},z={apiUrl:v.baseUrl,auth0Domain:S.domain,auth0ClientId:S.clientId,redirectUri:S.redirectUri,logoutUri:S.logoutUri};let te=null,re=null;function oe(){return re||(re=new $),re}function n(){if(!te){const r=(0,g.inject)(B.HttpClient),a=oe();te=new F(r,a)}return te}let o=null;function i(r){o=r}function s(){return o}},5766:(ne,N,A)=>{A.r(N),A.d(N,{getManifest:()=>Q,initFederation:()=>V,loadManifest:()=>H,loadRemoteEntry:()=>U,loadRemoteModule:()=>$,setManifest:()=>Z});var g=A(467);let T={};const R={},b={};let L=!1;function C(){return(C=(0,g.A)(function*(d,p){return(yield R[d].get(p))()})).apply(this,arguments)}function w(d,p){return O.apply(this,arguments)}function O(){return(O=(0,g.A)(function*(d,p){return b[p]||(L||(yield A.I("default"),L=!0),yield d.init(A.S.default),b[p]=!0),d})).apply(this,arguments)}function U(d,p){return I.apply(this,arguments)}function I(){return I=(0,g.A)(function*(d,p){if("string"==typeof d)return yield K(d,p);if("script"===d.type){const v=d;return yield K(v.remoteEntry,v.remoteName)}"module"===d.type&&(yield function k(d){return B.apply(this,arguments)}(d.remoteEntry))}),I.apply(this,arguments)}function B(){return(B=(0,g.A)(function*(d){return R[d]?Promise.resolve():yield import(d).then(p=>{w(p,d),R[d]=p})})).apply(this,arguments)}function K(d,p){return W.apply(this,arguments)}function W(){return(W=(0,g.A)(function*(d,p){return new Promise((v,D)=>{if(R[p])return void v();const j=document.createElement("script");j.src=d,j.onerror=D,j.onload=()=>{const _=window[p];w(_,p),R[p]=_,v()},document.body.appendChild(j)})})).apply(this,arguments)}function $(d,p){return F.apply(this,arguments)}function F(){return F=(0,g.A)(function*(d,p){let v,D,j,_;if(_="string"==typeof d?{type:"manifest",remoteName:d,exposedModule:p}:d,!_.type){const z=Object.keys(T).length>0;_.type=z?"manifest":"script"}if("manifest"===_.type){const z=T[_.remoteName];if(!z)throw new Error("Manifest does not contain "+_.remoteName);_={type:z.type,exposedModule:_.exposedModule,remoteEntry:z.remoteEntry,remoteName:"script"===z.type?_.remoteName:void 0},j=z.remoteEntry}else j=_.remoteEntry;return"script"===_.type?(v={type:"script",remoteEntry:_.remoteEntry,remoteName:_.remoteName},D=_.remoteName):"module"===_.type&&(v={type:"module",remoteEntry:_.remoteEntry},D=_.remoteEntry),j&&(yield U(v)),yield function S(d,p){return C.apply(this,arguments)}(D,_.exposedModule)}),F.apply(this,arguments)}function Z(d){return f.apply(this,arguments)}function f(){return(f=(0,g.A)(function*(d,p=!1){T=q(d),p||(yield ee())})).apply(this,arguments)}function Q(){return T}function V(d){return x.apply(this,arguments)}function x(){return(x=(0,g.A)(function*(d,p=!1){return"string"==typeof d?H(d,p):Z(d,p)})).apply(this,arguments)}function H(d){return Y.apply(this,arguments)}function Y(){return(Y=(0,g.A)(function*(d,p=!1){const v=yield fetch(d);if(!v.ok)throw Error("could not load configFile: "+d);T=q(yield v.json()),p||(yield ee())})).apply(this,arguments)}function q(d){const p={};for(const v in d){const D=d[v];let j;j="string"==typeof D?{remoteEntry:D,type:"module"}:{...D,type:D.type||"module"},p[v]=j}return p}function ee(){return G.apply(this,arguments)}function G(){return(G=(0,g.A)(function*(){const d=[];for(const p in T){const v=T[p];d.push(U("module"===v.type?{type:"module",remoteEntry:v.remoteEntry}:{type:"script",remoteEntry:v.remoteEntry,remoteName:p}))}yield Promise.all(d)})).apply(this,arguments)}},467:(ne,N,A)=>{function g(R,b,L,S,C,w,O){try{var U=R[w](O),I=U.value}catch(k){return void L(k)}U.done?b(I):Promise.resolve(I).then(S,C)}function T(R){return function(){var b=this,L=arguments;return new Promise(function(S,C){var w=R.apply(b,L);function O(I){g(w,S,C,O,U,"next",I)}function U(I){g(w,S,C,O,U,"throw",I)}O(void 0)})}}A.d(N,{A:()=>T})},1635:(ne,N,A)=>{A.r(N),A.d(N,{__addDisposableResource:()=>_,__assign:()=>R,__asyncDelegator:()=>H,__asyncGenerator:()=>x,__asyncValues:()=>Y,__await:()=>V,__awaiter:()=>k,__classPrivateFieldGet:()=>v,__classPrivateFieldIn:()=>j,__classPrivateFieldSet:()=>D,__createBinding:()=>K,__decorate:()=>L,__disposeResources:()=>te,__esDecorate:()=>C,__exportStar:()=>W,__extends:()=>T,__generator:()=>B,__importDefault:()=>p,__importStar:()=>d,__makeTemplateObject:()=>q,__metadata:()=>I,__param:()=>S,__propKey:()=>O,__read:()=>F,__rest:()=>b,__rewriteRelativeImportExtension:()=>re,__runInitializers:()=>w,__setFunctionName:()=>U,__spread:()=>Z,__spreadArray:()=>Q,__spreadArrays:()=>f,__values:()=>$,default:()=>oe});var g=function(n,o){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])})(n,o)};function T(n,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function i(){this.constructor=n}g(n,o),n.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}var R=function(){return R=Object.assign||function(o){for(var i,s=1,r=arguments.length;s<r;s++)for(var a in i=arguments[s])Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=i[a]);return o},R.apply(this,arguments)};function b(n,o){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&o.indexOf(s)<0&&(i[s]=n[s]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(n);r<s.length;r++)o.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(n,s[r])&&(i[s[r]]=n[s[r]])}return i}function L(n,o,i,s){var e,r=arguments.length,a=r<3?o:null===s?s=Object.getOwnPropertyDescriptor(o,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,i,s);else for(var t=n.length-1;t>=0;t--)(e=n[t])&&(a=(r<3?e(a):r>3?e(o,i,a):e(o,i))||a);return r>3&&a&&Object.defineProperty(o,i,a),a}function S(n,o){return function(i,s){o(i,s,n)}}function C(n,o,i,s,r,a){function e(J){if(void 0!==J&&"function"!=typeof J)throw new TypeError("Function expected");return J}for(var m,t=s.kind,l="getter"===t?"get":"setter"===t?"set":"value",c=!o&&n?s.static?n:n.prototype:null,u=o||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),E=!1,h=i.length-1;h>=0;h--){var y={};for(var M in s)y[M]="access"===M?{}:s[M];for(var M in s.access)y.access[M]=s.access[M];y.addInitializer=function(J){if(E)throw new TypeError("Cannot add initializers after decoration has completed");a.push(e(J||null))};var P=(0,i[h])("accessor"===t?{get:u.get,set:u.set}:u[l],y);if("accessor"===t){if(void 0===P)continue;if(null===P||"object"!=typeof P)throw new TypeError("Object expected");(m=e(P.get))&&(u.get=m),(m=e(P.set))&&(u.set=m),(m=e(P.init))&&r.unshift(m)}else(m=e(P))&&("field"===t?r.unshift(m):u[l]=m)}c&&Object.defineProperty(c,s.name,u),E=!0}function w(n,o,i){for(var s=arguments.length>2,r=0;r<o.length;r++)i=s?o[r].call(n,i):o[r].call(n);return s?i:void 0}function O(n){return"symbol"==typeof n?n:"".concat(n)}function U(n,o,i){return"symbol"==typeof o&&(o=o.description?"[".concat(o.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:i?"".concat(i," ",o):o})}function I(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,o)}function k(n,o,i,s){return new(i||(i=Promise))(function(a,e){function t(u){try{c(s.next(u))}catch(m){e(m)}}function l(u){try{c(s.throw(u))}catch(m){e(m)}}function c(u){u.done?a(u.value):function r(a){return a instanceof i?a:new i(function(e){e(a)})}(u.value).then(t,l)}c((s=s.apply(n,o||[])).next())})}function B(n,o){var s,r,a,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return e.next=t(0),e.throw=t(1),e.return=t(2),"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(c){return function(u){return function l(c){if(s)throw new TypeError("Generator is already executing.");for(;e&&(e=0,c[0]&&(i=0)),i;)try{if(s=1,r&&(a=2&c[0]?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[2&c[0],a.value]),c[0]){case 0:case 1:a=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!a||c[1]>a[0]&&c[1]<a[3])){i.label=c[1];break}if(6===c[0]&&i.label<a[1]){i.label=a[1],a=c;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(c);break}a[2]&&i.ops.pop(),i.trys.pop();continue}c=o.call(n,i)}catch(u){c=[6,u],r=0}finally{s=a=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}}var K=Object.create?function(n,o,i,s){void 0===s&&(s=i);var r=Object.getOwnPropertyDescriptor(o,i);(!r||("get"in r?!o.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,r)}:function(n,o,i,s){void 0===s&&(s=i),n[s]=o[i]};function W(n,o){for(var i in n)"default"!==i&&!Object.prototype.hasOwnProperty.call(o,i)&&K(o,n,i)}function $(n){var o="function"==typeof Symbol&&Symbol.iterator,i=o&&n[o],s=0;if(i)return i.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(n,o){var i="function"==typeof Symbol&&n[Symbol.iterator];if(!i)return n;var r,e,s=i.call(n),a=[];try{for(;(void 0===o||o-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(t){e={error:t}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return a}function Z(){for(var n=[],o=0;o<arguments.length;o++)n=n.concat(F(arguments[o]));return n}function f(){for(var n=0,o=0,i=arguments.length;o<i;o++)n+=arguments[o].length;var s=Array(n),r=0;for(o=0;o<i;o++)for(var a=arguments[o],e=0,t=a.length;e<t;e++,r++)s[r]=a[e];return s}function Q(n,o,i){if(i||2===arguments.length)for(var a,s=0,r=o.length;s<r;s++)(a||!(s in o))&&(a||(a=Array.prototype.slice.call(o,0,s)),a[s]=o[s]);return n.concat(a||Array.prototype.slice.call(o))}function V(n){return this instanceof V?(this.v=n,this):new V(n)}function x(n,o,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=i.apply(n,o||[]),a=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),t("next"),t("throw"),t("return",function e(h){return function(y){return Promise.resolve(y).then(h,m)}}),r[Symbol.asyncIterator]=function(){return this},r;function t(h,y){s[h]&&(r[h]=function(M){return new Promise(function(P,J){a.push([h,M,P,J])>1||l(h,M)})},y&&(r[h]=y(r[h])))}function l(h,y){try{!function c(h){h.value instanceof V?Promise.resolve(h.value.v).then(u,m):E(a[0][2],h)}(s[h](y))}catch(M){E(a[0][3],M)}}function u(h){l("next",h)}function m(h){l("throw",h)}function E(h,y){h(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function H(n){var o,i;return o={},s("next"),s("throw",function(r){throw r}),s("return"),o[Symbol.iterator]=function(){return this},o;function s(r,a){o[r]=n[r]?function(e){return(i=!i)?{value:V(n[r](e)),done:!1}:a?a(e):e}:a}}function Y(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n[Symbol.asyncIterator];return o?o.call(n):(n=$(n),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(a){i[a]=n[a]&&function(e){return new Promise(function(t,l){!function r(a,e,t,l){Promise.resolve(l).then(function(c){a({value:c,done:t})},e)}(t,l,(e=n[a](e)).done,e.value)})}}}function q(n,o){return Object.defineProperty?Object.defineProperty(n,"raw",{value:o}):n.raw=o,n}var ee=Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o},G=function(n){return(G=Object.getOwnPropertyNames||function(o){var i=[];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[i.length]=s);return i})(n)};function d(n){if(n&&n.__esModule)return n;var o={};if(null!=n)for(var i=G(n),s=0;s<i.length;s++)"default"!==i[s]&&K(o,n,i[s]);return ee(o,n),o}function p(n){return n&&n.__esModule?n:{default:n}}function v(n,o,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof o?n!==o||!s:!o.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(n):s?s.value:o.get(n)}function D(n,o,i,s,r){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!r)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof o?n!==o||!r:!o.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?r.call(n,i):r?r.value=i:o.set(n,i),i}function j(n,o){if(null===o||"object"!=typeof o&&"function"!=typeof o)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof n?o===n:n.has(o)}function _(n,o,i){if(null!=o){if("object"!=typeof o&&"function"!=typeof o)throw new TypeError("Object expected.");var s,r;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=o[Symbol.asyncDispose]}if(void 0===s){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=o[Symbol.dispose],i&&(r=s)}if("function"!=typeof s)throw new TypeError("Object not disposable.");r&&(s=function(){try{r.call(this)}catch(a){return Promise.reject(a)}}),n.stack.push({value:o,dispose:s,async:i})}else i&&n.stack.push({async:!0});return o}var z="function"==typeof SuppressedError?SuppressedError:function(n,o,i){var s=new Error(i);return s.name="SuppressedError",s.error=n,s.suppressed=o,s};function te(n){function o(a){n.error=n.hasError?new z(a,n.error,"An error was suppressed during disposal."):a,n.hasError=!0}var i,s=0;return function r(){for(;i=n.stack.pop();)try{if(!i.async&&1===s)return s=0,n.stack.push(i),Promise.resolve().then(r);if(i.dispose){var a=i.dispose.call(i.value);if(i.async)return s|=2,Promise.resolve(a).then(r,function(e){return o(e),r()})}else s|=1}catch(e){o(e)}if(1===s)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}()}function re(n,o){return"string"==typeof n&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(i,s,r,a,e){return s?o?".jsx":".js":!r||a&&e?r+a+"."+e.toLowerCase()+"js":i}):n}const oe={__extends:T,__assign:R,__rest:b,__decorate:L,__param:S,__esDecorate:C,__runInitializers:w,__propKey:O,__setFunctionName:U,__metadata:I,__awaiter:k,__generator:B,__createBinding:K,__exportStar:W,__values:$,__read:F,__spread:Z,__spreadArrays:f,__spreadArray:Q,__await:V,__asyncGenerator:x,__asyncDelegator:H,__asyncValues:Y,__makeTemplateObject:q,__importStar:d,__importDefault:p,__classPrivateFieldGet:v,__classPrivateFieldSet:D,__classPrivateFieldIn:j,__addDisposableResource:_,__disposeResources:te,__rewriteRelativeImportExtension:re}}}]);