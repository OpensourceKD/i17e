(self.webpackChunkshell=self.webpackChunkshell||[]).push([[151],{1151:(W,f,a)=>{a.r(f),a.d(f,{bootstrap:()=>L});var x=a(4077),u=a(467),e=a(4304),s=a(2130),l=a(5070),p=a(2176),g=a(5883);function b(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"span",10),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",n.getOrganizationName()," ")}}function M(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"option",16),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=i.$implicit;e.\u0275\u0275property("value",n.id),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.name)}}function _(t,i){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",11)(1,"div",12)(2,"label",13),e.\u0275\u0275text(3,"View data for:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",14),e.\u0275\u0275text(5," Selecting a user will display their incentive data. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"select",15),e.\u0275\u0275twoWayListener("ngModelChange",function(r){e.\u0275\u0275restoreView(n);const m=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(m.selectedSalesExecutiveId,r)||(m.selectedSalesExecutiveId=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onSalesExecutiveChange())}),e.\u0275\u0275elementStart(7,"option",16),e.\u0275\u0275text(8,"My Data"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,M,2,2,"option",17),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275twoWayProperty("ngModel",n.selectedSalesExecutiveId),e.\u0275\u0275advance(),e.\u0275\u0275property("value",n.currentUser.id),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",n.salesExecutives)}}function w(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"span",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate2(" ",n.currentUser.name," (",n.currentUser.role,") ")}}function S(t,i){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",19),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.logout())}),e.\u0275\u0275text(1,"Logout"),e.\u0275\u0275elementEnd()}}function P(t,i){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.login())}),e.\u0275\u0275text(1,"Login"),e.\u0275\u0275elementEnd()}}function E(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"a",23),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=i.$implicit;e.\u0275\u0275property("routerLink","/"+n.route),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",n.displayName," ")}}function O(t,i){if(1&t&&(e.\u0275\u0275elementStart(0,"nav",21),e.\u0275\u0275template(1,E,2,2,"a",22),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",n.availableMfes)}}let I=(()=>{class t{constructor(n){this.router=n,this.currentUser=null,this.userProfile=null,this.availableMfes=[],this.salesExecutives=[],this.selectedSalesExecutiveId="",this.canViewOthers=!1,this.subscriptions=new g.Subscription,console.warn("[HeaderComponent] Services disabled - migrate to @opensourcekd/ng-common-libs")}ngOnInit(){}ngOnDestroy(){this.subscriptions.unsubscribe()}login(){console.warn("[HeaderComponent] Login disabled")}logout(){console.warn("[HeaderComponent] Logout disabled")}onSalesExecutiveChange(){console.warn("[HeaderComponent] User selection disabled")}getOrganizationName(){return""}static{this.\u0275fac=function(o){return new(o||t)(e.\u0275\u0275directiveInject(s.Router))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-header"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:11,vars:6,consts:[[1,"app-header"],[1,"header-left"],[1,"app-title"],["class","org-display",4,"ngIf"],["class","header-center",4,"ngIf"],[1,"header-right"],["class","user-info",4,"ngIf"],["class","btn-logout",3,"click",4,"ngIf"],["class","btn-login",3,"click",4,"ngIf"],["class","app-nav",4,"ngIf"],[1,"org-display"],[1,"header-center"],[1,"user-selector"],["for","salesExecSelect"],["id","salesExecSelectDesc",1,"visually-hidden"],["id","salesExecSelect","aria-describedby","salesExecSelectDesc",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"user-info"],[1,"btn-logout",3,"click"],[1,"btn-login",3,"click"],[1,"app-nav"],["routerLinkActive","active","class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"h1",2),e.\u0275\u0275text(3,"Incentive Management System"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,b,2,1,"span",3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(5,_,10,3,"div",4),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275template(7,w,2,2,"span",6)(8,S,2,0,"button",7)(9,P,2,0,"button",8),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(10,O,2,1,"nav",9)),2&o&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",r.currentUser&&r.getOrganizationName()),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",r.currentUser&&r.canViewOthers),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.currentUser),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",r.currentUser),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!r.currentUser),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",r.currentUser))},dependencies:[l.CommonModule,l.NgForOf,l.NgIf,p.FormsModule,p.NgSelectOption,p.\u0275NgSelectMultipleOption,p.SelectControlValueAccessor,p.NgControlStatus,p.NgModel,s.RouterLink,s.RouterLinkActive],styles:[".app-header[_ngcontent-%COMP%]{background:#fff;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 8px #0000001a}.header-left[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:var(--gray-900);font-weight:600}.org-display[_ngcontent-%COMP%]{font-size:.875rem;color:var(--bright-blue);font-weight:600;text-transform:uppercase}.header-center[_ngcontent-%COMP%]{flex:2;display:flex;justify-content:center}.user-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--gray-700);font-weight:500}.user-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--gray-400);border-radius:.375rem;font-size:.875rem;background:#fff;cursor:pointer;min-width:200px}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.header-right[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end;align-items:center;gap:1rem}.user-info[_ngcontent-%COMP%]{color:var(--gray-700);font-size:.875rem;font-weight:500}.btn-logout[_ngcontent-%COMP%], .btn-login[_ngcontent-%COMP%]{background:var(--hot-red);color:#fff;border:none;padding:.5rem 1.5rem;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .2s ease}.btn-logout[_ngcontent-%COMP%]:hover, .btn-login[_ngcontent-%COMP%]:hover{background:var(--orange-red)}.btn-login[_ngcontent-%COMP%]{background:var(--bright-blue)}.btn-login[_ngcontent-%COMP%]:hover{background:var(--electric-violet)}.app-nav[_ngcontent-%COMP%]{background:var(--gray-900);padding:0;display:flex;gap:0}.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:1rem 1.5rem;font-size:.875rem;font-weight:500;transition:background .2s ease;border-bottom:3px solid transparent}.nav-link[_ngcontent-%COMP%]:hover{background:var(--gray-700)}.nav-link.active[_ngcontent-%COMP%]{background:var(--bright-blue);border-bottom-color:var(--electric-violet)}"]})}}return t})(),k=(()=>{class t{constructor(){this.currentYear=(new Date).getFullYear()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-footer"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[[1,"app-footer"],[1,"copyright"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"footer",0)(1,"p",1),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\xa9 ",r.currentYear," Incentive Management System. All rights reserved."))},styles:[".app-footer[_ngcontent-%COMP%]{background:var(--gray-900);color:#fff;padding:1rem 2rem;margin-top:auto;text-align:center}.app-footer[_ngcontent-%COMP%]   .copyright[_ngcontent-%COMP%]{margin:0;font-size:.875rem}"]})}}return t})();var c=a(7544);let A=(()=>{class t{constructor(n,o){this.router=n,this.route=o,this.title="Incentive Management System",this.subscriptions=new g.Subscription,this.eventBus=(0,e.inject)(c.EventBus),this.authService=(0,e.inject)(c.AuthService),console.log("[AppComponent] Initialized (auth/role/mfe services disabled)")}ngOnInit(){var n=this;return(0,u.A)(function*(){console.log("[AppComponent] ngOnInit (minimal functionality)"),console.log("[AppComponent] EventBus id:",n.eventBus.getId()),console.log("[AppComponent] AuthService id:",n.authService.getId())})()}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(o){return new(o||t)(e.\u0275\u0275directiveInject(s.Router),e.\u0275\u0275directiveInject(s.ActivatedRoute))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-root"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:5,vars:0,consts:[[1,"app-container"],[1,"app-content"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-header"),e.\u0275\u0275elementStart(2,"main",1),e.\u0275\u0275element(3,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"app-footer"),e.\u0275\u0275elementEnd())},dependencies:[s.RouterOutlet,l.CommonModule,p.FormsModule,I,k],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.app-content[_ngcontent-%COMP%]{flex:1;padding:2rem;background:#f5f5f5}']})}}return t})();var h=a(8072);const v=()=>(console.warn("[adminGuard] DEPRECATED: Allowing all access"),!0),C=()=>(console.warn("[allRolesGuard] DEPRECATED: Allowing all access"),!0);var F=a(7412),T=a(1913);const R=["container"];let d=(()=>{class t{constructor(){this.name=""}ngAfterViewInit(){var n=this;return(0,u.A)(function*(){const o=F.Ay.find(({remoteName:r})=>r===n.name);if(o)try{console.log(`[MfeWrapperComponent] Loading MFE: ${n.name}`,o);const r=yield(0,T.loadRemoteModule)(o);if(!r||!r.AppComponent)return void console.error(`[MfeWrapperComponent] MFE module or AppComponent not found for: ${n.name}`);console.log(`[MfeWrapperComponent] Creating component for MFE: ${n.name}`),n.remoteContainer.createComponent(r.AppComponent),console.log(`[MfeWrapperComponent] MFE loaded successfully: ${n.name}`)}catch(r){console.error(`[MfeWrapperComponent] Error loading MFE ${n.name}:`,r)}else console.error(`[MfeWrapperComponent] MFE configuration not found for: ${n.name}`)})()}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-mfe-wrapper"]],viewQuery:function(o,r){if(1&o&&e.\u0275\u0275viewQuery(R,7,e.ViewContainerRef),2&o){let m;e.\u0275\u0275queryRefresh(m=e.\u0275\u0275loadQuery())&&(r.remoteContainer=m.first)}},inputs:{name:"name"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:0,consts:[["container",""]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"mfe-wrapper works!"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainer(2,null,0))},dependencies:[l.CommonModule],changeDetection:0})}}return t})(),N=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-home-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:6,vars:1,consts:[[1,"home-container"],[1,"welcome-text"],[3,"name"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h1"),e.\u0275\u0275text(2,"Incentive Management System"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p",1),e.\u0275\u0275text(4,"Welcome to the Incentive Management System. Use the navigation menu to access the available modules based on your role."),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"app-mfe-wrapper",2),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(5),e.\u0275\u0275property("name","usersCrud"))},dependencies:[l.CommonModule,d],styles:[".home-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.home-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem;font-size:2rem}.home-container[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{color:#666;font-size:1.1rem;margin-bottom:2rem}"]})}}return t})(),j=(()=>{class t{constructor(){this.mfeName="crudRules"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-rules-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",r.mfeName))},dependencies:[d],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return t})(),H=(()=>{class t{constructor(){this.mfeName="mySales"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-sales-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",r.mfeName))},dependencies:[d],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return t})(),V=(()=>{class t{constructor(){this.mfeName="myReport"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-reports-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",r.mfeName))},dependencies:[d],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return t})(),U=(()=>{class t{constructor(){this.mfeName="usersCrud"}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-users-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",r.mfeName))},dependencies:[d],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return t})();function z(t,i){1&t&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"Processing authentication..."),e.\u0275\u0275elementEnd())}const D=[{path:"",component:N},{path:"auth-callback",component:(()=>{class t{constructor(n,o){this.route=n,this.router=o,this.message="Authentication disabled - redirecting...",this.isProcessing=!1,this.destroy$=new g.Subject,console.warn("[AuthCallbackComponent] Auth services disabled")}ngOnInit(){var n=this;return(0,u.A)(function*(){setTimeout(()=>{n.router.navigate(["/"])},1500)})()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(o){return new(o||t)(e.\u0275\u0275directiveInject(s.ActivatedRoute),e.\u0275\u0275directiveInject(s.Router))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-auth-callback"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:5,vars:2,consts:[[2,"display","flex","justify-content","center","align-items","center","height","100vh"],[2,"text-align","center"],[4,"ngIf"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h2"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,z,2,0,"p",2),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(r.message),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",r.isProcessing))},dependencies:[l.CommonModule,l.NgIf],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100vh}"]})}}return t})()},{path:"rules",component:j,canActivate:[v]},{path:"sales",component:H,canActivate:[C]},{path:"reports",component:V,canActivate:[C]},{path:"users",component:U,canActivate:[v]},{path:"**",redirectTo:""}],y=new c.EventBus({id:"shell"}),G=new c.AuthService({domain:c.APP_CONFIG.auth0Domain,clientId:c.APP_CONFIG.auth0ClientId,redirectUri:window.location.origin+"/auth-callback",logoutUri:window.location.origin,scope:"openid profile email"},y,void 0,void 0,{id:"shell"});function L(){return(0,x.bootstrapApplication)(A,{providers:[(0,s.provideRouter)(D),(0,h.provideHttpClient)((0,h.withFetch)()),{provide:c.EventBus,useValue:y},{provide:c.AuthService,useValue:G},{provide:"APP_CONFIG",useValue:c.APP_CONFIG}]})}}}]);