(self.webpackChunkshell=self.webpackChunkshell||[]).push([[361,742],{4412:(ot,ge,W)=>{W.d(ge,{t:()=>Z});var D=W(1413);class Z extends D.B{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const K=super._subscribe(X);return!K.closed&&X.next(this._value),K}getValue(){const{hasError:X,thrownError:K,_value:$}=this;if(X)throw K;return this._throwIfClosed(),$}next(X){super.next(this._value=X)}}},1985:(ot,ge,W)=>{W.d(ge,{c:()=>Ee});var D=W(7707),Z=W(8359),le=W(3494),X=W(1203),K=W(1026),$=W(8071),de=W(9786);let Ee=(()=>{class Y{constructor(we){we&&(this._subscribe=we)}lift(we){const Be=new Y;return Be.source=this,Be.operator=we,Be}subscribe(we,Be,it){const We=function F(Y){return Y&&Y instanceof D.vU||function q(Y){return Y&&(0,$.T)(Y.next)&&(0,$.T)(Y.error)&&(0,$.T)(Y.complete)}(Y)&&(0,Z.Uv)(Y)}(we)?we:new D.Ms(we,Be,it);return(0,de.Y)(()=>{const{operator:Ot,source:qt}=this;We.add(Ot?Ot.call(We,qt):qt?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(we){try{return this._subscribe(we)}catch(Be){we.error(Be)}}forEach(we,Be){return new(Be=ue(Be))((it,We)=>{const Ot=new D.Ms({next:qt=>{try{we(qt)}catch(Er){We(Er),Ot.unsubscribe()}},error:We,complete:it});this.subscribe(Ot)})}_subscribe(we){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(we)}[le.s](){return this}pipe(...we){return(0,X.m)(we)(this)}toPromise(we){return new(we=ue(we))((Be,it)=>{let We;this.subscribe(Ot=>We=Ot,Ot=>it(Ot),()=>Be(We))})}}return Y.create=Ze=>new Y(Ze),Y})();function ue(Y){var Ze;return null!==(Ze=Y??K.$.Promise)&&void 0!==Ze?Ze:Promise}},7175:(ot,ge,W)=>{W.d(ge,{m:()=>le});var D=W(1413);const Z={now:()=>(Z.delegate||Date).now(),delegate:void 0};class le extends D.B{constructor(K=1/0,$=1/0,de=Z){super(),this._bufferSize=K,this._windowTime=$,this._timestampProvider=de,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=$===1/0,this._bufferSize=Math.max(1,K),this._windowTime=Math.max(1,$)}next(K){const{isStopped:$,_buffer:de,_infiniteTimeWindow:Ee,_timestampProvider:ue,_windowTime:q}=this;$||(de.push(K),!Ee&&de.push(ue.now()+q)),this._trimBuffer(),super.next(K)}_subscribe(K){this._throwIfClosed(),this._trimBuffer();const $=this._innerSubscribe(K),{_infiniteTimeWindow:de,_buffer:Ee}=this,ue=Ee.slice();for(let q=0;q<ue.length&&!K.closed;q+=de?1:2)K.next(ue[q]);return this._checkFinalizedStatuses(K),$}_trimBuffer(){const{_bufferSize:K,_timestampProvider:$,_buffer:de,_infiniteTimeWindow:Ee}=this,ue=(Ee?1:2)*K;if(K<1/0&&ue<de.length&&de.splice(0,de.length-ue),!Ee){const q=$.now();let F=0;for(let Y=1;Y<de.length&&de[Y]<=q;Y+=2)F=Y;F&&de.splice(0,F+1)}}}},1413:(ot,ge,W)=>{W.d(ge,{B:()=>de});var D=W(1985),Z=W(8359);const X=(0,W(1853).L)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var K=W(7908),$=W(9786);let de=(()=>{class ue extends D.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const Y=new Ee(this,this);return Y.operator=F,Y}_throwIfClosed(){if(this.closed)throw new X}next(F){(0,$.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(F)}})}error(F){(0,$.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:Y}=this;for(;Y.length;)Y.shift().error(F)}})}complete(){(0,$.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:Y,isStopped:Ze,observers:we}=this;return Y||Ze?Z.Kn:(this.currentObservers=null,we.push(F),new Z.yU(()=>{this.currentObservers=null,(0,K.o)(we,F)}))}_checkFinalizedStatuses(F){const{hasError:Y,thrownError:Ze,isStopped:we}=this;Y?F.error(Ze):we&&F.complete()}asObservable(){const F=new D.c;return F.source=this,F}}return ue.create=(q,F)=>new Ee(q,F),ue})();class Ee extends de{constructor(q,F){super(),this.destination=q,this.source=F}next(q){var F,Y;null===(Y=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===Y||Y.call(F,q)}error(q){var F,Y;null===(Y=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===Y||Y.call(F,q)}complete(){var q,F;null===(F=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===F||F.call(q)}_subscribe(q){var F,Y;return null!==(Y=null===(F=this.source)||void 0===F?void 0:F.subscribe(q))&&void 0!==Y?Y:Z.Kn}}},7707:(ot,ge,W)=>{W.d(ge,{Ms:()=>it,vU:()=>Y});var D=W(8071),Z=W(8359),le=W(1026),X=W(5334),K=W(5343);const $=ue("C",void 0,void 0);function ue(Re,te,Fe){return{kind:Re,value:te,error:Fe}}var q=W(9270),F=W(9786);class Y extends Z.yU{constructor(te){super(),this.isStopped=!1,te?(this.destination=te,(0,Z.Uv)(te)&&te.add(this)):this.destination=Er}static create(te,Fe,ht){return new it(te,Fe,ht)}next(te){this.isStopped?qt(function Ee(Re){return ue("N",Re,void 0)}(te),this):this._next(te)}error(te){this.isStopped?qt(function de(Re){return ue("E",void 0,Re)}(te),this):(this.isStopped=!0,this._error(te))}complete(){this.isStopped?qt($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(te){this.destination.next(te)}_error(te){try{this.destination.error(te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ze=Function.prototype.bind;function we(Re,te){return Ze.call(Re,te)}class Be{constructor(te){this.partialObserver=te}next(te){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(te)}catch(ht){We(ht)}}error(te){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(te)}catch(ht){We(ht)}else We(te)}complete(){const{partialObserver:te}=this;if(te.complete)try{te.complete()}catch(Fe){We(Fe)}}}class it extends Y{constructor(te,Fe,ht){let xn;if(super(),(0,D.T)(te)||!te)xn={next:te??void 0,error:Fe??void 0,complete:ht??void 0};else{let Nn;this&&le.$.useDeprecatedNextContext?(Nn=Object.create(te),Nn.unsubscribe=()=>this.unsubscribe(),xn={next:te.next&&we(te.next,Nn),error:te.error&&we(te.error,Nn),complete:te.complete&&we(te.complete,Nn)}):xn=te}this.destination=new Be(xn)}}function We(Re){le.$.useDeprecatedSynchronousErrorHandling?(0,F.l)(Re):(0,X.m)(Re)}function qt(Re,te){const{onStoppedNotification:Fe}=le.$;Fe&&q.f.setTimeout(()=>Fe(Re,te))}const Er={closed:!0,next:K.l,error:function Ot(Re){throw Re},complete:K.l}},8359:(ot,ge,W)=>{W.d(ge,{Kn:()=>$,yU:()=>K,Uv:()=>de});var D=W(8071);const le=(0,W(1853).L)(ue=>function(F){ue(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((Y,Ze)=>`${Ze+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var X=W(7908);class K{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const we of F)we.remove(this);else F.remove(this);const{initialTeardown:Y}=this;if((0,D.T)(Y))try{Y()}catch(we){q=we instanceof le?we.errors:[we]}const{_finalizers:Ze}=this;if(Ze){this._finalizers=null;for(const we of Ze)try{Ee(we)}catch(Be){q=q??[],Be instanceof le?q=[...q,...Be.errors]:q.push(Be)}}if(q)throw new le(q)}}add(q){var F;if(q&&q!==this)if(this.closed)Ee(q);else{if(q instanceof K){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(q)}}_hasParent(q){const{_parentage:F}=this;return F===q||Array.isArray(F)&&F.includes(q)}_addParent(q){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(q),F):F?[F,q]:q}_removeParent(q){const{_parentage:F}=this;F===q?this._parentage=null:Array.isArray(F)&&(0,X.o)(F,q)}remove(q){const{_finalizers:F}=this;F&&(0,X.o)(F,q),q instanceof K&&q._removeParent(this)}}K.EMPTY=(()=>{const ue=new K;return ue.closed=!0,ue})();const $=K.EMPTY;function de(ue){return ue instanceof K||ue&&"closed"in ue&&(0,D.T)(ue.remove)&&(0,D.T)(ue.add)&&(0,D.T)(ue.unsubscribe)}function Ee(ue){(0,D.T)(ue)?ue():ue.unsubscribe()}},1026:(ot,ge,W)=>{W.d(ge,{$:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4360:(ot,ge,W)=>{W.d(ge,{_:()=>Z});var D=W(7707);function Z(X,K,$,de,Ee){return new le(X,K,$,de,Ee)}class le extends D.vU{constructor(K,$,de,Ee,ue,q){super(K),this.onFinalize=ue,this.shouldUnsubscribe=q,this._next=$?function(F){try{$(F)}catch(Y){K.error(Y)}}:super._next,this._error=Ee?function(F){try{Ee(F)}catch(Y){K.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(F){K.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var K;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:$}=this;super.unsubscribe(),!$&&(null===(K=this.onFinalize)||void 0===K||K.call(this))}}}},5964:(ot,ge,W)=>{W.d(ge,{p:()=>le});var D=W(9974),Z=W(4360);function le(X,K){return(0,D.N)(($,de)=>{let Ee=0;$.subscribe((0,Z._)(de,ue=>X.call(K,ue,Ee++)&&de.next(ue)))})}},6354:(ot,ge,W)=>{W.d(ge,{T:()=>le});var D=W(9974),Z=W(4360);function le(X,K){return(0,D.N)(($,de)=>{let Ee=0;$.subscribe((0,Z._)(de,ue=>{de.next(X.call(K,ue,Ee++))}))})}},9270:(ot,ge,W)=>{W.d(ge,{f:()=>D});const D={setTimeout(Z,le,...X){const{delegate:K}=D;return K?.setTimeout?K.setTimeout(Z,le,...X):setTimeout(Z,le,...X)},clearTimeout(Z){const{delegate:le}=D;return(le?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},3494:(ot,ge,W)=>{W.d(ge,{s:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},7908:(ot,ge,W)=>{function D(Z,le){if(Z){const X=Z.indexOf(le);0<=X&&Z.splice(X,1)}}W.d(ge,{o:()=>D})},1853:(ot,ge,W)=>{function D(Z){const X=Z(K=>{Error.call(K),K.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}W.d(ge,{L:()=>D})},9786:(ot,ge,W)=>{W.d(ge,{Y:()=>le,l:()=>X});var D=W(1026);let Z=null;function le(K){if(D.$.useDeprecatedSynchronousErrorHandling){const $=!Z;if($&&(Z={errorThrown:!1,error:null}),K(),$){const{errorThrown:de,error:Ee}=Z;if(Z=null,de)throw Ee}}else K()}function X(K){D.$.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=K)}},3669:(ot,ge,W)=>{function D(Z){return Z}W.d(ge,{D:()=>D})},8071:(ot,ge,W)=>{function D(Z){return"function"==typeof Z}W.d(ge,{T:()=>D})},9974:(ot,ge,W)=>{W.d(ge,{N:()=>le,S:()=>Z});var D=W(8071);function Z(X){return(0,D.T)(X?.lift)}function le(X){return K=>{if(Z(K))return K.lift(function($){try{return X($,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(ot,ge,W)=>{function D(){}W.d(ge,{l:()=>D})},1203:(ot,ge,W)=>{W.d(ge,{F:()=>Z,m:()=>le});var D=W(3669);function Z(...X){return le(X)}function le(X){return 0===X.length?D.D:1===X.length?X[0]:function($){return X.reduce((de,Ee)=>Ee(de),$)}}},5334:(ot,ge,W)=>{W.d(ge,{m:()=>le});var D=W(1026),Z=W(9270);function le(X){Z.f.setTimeout(()=>{const{onUnhandledError:K}=D.$;if(!K)throw X;K(X)})}},4438:(ot,ge,W)=>{function D(e,t){return Object.is(e,t)}W.d(ge,{iLQ:()=>ad,sZ2:()=>sl,o8S:()=>br,BIS:()=>lE,gRc:()=>PI,Ql9:()=>mx,Ocv:()=>Ex,Z63:()=>Ln,aKT:()=>tc,uvJ:()=>je,zcH:()=>Hr,bkB:()=>yr,$GK:()=>be,_qm:()=>Mb,nKC:()=>ve,zZn:()=>Xt,_q3:()=>Fp,MKu:()=>Vp,xe9:()=>Rp,Co$:()=>Av,Vns:()=>ui,SKi:()=>rt,Agw:()=>al,PLl:()=>nm,sFG:()=>nS,_9s:()=>mh,czy:()=>_l,C4Q:()=>_c,NYb:()=>cx,giA:()=>_I,RxE:()=>dI,c1b:()=>jl,gXe:()=>Gn,L39:()=>bN,EWP:()=>DN,Ol2:()=>Rh,w6W:()=>GS,Rfq:()=>Co,WQX:()=>H,QuC:()=>sr,EmA:()=>In,N4e:()=>Mu,vPA:()=>lv,O8t:()=>CN,H3F:()=>fI,H8p:()=>mt,KH2:()=>Bs,TgB:()=>ti,wOt:()=>J,WHO:()=>yI,e01:()=>vI,H5H:()=>cp,Zy3:()=>vn,mq5:()=>P_,JZv:()=>st,TL3:()=>nN,LfX:()=>xd,plB:()=>vo,jNT:()=>Ap,zjR:()=>wI,TL$:()=>cE,Tbb:()=>pt,Vt3:()=>Ah,GFd:()=>Mv,OA$:()=>Ko,Jv_:()=>Uw,aNF:()=>Bw,R7$:()=>Ym,BMQ:()=>Gh,AVh:()=>Xh,wni:()=>gw,VBU:()=>jo,FsC:()=>Da,jDH:()=>ke,G2t:()=>Di,$C:()=>Fo,EJ8:()=>eo,rXU:()=>ys,nrm:()=>op,eu8:()=>ap,k0s:()=>Ql,j41:()=>Zl,RV6:()=>N_,xGo:()=>wg,KVO:()=>Ve,kS0:()=>el,bIt:()=>dp,lsd:()=>vw,XpG:()=>iw,Y8G:()=>Qh,mGM:()=>yw,Njj:()=>Wu,eBV:()=>Bu,n$t:()=>Mm,DNE:()=>Oh,EFF:()=>Mw,JRh:()=>gp,SpI:()=>nd,Lme:()=>mp,DH7:()=>jw,mxI:()=>vp,R50:()=>yp,GBs:()=>mw});let Z=null,le=!1,X=1;const K=Symbol("SIGNAL");function $(e){const t=Z;return Z=e,t}const q={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function F(e){if(le)throw new Error("");if(null===Z)return;Z.consumerOnSignalRead(e);const t=Z.nextProducerIndex++;ht(Z),t<Z.producerNode.length&&Z.producerNode[t]!==e&&Fe(Z)&&te(Z.producerNode[t],Z.producerIndexOfThis[t]),Z.producerNode[t]!==e&&(Z.producerNode[t]=e,Z.producerIndexOfThis[t]=Fe(Z)?Re(e,Z,t):0),Z.producerLastReadVersion[t]=e.version}function Ze(e){if((!Fe(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==X)){if(!e.producerMustRecompute(e)&&!qt(e))return e.dirty=!1,void(e.lastCleanEpoch=X);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=X}}function we(e){if(void 0===e.liveConsumerNode)return;const t=le;le=!0;try{for(const n of e.liveConsumerNode)n.dirty||it(n)}finally{le=t}}function Be(){return!1!==Z?.consumerAllowSignalWrites}function it(e){e.dirty=!0,we(e),e.consumerMarkedDirty?.(e)}function We(e){return e&&(e.nextProducerIndex=0),$(e)}function Ot(e,t){if($(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Fe(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)te(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function qt(e){ht(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Ze(n),r!==n.version))return!0}return!1}function Er(e){if(ht(e),Fe(e))for(let t=0;t<e.producerNode.length;t++)te(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Re(e,t,n){if(xn(e),0===e.liveConsumerNode.length&&Nn(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Re(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function te(e,t){if(xn(e),1===e.liveConsumerNode.length&&Nn(e))for(let r=0;r<e.producerNode.length;r++)te(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];ht(o),o.producerIndexOfThis[r]=t}}function Fe(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ht(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function xn(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Nn(e){return void 0!==e.producerNode}const qs=Symbol("UNSET"),Js=Symbol("COMPUTING"),gi=Symbol("ERRORED"),Yc={...q,value:qs,dirty:!0,error:null,equal:D,producerMustRecompute:e=>e.value===qs||e.value===Js,producerRecomputeValue(e){if(e.value===Js)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Js;const n=We(e);let r;try{r=e.computation()}catch(o){r=gi,e.error=o}finally{Ot(e,n)}t!==qs&&t!==gi&&r!==gi&&e.equal(t,r)?e.value=t:(e.value=r,e.version++)}};let Ge=function Xc(){throw new Error};function mi(){Ge()}let Wn=null;function Wr(e,t){Be()||mi(),e.equal(e.value,t)||(e.value=t,function _i(e){e.version++,function Y(){X++}(),we(e),Wn?.()}(e))}const vi={...q,equal:D,value:void 0};var ru=W(4412),Eo=W(1413),wi=W(8359),ou=W(6354);const iu="https://g.co/ng/security#xss";class J extends Error{constructor(t,n){super(vn(t,n)),this.code=t}}function vn(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function Wt(e){return{toString:e}.toString()}const Kr="__annotations__",Gr="__parameters__",Dr="__prop__metadata__";function ea(e,t,n,r,o){return Wt(()=>{const i=ta(t);function a(...d){if(this instanceof a)return i.call(this,...d),this;const f=new a(...d);return function(y){return o&&o(y,...d),(y.hasOwnProperty(Kr)?y[Kr]:Object.defineProperty(y,Kr,{value:[]})[Kr]).push(f),r&&r(y),y}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}function ta(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}function or(e,t,n){return Wt(()=>{const r=ta(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const a=new o(...i);return d.annotation=a,d;function d(f,p,y){const _=f.hasOwnProperty(Gr)?f[Gr]:Object.defineProperty(f,Gr,{value:[]})[Gr];for(;_.length<=y;)_.push(null);return(_[y]=_[y]||[]).push(a),f}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const st=globalThis;function Oe(e){for(let t in e)if(e[t]===Oe)return t;throw Error("Could not find renamed property on target object.")}function Ed(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function pt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(pt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function na(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Dd=Oe({__forward_ref__:Oe});function Co(e){return e.__forward_ref__=Co,e.toString=function(){return pt(this())},e}function se(e){return Ii(e)?e():e}function Ii(e){return"function"==typeof e&&e.hasOwnProperty(Dd)&&e.__forward_ref__===Co}function ke(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Di(e){return{providers:e.providers||[],imports:e.imports||[]}}function kn(e){return oa(e,qr)||oa(e,Ci)}function xd(e){return null!==kn(e)}function oa(e,t){return e.hasOwnProperty(t)?e[t]:null}function To(e){return e&&(e.hasOwnProperty(ia)||e.hasOwnProperty(lu))?e[ia]:null}const qr=Oe({\u0275prov:Oe}),ia=Oe({\u0275inj:Oe}),Ci=Oe({ngInjectableDef:Oe}),lu=Oe({ngInjectorDef:Oe});class ve{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ke({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Jr(e){return e&&!!e.\u0275providers}const Ao=Oe({\u0275cmp:Oe}),ua=Oe({\u0275dir:Oe}),la=Oe({\u0275pipe:Oe}),du=Oe({\u0275mod:Oe}),Rn=Oe({\u0275fac:Oe}),qe=Oe({__NG_ELEMENT_ID__:Oe}),fu=Oe({__NG_ENV_ID__:Oe});function me(e){return"string"==typeof e?e:null==e?"":String(e)}function Mi(e,t){throw new J(-201,!1)}var be=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(be||{});let Sr;function xo(){return Sr}function Lt(e){const t=Sr;return Sr=e,t}function Ai(e,t,n){const r=kn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&be.Optional?null:void 0!==t?t:void Mi()}const jt={},ko="__NG_DI_FLAG__",Zr="ngTempTokenPath",zn=/\n/gm,hu="__source";let wn;function $n(e){const t=wn;return wn=e,t}function Tr(e,t=be.Default){if(void 0===wn)throw new J(-203,!1);return null===wn?Ai(e,void 0,t):wn.get(e,t&be.Optional?null:void 0,t)}function Ve(e,t=be.Default){return(xo()||Tr)(se(e),t)}function H(e,t=be.Default){return Ve(e,Ni(t))}function Ni(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Qr(e){const t=[];for(let n=0;n<e.length;n++){const r=se(e[n]);if(Array.isArray(r)){if(0===r.length)throw new J(900,!1);let o,i=be.Default;for(let a=0;a<r.length;a++){const d=r[a],f=pu(d);"number"==typeof f?-1===f?o=d.token:i|=f:o=d}t.push(Ve(o,i))}else t.push(Ve(r))}return t}function ir(e,t){return e[ko]=t,e.prototype[ko]=t,e}function pu(e){return e[ko]}const fa=ir(or("Inject",e=>({token:e})),-1),Pn=ir(or("Optional"),8),ut=ir(or("Self"),2),ki=ir(or("SkipSelf"),4),mu=ir(or("Host"),1);function Mr(e,t){return e.hasOwnProperty(Rn)?e[Rn]:null}function Kn(e,t){e.forEach(n=>Array.isArray(n)?Kn(n,t):t(n))}function cn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ro(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Tt(e,t,n){let r=Ar(e,t);return r>=0?e[1|r]=n:(r=~r,function Pi(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Yr(e,t){const n=Ar(e,t);if(n>=0)return e[1|n]}function Ar(e,t){return function vu(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),a=e[i<<n];if(t===a)return i<<n;a>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const On={},Ne=[],Ln=new ve(""),_u=new ve("",-1),Po=new ve("");class Xr{get(t,n=jt){if(n===jt){const r=new Error(`NullInjectorError: No provider for ${pt(t)}!`);throw r.name="NullInjectorError",r}return n}}var Oo=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Oo||{}),Gn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gn||{}),jn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(jn||{});function pa(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function xr(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],a=n[r++],d=n[r++];e.setAttribute(t,a,d,i)}else{const i=o,a=n[++r];ga(i)?e.setProperty(t,i,a):e.setAttribute(t,i,a),r++}}return r}function Oi(e){return 3===e||4===e||6===e}function ga(e){return 64===e.charCodeAt(0)}function Lo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Li(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Li(e,t,n,r,o){let i=0,a=e.length;if(-1===t)a=-1;else for(;i<e.length;){const d=e[i++];if("number"==typeof d){if(d===t){a=-1;break}if(d>t){a=i-1;break}}}for(;i<e.length;){const d=e[i];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==a&&(e.splice(a,0,t),i=a+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}const Nr="ng-template";function ma(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==pa(t[o+1].toLowerCase(),n,0))return!0}else if(ya(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===n)return!0}return!1}function ya(e){return 4===e.type&&e.value!==Nr}function Od(e,t,n){return t===(4!==e.type||n?e.value:Nr)}function va(e,t,n){let r=4;const o=e.attrs,i=null!==o?function wa(e){for(let t=0;t<e.length;t++)if(Oi(e[t]))return t;return e.length}(o):0;let a=!1;for(let d=0;d<t.length;d++){const f=t[d];if("number"!=typeof f){if(!a)if(4&r){if(r=2|1&r,""!==f&&!Od(e,f,n)||""===f&&1===t.length){if(un(r))return!1;a=!0}}else if(8&r){if(null===o||!ma(e,o,f,n)){if(un(r))return!1;a=!0}}else{const p=t[++d],y=Ld(f,o,ya(e),n);if(-1===y){if(un(r))return!1;a=!0;continue}if(""!==p){let _;if(_=y>i?"":o[y+1].toLowerCase(),2&r&&p!==_){if(un(r))return!1;a=!0}}}}else{if(!a&&!un(r)&&!un(f))return!1;if(a&&un(f))continue;a=!1,r=f|1&r}}return un(r)||a}function un(e){return!(1&e)}function Ld(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const a=t[o];if(a===e)return o;if(3===a||6===a)i=!0;else{if(1===a||2===a){let d=t[++o];for(;"string"==typeof d;)d=t[++o];continue}if(4===a)break;if(0===a){o+=4;continue}}o+=i?1:2}return-1}return function jd(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function wu(e,t,n=!1){for(let r=0;r<t.length;r++)if(va(e,t[r],n))return!0;return!1}function Iu(e,t){return e?":not("+t.trim()+")":t}function Fd(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let a=e[n];if("string"==typeof a)if(2&r){const d=e[++n];o+="["+a+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?o+="."+a:4&r&&(o+=" "+a);else""!==o&&!un(a)&&(t+=Iu(i,o),o=""),r=a,i=i||!un(r);n++}return""!==o&&(t+=Iu(i,o)),t}function jo(e){return Wt(()=>{const t=Ca(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Oo.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gn.Emulated,styles:e.styles||Ne,_:null,schemas:e.schemas||null,tView:null,id:""};Eu(n);const r=e.dependencies;return n.directiveDefs=ji(r,!1),n.pipeDefs=ji(r,!0),n.id=function Hd(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Se(e){return pe(e)||at(e)}function bu(e){return null!==e}function Fo(e){return Wt(()=>({type:e.type,bootstrap:e.bootstrap||Ne,declarations:e.declarations||Ne,imports:e.imports||Ne,exports:e.exports||Ne,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ea(e,t){if(null==e)return On;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,a,d=jn.None;Array.isArray(o)?(d=o[0],i=o[1],a=o[2]??i):(i=o,a=o),t?(n[i]=d!==jn.None?[r,d]:r,t[i]=a):n[i]=r}return n}function Da(e){return Wt(()=>{const t=Ca(e);return Eu(t),t})}function eo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function pe(e){return e[Ao]||null}function at(e){return e[ua]||null}function Mt(e){return e[la]||null}function sr(e){const t=pe(e)||at(e)||Mt(e);return null!==t&&t.standalone}function lt(e,t){const n=e[du]||null;if(!n&&!0===t)throw new Error(`Type ${pt(e)} does not have '\u0275mod' property.`);return n}function Ca(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||On,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ne,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ea(e.inputs,t),outputs:Ea(e.outputs),debugInfo:null}}function Eu(e){e.features?.forEach(t=>t(e))}function ji(e,t){if(!e)return null;const n=t?Mt:Se;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(bu)}function In(e){return{\u0275providers:e}}function Ud(...e){return{\u0275providers:Ta(0,e),\u0275fromNgModule:!0}}function Ta(e,...t){const n=[],r=new Set;let o;const i=a=>{n.push(a)};return Kn(t,a=>{const d=a;kr(d,i,[],r)&&(o||=[],o.push(d))}),void 0!==o&&Du(o,i),n}function Du(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Vo(o,i=>{t(i,r)})}}function kr(e,t,n,r){if(!(e=se(e)))return!1;let o=null,i=To(e);const a=!i&&pe(e);if(i||a){if(a&&!a.standalone)return!1;o=e}else{const f=e.ngModule;if(i=To(f),!i)return!1;o=f}const d=r.has(o);if(a){if(d)return!1;if(r.add(o),a.dependencies){const f="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const p of f)kr(p,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!d){let p;r.add(o);try{Kn(i.imports,y=>{kr(y,t,n,r)&&(p||=[],p.push(y))})}finally{}void 0!==p&&Du(p,t)}if(!d){const p=Mr(o)||(()=>new o);t({provide:o,useFactory:p,deps:Ne},o),t({provide:Po,useValue:o,multi:!0},o),t({provide:Ln,useValue:()=>Ve(o),multi:!0},o)}const f=i.providers;if(null!=f&&!d){const p=e;Vo(f,y=>{t(y,p)})}}}return o!==e&&void 0!==e.providers}function Vo(e,t){for(let n of e)Jr(n)&&(n=n.\u0275providers),Array.isArray(n)?Vo(n,t):t(n)}const Su=Oe({provide:String,useValue:Oe});function Fi(e){return null!==e&&"object"==typeof e&&Su in e}function ar(e){return"function"==typeof e}const mt=new ve(""),Zt={},Ma={};let Hi;function Vt(){return void 0===Hi&&(Hi=new Xr),Hi}class je{}class cr extends je{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ka(t,a=>this.processProvider(a)),this.records.set(_u,Rr(void 0,this)),o.has("environment")&&this.records.set(je,Rr(void 0,this));const i=this.records.get(mt);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Po,Ne,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=$(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=$n(this),r=Lt(void 0);try{return t()}finally{$n(n),Lt(r)}}get(t,n=jt,r=be.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(fu))return t[fu](this);r=Ni(r);const i=$n(this),a=Lt(void 0);try{if(!(r&be.SkipSelf)){let f=this.records.get(t);if(void 0===f){const p=function Na(e){return"function"==typeof e||"object"==typeof e&&e instanceof ve}(t)&&kn(t);f=p&&this.injectableDefInScope(p)?Rr(Uo(t),Zt):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(r&be.Self?Vt():this.parent).get(t,n=r&be.Optional&&n===jt?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[Zr]=d[Zr]||[]).unshift(pt(t)),i)throw d;return function gu(e,t,n,r){const o=e[Zr];throw t[hu]&&o.unshift(t[hu]),e.message=function Rd(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=pt(t);if(Array.isArray(t))o=t.map(pt).join(" -> ");else if("object"==typeof t){let i=[];for(let a in t)if(t.hasOwnProperty(a)){let d=t[a];i.push(a+":"+("string"==typeof d?JSON.stringify(d):pt(d)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(zn,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Zr]=null,e}(d,t,"R3InjectorError",this.source)}throw d}finally{Lt(a),$n(i)}}resolveInjectorInitializers(){const t=$(null),n=$n(this),r=Lt(void 0);try{const i=this.get(Ln,Ne,be.Self);for(const a of i)a()}finally{$n(n),Lt(r),$(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(pt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(t){let n=ar(t=se(t))?t:se(t&&t.provide);const r=function Tu(e){return Fi(e)?Rr(void 0,e.useValue):Rr(xa(e),Zt)}(t);if(!ar(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Rr(void 0,Zt,!0),o.factory=()=>Qr(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=$(null);try{return n.value===Zt&&(n.value=Ma,n.value=n.factory()),"object"==typeof n.value&&n.value&&function no(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{$(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=se(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Uo(e){const t=kn(e),n=null!==t?t.factory:Mr(e);if(null!==n)return n;if(e instanceof ve)throw new J(204,!1);if(e instanceof Function)return function Aa(e){if(e.length>0)throw new J(204,!1);const n=function uu(e){return e&&(e[qr]||e[Ci])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new J(204,!1)}function xa(e,t,n){let r;if(ar(e)){const o=se(e);return Mr(o)||Uo(o)}if(Fi(e))r=()=>se(e.useValue);else if(function Vi(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Qr(e.deps||[]));else if(function to(e){return!(!e||!e.useExisting)}(e))r=()=>Ve(se(e.useExisting));else{const o=se(e&&(e.useClass||e.provide));if(!function Fn(e){return!!e.deps}(e))return Mr(o)||Uo(o);r=()=>new o(...Qr(e.deps))}return r}function Rr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ka(e,t){for(const n of e)Array.isArray(n)?ka(n,t):n&&Jr(n)?ka(n.\u0275providers,t):t(n)}function Mu(e,t){e instanceof cr&&e.assertNotDestroyed();const r=$n(e),o=Lt(void 0);try{return t()}finally{$n(r),Lt(o)}}function ct(e){const t=st.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const ro={\u0275\u0275defineInjectable:ke,\u0275\u0275defineInjector:Di,\u0275\u0275inject:Ve,\u0275\u0275invalidFactoryDep:function xi(e){throw new J(202,!1)},resolveForwardRef:se},Bo=Function;function oo(e){return"function"==typeof e}const Bd=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Wd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,zd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Bi=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Oa{constructor(t){this._reflect=t||st.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let r;r=Ro(typeof t>"u"?n.length:t.length);for(let o=0;o<r.length;o++)r[o]=typeof t>"u"?[]:t[o]&&t[o]!=Object?[t[o]]:[],n&&null!=n[o]&&(r[o]=r[o].concat(n[o]));return r}_ownParameters(t,n){if(function Pa(e){return Bd.test(e)||Bi.test(e)||Wd.test(e)&&!zd.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const o=t.ctorParameters;if(o&&o!==n.ctorParameters){const d="function"==typeof o?o():o,f=d.map(y=>y&&y.type),p=d.map(y=>y&&Vn(y.decorators));return this._zipTypesAndAnnotations(f,p)}const i=t.hasOwnProperty(Gr)&&t[Gr],a=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return a||i?this._zipTypesAndAnnotations(a,i):Ro(t.length)}parameters(t){if(!oo(t))return[];const n=Wo(t);let r=this._ownParameters(t,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let r=t.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return t.decorators&&t.decorators!==n.decorators?Vn(t.decorators):t.hasOwnProperty(Kr)?t[Kr]:null}annotations(t){if(!oo(t))return[];const n=Wo(t),r=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let r=t.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const r=t.propDecorators,o={};return Object.keys(r).forEach(i=>{o[i]=Vn(r[i])}),o}return t.hasOwnProperty(Dr)?t[Dr]:null}propMetadata(t){if(!oo(t))return{};const n=Wo(t),r={};if(n!==Object){const i=this.propMetadata(n);Object.keys(i).forEach(a=>{r[a]=i[a]})}const o=this._ownPropMetadata(t,n);return o&&Object.keys(o).forEach(i=>{const a=[];r.hasOwnProperty(i)&&a.push(...r[i]),a.push(...o[i]),r[i]=a}),r}ownPropMetadata(t){return oo(t)&&this._ownPropMetadata(t,Wo(t))||{}}hasLifecycleHook(t,n){return t instanceof Bo&&n in t.prototype}}function Vn(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Wo(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Je=0,U=1,re=2,et=3,bn=4,dt=5,At=6,$t=7,ze=8,De=9,tn=10,ce=11,io=12,qn=13,Hn=14,He=15,Ht=16,so=17,Jn=18,Zn=19,Ut=20,tt=21,Wi=22,Qt=23,ee=25,ao=1,En=7,Or=9,nt=10;var uo=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(uo||{});function ft(e){return Array.isArray(e)&&"object"==typeof e[ao]}function Et(e){return Array.isArray(e)&&!0===e[ao]}function zi(e){return!!(4&e.flags)}function lr(e){return e.componentOffset>-1}function lo(e){return!(1&~e.flags)}function ln(e){return!!e.template}function Lr(e){return!!(512&e[re])}class Kd{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function $o(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function Ko(){return Go}function Go(e){return e.type.prototype.ngOnChanges&&(e.setInput=Gd),Ua}function Ua(){const e=Ki(this),t=e?.current;if(t){const n=e.previous;if(n===On)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Gd(e,t,n,r,o){const i=this.declaredInputs[r],a=Ki(e)||function ju(e,t){return e[Ba]=t}(e,{previous:On,current:null}),d=a.current||(a.current={}),f=a.previous,p=f[i];d[i]=new Kd(p&&p.currentValue,n,f===On),$o(e,t,o,n)}Ko.ngInherit=!0;const Ba="__ngSimpleChanges__";function Ki(e){return e[Ba]||null}const dn=function(e,t,n){};function Te(e){for(;Array.isArray(e);)e=e[Je];return e}function Cn(e,t){return Te(t[e])}function Ye(e,t){return Te(t[e.index])}function Fr(e,t){return e.data[t]}function yt(e,t){const n=t[e];return ft(n)?n:n[Je]}function Wa(e){return!(128&~e[re])}function Dt(e,t){return null==t?null:e[t]}function Jo(e){e[so]=0}function fr(e){1024&e[re]||(e[re]|=1024,Wa(e)&&hr(e))}function Xn(e){return!!(9216&e[re]||e[Qt]?.dirty)}function Pe(e){e[tn].changeDetectionScheduler?.notify(8),64&e[re]&&(e[re]|=1024),Xn(e)&&hr(e)}function hr(e){e[tn].changeDetectionScheduler?.notify(0);let t=xt(e);for(;null!==t&&!(8192&t[re])&&(t[re]|=8192,Wa(t));)t=xt(t)}function Xe(e,t){if(!(256&~e[re]))throw new J(911,!1);null===e[tt]&&(e[tt]=[]),e[tt].push(t)}function xt(e){const t=e[et];return Et(t)?t[et]:t}const fe={lFrame:Gu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Qi=!1;function Vu(){return fe.bindingsEnabled}function A(){return fe.lFrame.lView}function Ie(){return fe.lFrame.tView}function Bu(e){return fe.lFrame.contextLView=e,e[ze]}function Wu(e){return fe.lFrame.contextLView=null,e}function Me(){let e=Xi();for(;null!==e&&64===e.type;)e=e.parent;return e}function Xi(){return fe.lFrame.currentTNode}function fn(e,t){const n=fe.lFrame;n.currentTNode=e,n.isParent=t}function es(){return fe.lFrame.isParent}function Ga(){fe.lFrame.isParent=!1}function $u(){return Qi}function ns(e){Qi=e}function on(){return fe.lFrame.bindingIndex++}function Bt(e){const t=fe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function qa(e,t){const n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=e,Qo(t)}function Qo(e){fe.lFrame.currentDirectiveIndex=e}function Za(){return fe.lFrame.currentQueryIndex}function gr(e){fe.lFrame.currentQueryIndex=e}function Yd(e){const t=e[U];return 2===t.type?t.declTNode:1===t.type?e[dt]:null}function Ku(e,t,n){if(n&be.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&be.Host||(o=Yd(i),null===o||(i=i[Hn],10&o.type))););if(null===o)return!1;t=o,e=i}const r=fe.lFrame=go();return r.currentTNode=t,r.lView=e,!0}function Yo(e){const t=go(),n=e[U];fe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function go(){const e=fe.lFrame,t=null===e?null:e.child;return null===t?Gu(e):t}function Gu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function qu(){const e=fe.lFrame;return fe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ju=qu;function Ce(){const e=qu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $e(){return fe.lFrame.selectedIndex}function hn(e){fe.lFrame.selectedIndex=e}function Ue(){const e=fe.lFrame;return Fr(e.tView,e.selectedIndex)}let u=!0;function s(){return u}function c(e){u=e}function h(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:d,ngAfterViewInit:f,ngAfterViewChecked:p,ngOnDestroy:y}=i;a&&(e.contentHooks??=[]).push(-n,a),d&&((e.contentHooks??=[]).push(n,d),(e.contentCheckHooks??=[]).push(n,d)),f&&(e.viewHooks??=[]).push(-n,f),p&&((e.viewHooks??=[]).push(n,p),(e.viewCheckHooks??=[]).push(n,p)),null!=y&&(e.destroyHooks??=[]).push(n,y)}}function g(e,t,n){w(e,t,3,n)}function m(e,t,n,r){(3&e[re])===n&&w(e,t,n,r)}function v(e,t){let n=e[re];(3&n)===t&&(n&=16383,n+=1,e[re]=n)}function w(e,t,n,r){const i=r??-1,a=t.length-1;let d=0;for(let f=void 0!==r?65535&e[so]:0;f<a;f++)if("number"==typeof t[f+1]){if(d=t[f],null!=r&&d>=r)break}else t[f]<0&&(e[so]+=65536),(d<i||-1==i)&&(I(e,n,t,f),e[so]=(4294901760&e[so])+f+2),f++}function C(e,t){dn(4,e,t);const n=$(null);try{t.call(e)}finally{$(n),dn(5,e,t)}}function I(e,t,n,r){const o=n[r]<0,i=n[r+1],d=e[o?-n[r]:n[r]];o?e[re]>>14<e[so]>>16&&(3&e[re])===t&&(e[re]+=16384,C(d,i)):C(d,i)}const T=-1;class k{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const z={};class he{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ni(r);const o=this.injector.get(t,z,r);return o!==z||n===z?o:this.parentInjector.get(t,n,r)}}function Ae(e){return e!==T}function Nt(e){return 32767&e}function Yt(e,t){let n=function Ct(e){return e>>16}(e),r=t;for(;n>0;)r=r[Hn],n--;return r}let tr=!0;function Xo(e){const t=tr;return tr=e,t}const dg=255,fg=5;let pb=0;const mr={};function Qu(e,t){const n=hg(e,t);if(-1!==n)return n;const r=t[U];r.firstCreatePass&&(e.injectorIndex=t.length,ef(r.data,e),ef(t,null),ef(r.blueprint,null));const o=Yu(e,t),i=e.injectorIndex;if(Ae(o)){const a=Nt(o),d=Yt(o,t),f=d[U].data;for(let p=0;p<8;p++)t[i+p]=d[a+p]|f[a+p]}return t[i+8]=o,i}function ef(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hg(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Yu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Ig(o),null===r)return T;if(n++,o=o[Hn],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return T}function tf(e,t,n){!function gb(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(qe)&&(r=n[qe]),null==r&&(r=n[qe]=pb++);const o=r&dg;t.data[e+(o>>fg)]|=1<<o}(e,t,n)}function pg(e,t,n){if(n&be.Optional||void 0!==e)return e;Mi()}function gg(e,t,n,r){if(n&be.Optional&&void 0===r&&(r=null),!(n&(be.Self|be.Host))){const o=e[De],i=Lt(void 0);try{return o?o.get(t,r,n&be.Optional):Ai(t,r,n&be.Optional)}finally{Lt(i)}}return pg(r,0,n)}function mg(e,t,n,r=be.Default,o){if(null!==e){if(2048&t[re]&&!(r&be.Self)){const a=function wb(e,t,n,r,o){let i=e,a=t;for(;null!==i&&null!==a&&2048&a[re]&&!(512&a[re]);){const d=yg(i,a,n,r|be.Self,mr);if(d!==mr)return d;let f=i.parent;if(!f){const p=a[Ut];if(p){const y=p.get(n,mr,r);if(y!==mr)return y}f=Ig(a),a=a[Hn]}i=f}return o}(e,t,n,r,mr);if(a!==mr)return a}const i=yg(e,t,n,r,mr);if(i!==mr)return i}return gg(t,n,r,o)}function yg(e,t,n,r,o){const i=function vb(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(qe)?e[qe]:void 0;return"number"==typeof t?t>=0?t&dg:_b:t}(n);if("function"==typeof i){if(!Ku(t,e,r))return r&be.Host?pg(o,0,r):gg(t,n,r,o);try{let a;if(a=i(r),null!=a||r&be.Optional)return a;Mi()}finally{Ju()}}else if("number"==typeof i){let a=null,d=hg(e,t),f=T,p=r&be.Host?t[He][dt]:null;for((-1===d||r&be.SkipSelf)&&(f=-1===d?Yu(e,t):t[d+8],f!==T&&_g(r,!1)?(a=t[U],d=Nt(f),t=Yt(f,t)):d=-1);-1!==d;){const y=t[U];if(vg(i,d,y.data)){const _=yb(d,t,n,a,r,p);if(_!==mr)return _}f=t[d+8],f!==T&&_g(r,t[U].data[d+8]===p)&&vg(i,d,t)?(a=y,d=Nt(f),t=Yt(f,t)):d=-1}}return o}function yb(e,t,n,r,o,i){const a=t[U],d=a.data[e+8],y=Xu(d,a,n,null==r?lr(d)&&tr:r!=a&&!!(3&d.type),o&be.Host&&i===d);return null!==y?ei(t,a,y,d):mr}function Xu(e,t,n,r,o){const i=e.providerIndexes,a=t.data,d=1048575&i,f=e.directiveStart,y=i>>20,b=o?d+y:e.directiveEnd;for(let E=r?d:d+y;E<b;E++){const S=a[E];if(E<f&&n===S||E>=f&&S.type===n)return E}if(o){const E=a[f];if(E&&ln(E)&&E.type===n)return f}return null}function ei(e,t,n,r){let o=e[n];const i=t.data;if(function M(e){return e instanceof k}(o)){const a=o;a.resolving&&function Q(e,t){throw t&&t.join(" > "),new J(-200,e)}(function j(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():me(e)}(i[n]));const d=Xo(a.canSeeViewProviders);a.resolving=!0;const p=a.injectImpl?Lt(a.injectImpl):null;Ku(e,r,be.Default);try{o=e[n]=a.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function l(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const a=Go(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==p&&Lt(p),Xo(d),a.resolving=!1,Ju()}}return o}function vg(e,t,n){return!!(n[t+(e>>fg)]&1<<e)}function _g(e,t){return!(e&be.Self||e&be.Host&&t)}class kt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return mg(this._tNode,this._lView,t,Ni(r),n)}}function _b(){return new kt(Me(),A())}function wg(e){return Wt(()=>{const t=e.prototype.constructor,n=t[Rn]||nf(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[Rn]||nf(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function nf(e){return Ii(e)?()=>{const t=nf(se(e));return t&&t()}:Mr(e)}function Ig(e){const t=e[U],n=t.type;return 2===n?t.declTNode:1===n?e[dt]:null}function el(e){return function mb(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(Oi(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(Me(),e)}const Ib=or("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>el(e)}));let bg=null;function tl(e){return Eg(function rf(){return bg=bg||new Oa}().parameters(e))}function Eg(e){return e.map(t=>function bb(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const o=Object.getPrototypeOf(r);if(r instanceof Pn||"Optional"===o.ngMetadataName)t.optional=!0;else if(r instanceof ki||"SkipSelf"===o.ngMetadataName)t.skipSelf=!0;else if(r instanceof ut||"Self"===o.ngMetadataName)t.self=!0;else if(r instanceof mu||"Host"===o.ngMetadataName)t.host=!0;else if(r instanceof fa)t.token=r.token;else if(r instanceof Ib){if(void 0===r.attributeName)throw new J(204,!1);t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}const Db=Oe({provide:String,useValue:Oe});function Dg(e){return void 0!==e.useClass}function Cg(e){return void 0!==e.useFactory}const Mb=ea("Injectable",void 0,void 0,void 0,(e,t)=>function Eb(e,t){let n=null,r=null;e.hasOwnProperty(qr)||Object.defineProperty(e,qr,{get:()=>(null===n&&(n=ct().compileInjectable(ro,`ng:///${e.name}/\u0275prov.js`,function Tb(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Dg(n)||Cg(n))&&void 0!==n.deps&&(r.deps=Eg(n.deps)),Dg(n)?r.useClass=n.useClass:function Cb(e){return Db in e}(n)?r.useValue=n.useValue:Cg(n)?r.useFactory=n.useFactory:function Sb(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(Rn)||Object.defineProperty(e,Rn,{get:()=>{if(null===r){const o=ct();r=o.compileFactory(ro,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:tl(e),target:o.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t));function Sg(e,t=null,n=null,r){const o=Tg(e,t,n,r);return o.resolveInjectorInitializers(),o}function Tg(e,t=null,n=null,r,o=new Set){const i=[n||Ne,Ud(e)];return r=r||("object"==typeof e?void 0:pt(e)),new cr(i,t||Vt(),r||null,o)}class Xt{static{this.THROW_IF_NOT_FOUND=jt}static{this.NULL=new Xr}static create(t,n){if(Array.isArray(t))return Sg({name:""},n,t,"");{const r=t.name??"";return Sg({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=ke({token:Xt,providedIn:"any",factory:()=>Ve(_u)})}static{this.__NG_ELEMENT_ID__=-1}}new ve("").__NG_ELEMENT_ID__=e=>{const t=Me();if(null===t)throw new J(204,!1);if(2&t.type)return t.value;if(e&be.Optional)return null;throw new J(204,!1)};function of(e){return e.ngOriginalError}const Ag=!0;let ec=(()=>{class e{static{this.__NG_ELEMENT_ID__=Nb}static{this.__NG_ENV_ID__=n=>n}}return e})();class xb extends ec{constructor(t){super(),this._lView=t}onDestroy(t){return Xe(this._lView,t),()=>function Ji(e,t){if(null===e[tt])return;const n=e[tt].indexOf(t);-1!==n&&e[tt].splice(n,1)}(this._lView,t)}}function Nb(){return new xb(A())}let ti=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ru.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>new e})}}return e})();const yr=class kb extends Eo.B{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,function Ra(){return void 0!==xo()||null!=function da(){return wn}()}()&&(this.destroyRef=H(ec,{optional:!0})??void 0,this.pendingTasks=H(ti,{optional:!0})??void 0)}emit(t){const n=$(null);try{super.next(t)}finally{$(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),a=r;if(t&&"object"==typeof t){const f=t;o=f.next?.bind(f),i=f.error?.bind(f),a=f.complete?.bind(f)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));const d=super.subscribe({next:o,error:i,complete:a});return t instanceof wi.yU&&t.add(d),d}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function nl(...e){}function xg(e){let t,n;function r(){e=nl;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Ng(e){return queueMicrotask(()=>e()),()=>{e=nl}}const sf="isAngularZone",rl=sf+"_ID";let Rb=0;class rt{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yr(!1),this.onMicrotaskEmpty=new yr(!1),this.onStable=new yr(!1),this.onError=new yr(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Ag}=t;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,function Lb(e){const t=()=>{!function Ob(e){function t(){xg(()=>{e.callbackScheduled=!1,cf(e),e.isCheckStableRunning=!0,af(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),cf(e))}(e)},n=Rb++;e._inner=e._inner.fork({name:"angular",properties:{[sf]:!0,[rl]:n,[rl+n]:!0},onInvokeTask:(r,o,i,a,d,f)=>{if(function jb(e){return Pg(e,"__ignore_ng_zone__")}(f))return r.invokeTask(i,a,d,f);try{return kg(e),r.invokeTask(i,a,d,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Rg(e)}},onInvoke:(r,o,i,a,d,f,p)=>{try{return kg(e),r.invoke(i,a,d,f,p)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Fb(e){return Pg(e,"__scheduler_tick__")}(f)&&t(),Rg(e)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,cf(e),af(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(sf)}static assertInAngularZone(){if(!rt.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(rt.isInAngularZone())throw new J(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,t,Pb,nl,nl);try{return i.runTask(a,n,r)}finally{i.cancelTask(a)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const Pb={};function af(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function cf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function kg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Rg(e){e._nesting--,af(e)}class uf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yr,this.onMicrotaskEmpty=new yr,this.onStable=new yr,this.onError=new yr}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function Pg(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Hr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&of(t);for(;n&&of(n);)n=of(n);return n||null}}const Hb=new ve("",{providedIn:"root",factory:()=>{const e=H(rt),t=H(Hr);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Ub(){return us(Me(),A())}function us(e,t){return new tc(Ye(e,t))}let tc=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Ub}}return e})();function Lg(e){return e instanceof tc?e.nativeElement:e}function Bb(){return this._results[Symbol.iterator]()}class lf{get changes(){return this._changes??=new yr}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=lf.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Bb)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function Ft(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ri(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function rc(e){return!(128&~e.flags)}const ff=new Map;let zb=0;function hf(e){ff.delete(e[Zn])}const ol="__ngContext__";function en(e,t){ft(t)?(e[ol]=t[Zn],function Kb(e){ff.set(e[Zn],e)}(t)):e[ol]=t}function Kg(e){return qg(e[io])}function Gg(e){return qg(e[bn])}function qg(e){for(;null!==e&&!Et(e);)e=e[bn];return e}let gf;function cE(e){gf=e}const sl=new ve("",{providedIn:"root",factory:()=>uE}),uE="ng",nm=new ve(""),al=new ve("",{providedIn:"platform",factory:()=>"unknown"}),lE=new ve("",{providedIn:"root",factory:()=>function mo(){if(void 0!==gf)return gf;if(typeof document<"u")return document;throw new J(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rm=()=>null;function bf(e,t,n=!1){return rm(e,t,n)}const dm=new ve("",{providedIn:"root",factory:()=>!1});let gl;function mm(e){return function Mf(){if(void 0===gl&&(gl=null,st.trustedTypes))try{gl=st.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return gl}()?.createScriptURL(e)||e}class ym{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iu})`}}function yo(e){return e instanceof ym?e.changingThisBreaksApplicationSecurity:e}function lc(e,t){const n=function AE(e){return e instanceof ym&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${iu})`)}return n===t}const RE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ps=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ps||{});function Sm(e){const t=fc();return t?t.sanitize(ps.URL,e)||"":lc(e,"URL")?yo(e):function Af(e){return(e=String(e)).match(RE)?e:"unsafe:"+e}(me(e))}function Tm(e){const t=fc();if(t)return mm(t.sanitize(ps.RESOURCE_URL,e)||"");if(lc(e,"ResourceURL"))return mm(yo(e));throw new J(904,!1)}function Mm(e,t,n){return function qE(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Tm:Sm}(t,n)(e)}function fc(){const e=A();return e&&e[tn].sanitizer}const JE=/^>|^->|<!--|-->|--!>|<!-$/g,ZE=/(<|>)/g,QE="\u200b$1\u200b";function Tn(e){return e instanceof Function?e():e}var _l=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(_l||{});let Of;function Lf(e,t){return Of(e,t)}function ms(e,t,n,r,o){if(null!=r){let i,a=!1;Et(r)?i=r:ft(r)&&(a=!0,r=r[Je]);const d=Te(r);0===e&&null!==n?null==o?Um(t,n,d):ri(t,n,d,o||null,!0):1===e&&null!==n?ri(t,n,d,o||null,!0):2===e?function pc(e,t,n){e.removeChild(null,t,n)}(t,d,a):3===e&&t.destroyNode(d),null!=i&&function yD(e,t,n,r,o){const i=n[En];i!==Te(n)&&ms(t,e,r,i,o);for(let d=nt;d<n.length;d++){const f=n[d];El(f[U],f,e,t,r,i)}}(t,e,i,n,o)}}function Ff(e,t){return e.createComment(function Am(e){return e.replace(JE,t=>t.replace(ZE,QE))}(t))}function wl(e,t,n){return e.createElement(t,n)}function Fm(e,t){t[tn].changeDetectionScheduler?.notify(9),El(e,t,t[ce],2,null,null)}function Vm(e,t){const n=e[Or],r=t[et];(ft(r)||t[He]!==r[et][He])&&(e[re]|=uo.HasTransplantedViews),null===n?e[Or]=[t]:n.push(t)}function Vf(e,t){const n=e[Or],r=n.indexOf(t);n.splice(r,1)}function hc(e,t){if(e.length<=nt)return;const n=nt+t,r=e[n];if(r){const o=r[Ht];null!==o&&o!==e&&Vf(o,r),t>0&&(e[n-1][bn]=r[bn]);const i=Jt(e,nt+t);!function uD(e,t){Fm(e,t),t[Je]=null,t[dt]=null}(r[U],r);const a=i[Jn];null!==a&&a.detachView(i[U]),r[et]=null,r[bn]=null,r[re]&=-129}return r}function Il(e,t){if(!(256&t[re])){const n=t[ce];n.destroyNode&&El(e,t,n,3,null,null),function dD(e){let t=e[io];if(!t)return Hf(e[U],e);for(;t;){let n=null;if(ft(t))n=t[io];else{const r=t[nt];r&&(n=r)}if(!n){for(;t&&!t[bn]&&t!==e;)ft(t)&&Hf(t[U],t),t=t[et];null===t&&(t=e),ft(t)&&Hf(t[U],t),n=t&&t[bn]}t=n}}(t)}}function Hf(e,t){if(256&t[re])return;const n=$(null);try{t[re]&=-129,t[re]|=256,t[Qt]&&Er(t[Qt]),function pD(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof k)){const i=n[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){const d=o[i[a]],f=i[a+1];dn(4,d,f);try{f.call(d)}finally{dn(5,d,f)}}else{dn(4,o,i);try{i.call(o)}finally{dn(5,o,i)}}}}}(e,t),function hD(e,t){const n=e.cleanup,r=t[$t];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const a=n[i+3];a>=0?r[a]():r[-a].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[$t]=null);const o=t[tt];if(null!==o){t[tt]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[U].type&&t[ce].destroy();const r=t[Ht];if(null!==r&&Et(t[et])){r!==t[et]&&Vf(r,t);const o=t[Jn];null!==o&&o.detachView(e)}hf(t)}finally{$(n)}}function Uf(e,t,n){return function Hm(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[Je];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===Gn.None||i===Gn.Emulated)return null}return Ye(r,n)}}(e,t.parent,n)}function ri(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Um(e,t,n){e.appendChild(t,n)}function Bm(e,t,n,r,o){null!==r?ri(e,t,n,r,o):Um(e,t,n)}function Bf(e,t){return e.parentNode(t)}let Wf,$m=function zm(e,t,n){return 40&e.type?Ye(e,n):null};function bl(e,t,n,r){const o=Uf(e,r,t),i=t[ce],d=function Wm(e,t,n){return $m(e,t,n)}(r.parent||t[dt],r,t);if(null!=o)if(Array.isArray(n))for(let f=0;f<n.length;f++)Bm(i,o,n[f],d,!1);else Bm(i,o,n,d,!1);void 0!==Wf&&Wf(i,r,t,n,o)}function oi(e,t){if(null!==t){const n=t.type;if(3&n)return Ye(t,e);if(4&n)return zf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return oi(e,r);{const o=e[t.index];return Et(o)?zf(-1,o):Te(o)}}if(128&n)return oi(e,t.next);if(32&n)return Lf(t,e)()||Te(e[t.index]);{const r=Gm(e,t);return null!==r?Array.isArray(r)?r[0]:oi(xt(e[He]),r):oi(e,t.next)}}return null}function Gm(e,t){return null!==t?e[He][dt].projection[t.projection]:null}function zf(e,t){const n=nt+e+1;if(n<t.length){const r=t[n],o=r[U].firstChild;if(null!==o)return oi(r,o)}return t[En]}function $f(e,t,n,r,o,i,a){for(;null!=n;){if(128===n.type){n=n.next;continue}const d=r[n.index],f=n.type;if(a&&0===t&&(d&&en(Te(d),r),n.flags|=2),32&~n.flags)if(8&f)$f(e,t,n.child,r,o,i,!1),ms(t,e,o,d,i);else if(32&f){const p=Lf(n,r);let y;for(;y=p();)ms(t,e,o,y,i);ms(t,e,o,d,i)}else 16&f?Jm(e,t,r,n,o,i):ms(t,e,o,d,i);n=a?n.projectionNext:n.next}}function El(e,t,n,r,o,i){$f(n,r,e.firstChild,t,o,i,!1)}function Jm(e,t,n,r,o,i){const a=n[He],f=a[dt].projection[r.projection];if(Array.isArray(f))for(let p=0;p<f.length;p++)ms(t,e,o,f[p],i);else{let p=f;const y=a[et];rc(r)&&(p.flags|=128),$f(e,t,p,y,o,i,!0)}}function Zm(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Qm(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&xr(e,t,r),null!==o&&Zm(e,t,o),null!==i&&function _D(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}const _e={};function Ym(e=1){Xm(Ie(),A(),$e()+e,!1)}function Xm(e,t,n,r){if(!r)if(3&~t[re]){const i=e.preOrderHooks;null!==i&&m(t,i,0,n)}else{const i=e.preOrderCheckHooks;null!==i&&g(t,i,n)}hn(n)}function ys(e,t=be.Default){const n=A();return null===n?Ve(e,t):mg(Me(),n,se(e),t)}function ey(e,t,n,r,o,i){const a=$(null);try{let d=null;o&jn.SignalBased&&(d=t[r][K]),null!==d&&void 0!==d.transformFn&&(i=d.transformFn(i)),o&jn.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(t,i)),null!==e.setInput?e.setInput(t,d,i,n,r):$o(t,d,r,i)}finally{$(a)}}function Dl(e,t,n,r,o,i,a,d,f,p,y){const _=t.blueprint.slice();return _[Je]=o,_[re]=204|r,(null!==p||e&&2048&e[re])&&(_[re]|=2048),Jo(_),_[et]=_[Hn]=e,_[ze]=n,_[tn]=a||e&&e[tn],_[ce]=d||e&&e[ce],_[De]=f||e&&e[De]||null,_[dt]=i,_[Zn]=function $b(){return zb++}(),_[At]=y,_[Ut]=p,_[He]=2==t.type?e[He]:_,_}function ii(e,t,n,r,o){let i=e.data[t];if(null===i)i=function Kf(e,t,n,r,o){const i=Xi(),a=es(),f=e.data[t]=function MD(e,t,n,r,o,i){let a=t?t.injectorIndex:-1,d=0;return function Vr(){return null!==fe.skipHydrationRootTNode}()&&(d|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=f),null!==i&&(a?null==i.child&&null!==f.parent&&(i.child=f):null===i.next&&(i.next=f,f.prev=i)),f}(e,t,n,r,o),function os(){return fe.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const a=function Zo(){const e=fe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===a?-1:a.injectorIndex}return fn(i,!0),i}function gc(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function ty(e,t,n,r,o){const i=$e(),a=2&r;try{hn(-1),a&&t.length>ee&&Xm(e,t,ee,!1),dn(a?2:0,o),n(r,o)}finally{hn(i),dn(a?3:1,o)}}function Gf(e,t,n){if(zi(t)){const r=$(null);try{const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const d=e.data[a];d.contentQueries&&d.contentQueries(1,n[a],a)}}finally{$(r)}}}function qf(e,t,n){Vu()&&(function OD(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;lr(n)&&function BD(e,t,n){const r=Ye(t,e),o=ny(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const d=Cl(e,Dl(e,o,null,a,r,t,null,e[tn].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=d}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||Qu(n,t),en(r,t);const a=n.initialInputs;for(let d=o;d<i;d++){const f=e.data[d],p=ei(t,e,d,n);en(p,t),null!==a&&WD(0,d-o,p,f,0,a),ln(f)&&(yt(n.index,t)[ze]=ei(t,e,d,n))}}(e,t,n,Ye(n,t)),!(64&~n.flags)&&ay(e,t,n))}function Jf(e,t,n=Ye){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const a=r[i+1],d=-1===a?n(t,e):e[a];e[o++]=d}}}function ny(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Zf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Zf(e,t,n,r,o,i,a,d,f,p,y){const _=ee+r,b=_+o,E=function bD(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:_e);return n}(_,b),S="function"==typeof p?p():p;return E[U]={type:e,blueprint:E,template:n,queries:null,viewQuery:d,declTNode:t,data:E.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:f,consts:S,incompleteFirstPass:!1,ssrId:y}}let ry=()=>null;function oy(e,t,n,r,o){for(let i in t){if(!t.hasOwnProperty(i))continue;const a=t[i];if(void 0===a)continue;r??={};let d,f=jn.None;Array.isArray(a)?(d=a[0],f=a[1]):d=a;let p=i;if(null!==o){if(!o.hasOwnProperty(i))continue;p=o[i]}0===e?iy(r,n,p,d,f):iy(r,n,p,d)}return r}function iy(e,t,n,r,o){let i;e.hasOwnProperty(n)?(i=e[n]).push(t,r):i=e[n]=[t,r],void 0!==o&&i.push(o)}function gn(e,t,n,r,o,i,a,d){const f=Ye(t,n);let y,p=t.inputs;!d&&null!=p&&(y=p[r])?(th(e,n,y,r,o),lr(t)&&function ND(e,t){const n=yt(t,e);16&n[re]||(n[re]|=64)}(n,t.index)):3&t.type&&(r=function xD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=a?a(o,t.value||"",r):o,i.setProperty(f,r,o))}function Qf(e,t,n,r){if(Vu()){const o=null===r?null:{"":-1},i=function jD(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const a=n[i];if(wu(t,a.selectors,!1))if(r||(r=[]),ln(a))if(null!==a.findHostDirectiveDefs){const d=[];o=o||new Map,a.findHostDirectiveDefs(a,d,o),r.unshift(...d,a),Yf(e,t,d.length)}else r.unshift(a),Yf(e,t,0);else o=o||new Map,a.findHostDirectiveDefs?.(a,r,o),r.push(a)}return null===r?null:[r,o]}(e,n);let a,d;null===i?a=d=null:[a,d]=i,null!==a&&sy(e,t,n,a,o,d),o&&function FD(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new J(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=Lo(n.mergedAttrs,n.attrs)}function sy(e,t,n,r,o,i){for(let p=0;p<r.length;p++)tf(Qu(n,t),e,r[p].type);!function HD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let p=0;p<r.length;p++){const y=r[p];y.providersResolver&&y.providersResolver(y)}let a=!1,d=!1,f=gc(e,t,r.length,null);for(let p=0;p<r.length;p++){const y=r[p];n.mergedAttrs=Lo(n.mergedAttrs,y.hostAttrs),UD(e,n,t,f,y),VD(f,y,o),null!==y.contentQueries&&(n.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(n.flags|=64);const _=y.type.prototype;!a&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),a=!0),!d&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),f++}!function AD(e,t,n){const o=t.directiveEnd,i=e.data,a=t.attrs,d=[];let f=null,p=null;for(let y=t.directiveStart;y<o;y++){const _=i[y],b=n?n.get(_):null,S=b?b.outputs:null;f=oy(0,_.inputs,y,f,b?b.inputs:null),p=oy(1,_.outputs,y,p,S);const N=null===f||null===a||ya(t)?null:zD(f,y,a);d.push(N)}null!==f&&(f.hasOwnProperty("class")&&(t.flags|=8),f.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=d,t.inputs=f,t.outputs=p}(e,n,i)}function ay(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,a=function po(){return fe.lFrame.currentDirectiveIndex}();try{hn(i);for(let d=r;d<o;d++){const f=e.data[d],p=t[d];Qo(d),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&LD(f,p)}}finally{hn(-1),Qo(a)}}function LD(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Yf(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function VD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ln(t)&&(n[""]=e)}}function UD(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=Mr(o.type)),a=new k(i,ln(o),ys);e.blueprint[r]=a,n[r]=a,function RD(e,t,n,r,o){const i=o.hostBindings;if(i){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const d=~t.index;(function PD(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=d&&a.push(d),a.push(n,r,i)}}(e,t,r,gc(e,n,o.hostVars,_e),o)}function vr(e,t,n,r,o,i){const a=Ye(e,t);!function Xf(e,t,n,r,o,i,a){if(null==i)e.removeAttribute(t,o,n);else{const d=null==a?me(i):a(i,r||"",o);e.setAttribute(t,o,d,n)}}(t[ce],a,i,e.value,n,r,o)}function WD(e,t,n,r,o,i){const a=i[t];if(null!==a)for(let d=0;d<a.length;)ey(r,n,a[d++],a[d++],a[d++],a[d++])}function zD(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const a=e[i];for(let d=0;d<a.length;d+=3)if(a[d]===t){r.push(i,a[d+1],a[d+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function cy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function uy(e,t){const n=e.contentQueries;if(null!==n){const r=$(null);try{for(let o=0;o<n.length;o+=2){const a=n[o+1];if(-1!==a){const d=e.data[a];gr(n[o]),d.contentQueries(2,t[a],a)}}}finally{$(r)}}}function Cl(e,t){return e[io]?e[qn][bn]=t:e[io]=t,e[qn]=t,t}function eh(e,t,n){gr(0);const r=$(null);try{t(e,n)}finally{$(r)}}function ly(e){return e[$t]??=[]}function dy(e){return e.cleanup??=[]}function Sl(e,t){const n=e[De],r=n?n.get(Hr,null):null;r&&r.handleError(t)}function th(e,t,n,r,o){for(let i=0;i<n.length;){const a=n[i++],d=n[i++],f=n[i++];ey(e.data[a],t[a],r,d,f,o)}}function Br(e,t,n){const r=Cn(t,e);!function jm(e,t,n){e.setValue(t,n)}(e[ce],r,n)}function $D(e,t){const n=yt(t,e),r=n[U];!function KD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[Je];null!==o&&null===n[At]&&(n[At]=bf(o,n[De])),nh(r,n,n[ze])}function nh(e,t,n){Yo(t);try{const r=e.viewQuery;null!==r&&eh(1,r,n);const o=e.template;null!==o&&ty(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Jn]?.finishViewCreation(e),e.staticContentQueries&&uy(e,t),e.staticViewQueries&&eh(2,e.viewQuery,n);const i=e.components;null!==i&&function GD(e,t){for(let n=0;n<t.length;n++)$D(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[re]&=-5,Ce()}}function si(e,t){return!t||null===t.firstChild||rc(e)}function mc(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=t[n.index];null!==i&&r.push(Te(i)),Et(i)&&py(i,r);const a=n.type;if(8&a)mc(e,t,n.child,r);else if(32&a){const d=Lf(n,t);let f;for(;f=d();)r.push(f)}else if(16&a){const d=Gm(t,n);if(Array.isArray(d))r.push(...d);else{const f=xt(t[He]);mc(f[U],f,d,r,!0)}}n=o?n.projectionNext:n.next}return r}function py(e,t){for(let n=nt;n<e.length;n++){const r=e[n],o=r[U].firstChild;null!==o&&mc(r[U],r,o,t)}e[En]!==e[Je]&&t.push(e[En])}let gy=[];const QD={...q,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{hr(e.lView)},consumerOnSignalRead(){this.lView[Qt]=this}},XD={...q,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=xt(e.lView);for(;t&&!my(t[U]);)t=xt(t);t&&fr(t)},consumerOnSignalRead(){this.lView[Qt]=this}};function my(e){return 2!==e.type}const eC=100;function Tl(e,t=!0,n=0){const r=e[tn],o=r.rendererFactory;o.begin?.();try{!function tC(e,t){const n=$u();try{ns(!0),oh(e,t);let r=0;for(;Xn(e);){if(r===eC)throw new J(103,!1);r++,oh(e,1)}}finally{ns(n)}}(e,n)}catch(a){throw t&&Sl(e,a),a}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function nC(e,t,n,r){const o=t[re];if(!(256&~o))return;t[tn].inlineEffectRunner?.flush(),Yo(t);let d=!0,f=null,p=null;my(e)?(p=function qD(e){return e[Qt]??function JD(e){const t=gy.pop()??Object.create(QD);return t.lView=e,t}(e)}(t),f=We(p)):null===function de(){return Z}()?(d=!1,p=function YD(e){const t=e[Qt]??Object.create(XD);return t.lView=e,t}(t),f=We(p)):t[Qt]&&(Er(t[Qt]),t[Qt]=null);try{Jo(t),function rs(e){return fe.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ty(e,t,n,2,r);const y=!(3&~o);if(y){const E=e.preOrderCheckHooks;null!==E&&g(t,E,null)}else{const E=e.preOrderHooks;null!==E&&m(t,E,0,null),v(t,0)}if(function rC(e){for(let t=Kg(e);null!==t;t=Gg(t)){if(!(t[re]&uo.HasTransplantedViews))continue;const n=t[Or];for(let r=0;r<n.length;r++)fr(n[r])}}(t),vy(t,0),null!==e.contentQueries&&uy(e,t),y){const E=e.contentCheckHooks;null!==E&&g(t,E)}else{const E=e.contentHooks;null!==E&&m(t,E,1),v(t,1)}!function ID(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)hn(~o);else{const i=o,a=n[++r],d=n[++r];qa(a,i),d(2,t[i])}}}finally{hn(-1)}}(e,t);const _=e.components;null!==_&&wy(t,_,0);const b=e.viewQuery;if(null!==b&&eh(2,b,r),y){const E=e.viewCheckHooks;null!==E&&g(t,E)}else{const E=e.viewHooks;null!==E&&m(t,E,2),v(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Wi]){for(const E of t[Wi])E();t[Wi]=null}t[re]&=-73}catch(y){throw hr(t),y}finally{null!==p&&(Ot(p,f),d&&function ZD(e){e.lView[Qt]!==e&&(e.lView=null,gy.push(e))}(p)),Ce()}}function vy(e,t){for(let n=Kg(e);null!==n;n=Gg(n))for(let r=nt;r<n.length;r++)_y(n[r],t)}function oC(e,t,n){_y(yt(t,e),n)}function _y(e,t){Wa(e)&&oh(e,t)}function oh(e,t){const r=e[U],o=e[re],i=e[Qt];let a=!!(0===t&&16&o);if(a||=!!(64&o&&0===t),a||=!!(1024&o),a||=!(!i?.dirty||!qt(i)),a||=!1,i&&(i.dirty=!1),e[re]&=-9217,a)nC(r,e,r.template,e[ze]);else if(8192&o){vy(e,1);const d=r.components;null!==d&&wy(e,d,1)}}function wy(e,t,n){for(let r=0;r<t.length;r++)oC(e,t[r],n)}function yc(e,t){const n=$u()?64:1088;for(e[tn].changeDetectionScheduler?.notify(t);e;){e[re]|=n;const r=xt(e);if(Lr(e)&&!r)return e;e=r}return null}class vc{get rootNodes(){const t=this._lView,n=t[U];return mc(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ze]}set context(t){this._lView[ze]=t}get destroyed(){return!(256&~this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[et];if(Et(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(hc(t,r),Jt(n,r))}this._attachedToViewContainer=!1}Il(this._lView[U],this._lView)}onDestroy(t){Xe(this._lView,t)}markForCheck(){yc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Pe(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,Tl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Lr(this._lView),n=this._lView[Ht];null!==n&&!t&&Vf(n,this._lView),Fm(this._lView[U],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=t;const n=Lr(this._lView),r=this._lView[Ht];null!==r&&!n&&Vm(r,this._lView),Pe(this._lView)}}let _c=(()=>{class e{static{this.__NG_ELEMENT_ID__=aC}}return e})();const iC=_c,sC=class extends iC{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function vs(e,t,n,r){const o=$(null);try{const i=t.tView,f=Dl(e,i,n,4096&e[re]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);f[Ht]=e[t.index];const y=e[Jn];return null!==y&&(f[Jn]=y.createEmbeddedView(i)),nh(i,f,n),f}finally{$(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new vc(o)}};function aC(){return Ml(Me(),A())}function Ml(e,t){return 4&e.type?new sC(t,e,us(e,t)):null}class Is{}const Tc=new ve("",{providedIn:"root",factory:()=>!1}),By=new ve(""),gh=new ve("");class XC{}class Wy{}class tS{resolveComponentFactory(t){throw function eS(e){const t=Error(`No component factory found for ${pt(e)}.`);return t.ngComponent=e,t}(t)}}class Pl{static{this.NULL=new tS}}class mh{}let nS=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function rS(){const e=A(),n=yt(Me().index,e);return(ft(n)?n:e)[ce]}()}}return e})(),oS=(()=>{class e{static{this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>null})}}return e})();function vo(e){return!!lt(e)}function Ll(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let a=0;a<t.length;a++){const d=t[a];"number"==typeof d?i=d:1==i?o=na(o,d):2==i&&(r=na(r,d+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class Gy extends Pl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=pe(t);return new xc(n,this.ngModule)}}function qy(e,t){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(void 0===o)continue;const i=Array.isArray(o),a=i?o[0]:o;n.push(t?{propName:a,templateName:r,isSignal:!!((i?o[1]:jn.None)&jn.SignalBased)}:{propName:a,templateName:r})}return n}class xc extends Wy{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=qy(t.inputs,!0);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return qy(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function ba(e){return e.map(Fd).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const i=$(null);try{let a=(o=o||this.ngModule)instanceof je?o:o?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const d=a?new he(t,a):t,f=d.get(mh,null);if(null===f)throw new J(407,!1);const _={rendererFactory:f,sanitizer:d.get(oS,null),inlineEffectRunner:null,changeDetectionScheduler:d.get(Is,null)},b=f.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",S=r?function ED(e,t,n,r){const i=r.get(dm,!1)||n===Gn.ShadowDom,a=e.selectRootElement(t,i);return function DD(e){ry(e)}(a),a}(b,r,this.componentDef.encapsulation,d):wl(b,E,function aS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(E));let N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let B=null;null!==S&&(B=bf(S,d,!0));const G=Zf(0,null,null,1,0,null,null,null,null,null,null),x=Dl(null,G,null,N,null,null,_,b,d,null,B);Yo(x);let ye,xe,Ke=null;try{const It=this.componentDef;let yn,Ks=null;It.findHostDirectiveDefs?(yn=[],Ks=new Map,It.findHostDirectiveDefs(It,yn,Ks),yn.push(It)):yn=[It];const fb=function uS(e,t){const n=e[U],r=ee;return e[r]=t,ii(n,r,2,"#host",null)}(x,S);Ke=function lS(e,t,n,r,o,i,a){const d=o[U];!function dS(e,t,n,r){for(const o of e)t.mergedAttrs=Lo(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Ll(t,t.mergedAttrs,!0),null!==n&&Qm(r,n,t))}(r,e,t,a);let f=null;null!==t&&(f=bf(t,o[De]));const p=i.rendererFactory.createRenderer(t,n);let y=16;n.signals?y=4096:n.onPush&&(y=64);const _=Dl(o,ny(n),null,y,o[e.index],e,i,p,null,null,f);return d.firstCreatePass&&Yf(d,e,r.length-1),Cl(o,_),o[e.index]=_}(fb,S,It,yn,x,_,b),xe=Fr(G,ee),S&&function hS(e,t,n,r){if(r)xr(e,n,["ng-version","18.2.14"]);else{const{attrs:o,classes:i}=function Vd(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!un(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&xr(e,n,o),i&&i.length>0&&Zm(e,n,i.join(" "))}}(b,It,S,r),void 0!==n&&function pS(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(xe,this.ngContentSelectors,n),ye=function fS(e,t,n,r,o,i){const a=Me(),d=o[U],f=Ye(a,o);sy(d,o,a,n,null,r);for(let y=0;y<n.length;y++)en(ei(o,d,a.directiveStart+y,a),o);ay(d,o,a),f&&en(f,o);const p=ei(o,d,a.directiveStart+a.componentOffset,a);if(e[ze]=o[ze]=p,null!==i)for(const y of i)y(p,t);return Gf(d,a,o),p}(Ke,It,yn,Ks,x,[gS]),nh(G,x,null)}catch(It){throw null!==Ke&&hf(Ke),hf(x),It}finally{Ce()}return new cS(this.componentType,ye,us(xe,x),x,xe)}finally{$(i)}}}class cS extends XC{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vc(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;th(i[U],i,o,t,n),this.previousInputValues.set(t,n),yc(yt(this._tNode.index,i),1)}}get injector(){return new kt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function gS(){const e=Me();h(A()[U],e)}let jl=(()=>{class e{static{this.__NG_ELEMENT_ID__=mS}}return e})();function mS(){return Qy(Me(),A())}const yS=jl,Jy=class extends yS{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return us(this._hostTNode,this._hostLView)}get injector(){return new kt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Yu(this._hostTNode,this._hostLView);if(Ae(t)){const n=Yt(t,this._hostLView),r=Nt(t);return new kt(n[U].data[r+8],n)}return new kt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Zy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-nt}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const d=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(d,o,si(this._hostTNode,null)),d}createComponent(t,n,r,o,i){const a=t&&!oo(t);let d;if(a)d=n;else{const S=n||{};d=S.index,r=S.injector,o=S.projectableNodes,i=S.environmentInjector||S.ngModuleRef}const f=a?t:new xc(pe(t)),p=r||this.parentInjector;if(!i&&null==f.ngModule){const N=(a?p:this.parentInjector).get(je,null);N&&(i=N)}pe(f.componentType??{});const E=f.create(p,o,null,i);return this.insertImpl(E.hostView,d,si(this._hostTNode,null)),E}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function Jd(e){return Et(e[et])}(o)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const f=o[et],p=new Jy(f,f[dt],f[et]);p.detach(p.indexOf(t))}}const i=this._adjustIndex(n),a=this._lContainer;return function _s(e,t,n,r=!0){const o=t[U];if(function fD(e,t,n,r){const o=nt+r,i=n.length;r>0&&(n[o-1][bn]=t),r<i-nt?(t[bn]=n[o],cn(n,nt+r,t)):(n.push(t),t[bn]=null),t[et]=n;const a=t[Ht];null!==a&&n!==a&&Vm(a,t);const d=t[Jn];null!==d&&d.insertView(e),Pe(t),t[re]|=128}(o,t,e,n),r){const a=zf(n,e),d=t[ce],f=Bf(d,e[En]);null!==f&&function lD(e,t,n,r,o,i){r[Je]=o,r[dt]=t,El(e,r,n,1,o,i)}(o,e[dt],d,t,f,a)}const i=t[At];null!==i&&null!==i.firstChild&&(i.firstChild=null)}(a,o,i,r),t.attachToViewContainerRef(),cn(_h(a),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Zy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=hc(this._lContainer,n);r&&(Jt(_h(this._lContainer),n),Il(r[U],r))}detach(t){const n=this._adjustIndex(t,-1),r=hc(this._lContainer,n);return r&&null!=Jt(_h(this._lContainer),n)?new vc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Zy(e){return e[8]}function _h(e){return e[8]||(e[8]=[])}function Qy(e,t){let n;const r=t[e.index];return Et(r)?n=r:(n=cy(r,t,null,e),t[e.index]=n,Cl(t,n)),Yy(n,t,e,r),new Jy(n,e,t)}let Yy=function ev(e,t,n,r){if(e[En])return;let o;o=8&n.type?Te(r):function vS(e,t){const n=e[ce],r=n.createComment(""),o=Ye(t,e);return ri(n,Bf(n,o),r,function gD(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[En]=o},wh=()=>!1;class Ih{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ih(this.queryList)}setDirty(){this.queryList.setDirty()}}class bh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const a=n.getByIndex(i);o.push(this.queries[a.indexInDeclarationView].clone())}return new bh(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Th(t,n).matches&&this.queries[n].setDirty()}}class tv{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function SS(e){return e.split(",").map(t=>t.trim())}(t):t}}class Eh{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Eh(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Dh{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Dh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,bS(n,i)),this.matchTNodeWithReadOption(t,n,Xu(n,t,i,!1,!1))}else r===_c?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Xu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===tc||o===jl||o===_c&&4&n.type)this.addMatch(n.index,-2);else{const i=Xu(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function bS(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function DS(e,t,n,r){return-1===n?function ES(e,t){return 11&e.type?us(e,t):4&e.type?Ml(e,t):null}(t,e):-2===n?function CS(e,t,n){return n===tc?us(t,e):n===_c?Ml(t,e):n===jl?Qy(t,e):void 0}(e,t,r):ei(e,e[U],n,t)}function nv(e,t,n,r){const o=t[Jn].queries[r];if(null===o.matches){const i=e.data,a=n.matches,d=[];for(let f=0;null!==a&&f<a.length;f+=2){const p=a[f];d.push(p<0?null:DS(t,i[p],a[f+1],n.metadata.read))}o.matches=d}return o.matches}function Ch(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const a=nv(e,t,o,n);for(let d=0;d<i.length;d+=2){const f=i[d];if(f>0)r.push(a[d/2]);else{const p=i[d+1],y=t[-f];for(let _=nt;_<y.length;_++){const b=y[_];b[Ht]===b[et]&&Ch(b[U],b,p,r)}if(null!==y[Or]){const _=y[Or];for(let b=0;b<_.length;b++){const E=_[b];Ch(E[U],E,p,r)}}}}}return r}function rv(e,t,n){const r=new lf(!(4&~n));return function TD(e,t,n,r){const o=ly(t);o.push(n),e.firstCreatePass&&dy(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[Jn]??=new bh).queries.push(new Ih(r))-1}function sv(e,t,n){null===e.queries&&(e.queries=new Eh),e.queries.track(new Dh(t,n))}function Th(e,t){return e.queries.getByIndex(t)}function av(e,t){const n=e[U],r=Th(n,t);return r.crossesNgTemplate?Ch(n,e,t,[]):nv(n,e,r,t)}const cv=new Set;function sn(e){cv.has(e)||(cv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function lv(e,t){sn("NgSignals");const n=function Qs(e){const t=Object.create(vi);t.value=e;const n=()=>(F(t),t.value);return n[K]=t,n}(e),r=n[K];return t?.equal&&(r.equal=t.equal),n.set=o=>Wr(r,o),n.update=o=>function yi(e,t){Be()||mi(),Wr(e,t(e.value))}(r,o),n.asReadonly=dv.bind(n),n}function dv(){const e=this[K];if(void 0===e.readonlyFn){const t=()=>this();t[K]=e,e.readonlyFn=t}return e.readonlyFn}function fv(e){return function uv(e){return"function"==typeof e&&void 0!==e[K]}(e)&&"function"==typeof e.set}function Ah(e){let t=function Ev(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(ln(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new J(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const a=e;a.inputs=Vl(e.inputs),a.inputTransforms=Vl(e.inputTransforms),a.declaredInputs=Vl(e.declaredInputs),a.outputs=Vl(e.outputs);const d=o.hostBindings;d&&US(e,d);const f=o.viewQuery,p=o.contentQueries;if(f&&VS(e,f),p&&HS(e,p),jS(e,o),Ed(e.outputs,o.outputs),ln(o)&&o.data.animation){const y=e.data;y.animation=(y.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let a=0;a<i.length;a++){const d=i[a];d&&d.ngInherit&&d(e),d===Ah&&(n=!1)}}t=Object.getPrototypeOf(t)}!function FS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Lo(o.hostAttrs,n=Lo(n,o.hostAttrs))}}(r)}function jS(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Vl(e){return e===On?{}:e===Ne?[]:e}function VS(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function HS(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function US(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function Mv(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}e.inputTransforms=n}class ui{}class Av{}function GS(e,t){return new Nh(e,t??null,[])}class Nh extends ui{constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gy(this);const i=lt(t);this._bootstrapComponents=Tn(i.bootstrap),this._r3Injector=Tg(t,n,[{provide:ui,useValue:this},{provide:Pl,useValue:this.componentFactoryResolver},...r],pt(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class kh extends Av{constructor(t){super(),this.moduleType=t}create(t){return new Nh(this.moduleType,t,[])}}class xv extends ui{constructor(t){super(),this.componentFactoryResolver=new Gy(this),this.instance=null;const n=new cr([...t.providers,{provide:ui,useValue:this},{provide:Pl,useValue:this.componentFactoryResolver}],t.parent||Vt(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Rh(e,t,n=null){return new xv({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Hl(e){return!!Ph(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ph(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Rc(e,t,n,r,o,i,a,d,f,p){const y=n+ee,_=t.firstCreatePass?function XS(e,t,n,r,o,i,a,d,f){const p=t.consts,y=ii(t,e,4,a||null,d||null);Qf(t,n,y,Dt(p,f)),h(t,y);const _=y.tView=Zf(2,y,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,p,null);return null!==t.queries&&(t.queries.template(t,y),_.queries=t.queries.embeddedTView(y)),y}(y,t,e,r,o,i,a,d,f):t.data[y];fn(_,!1);const b=Nv(t,e,_,n);s()&&bl(t,e,b,_),en(b,e);const E=cy(b,e,b,_);return e[y]=E,Cl(e,E),function Xy(e,t,n){return wh(e,t,n)}(E,_,e),lo(_)&&qf(t,e,_),null!=f&&Jf(e,_,p),_}function Oh(e,t,n,r,o,i,a,d){const f=A(),p=Ie();return Rc(f,p,e,t,n,r,o,Dt(p.consts,i),a,d),Oh}let Nv=function kv(e,t,n,r){return c(!0),t[ce].createComment("")};var Cs=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Cs||{});let Fv=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ke({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Lc{constructor(){this.ngZone=H(rt),this.scheduler=H(Is),this.errorHandler=H(Hr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Cs.EarlyRead,Cs.Write,Cs.MixedReadWrite,Cs.Read]}execute(){this.executing=!0;for(const t of Lc.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=ke({token:Lc,providedIn:"root",factory:()=>new Lc})}}function Gh(e,t,n,r){const o=A();return vt(o,on(),t)&&(Ie(),vr(Ue(),o,e,t,n,r)),Gh}function Rs(e,t,n,r,o,i){const d=function li(e,t,n,r){const o=vt(e,t,n);return vt(e,t+1,r)||o}(e,function Sn(){return fe.lFrame.bindingIndex}(),n,o);return Bt(2),d?t+me(n)+r+me(o)+i:_e}function Gl(e,t){return e<<17|t<<2}function Io(e){return e>>17&32767}function qh(e){return 2|e}function fi(e){return(131068&e)>>2}function Jh(e,t){return-131069&e|t<<2}function Zh(e){return 1|e}function f_(e,t,n,r){const o=e[n+1],i=null===t;let a=r?Io(o):fi(o),d=!1;for(;0!==a&&(!1===d||i);){const p=e[a+1];UT(e[a],t)&&(d=!0,e[a+1]=r?Zh(p):qh(p)),a=r?Io(p):fi(p)}d&&(e[n+1]=r?qh(o):Zh(o))}function UT(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ar(e,t)>=0}function Qh(e,t,n){const r=A();return vt(r,on(),t)&&gn(Ie(),Ue(),r,e,t,r[ce],n,!1),Qh}function Yh(e,t,n,r,o){const a=o?"class":"style";th(e,n,t.inputs[a],a,r)}function Xh(e,t){return function nr(e,t,n,r){const o=A(),i=Ie(),a=Bt(2);i.firstUpdatePass&&function I_(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[$e()],a=function w_(e,t){return t>=e.expandoStartIndex}(e,n);(function C_(e,t){return!!(e.flags&(t?8:16))})(i,r)&&null===t&&!a&&(t=!1),t=function ZT(e,t,n,r){const o=function Ja(e){const t=fe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Fc(n=ep(null,e,t,n,r),t.attrs,r),i=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==o)if(n=ep(o,e,t,n,r),null===i){let f=function QT(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==fi(r))return e[Io(r)]}(e,t,r);void 0!==f&&Array.isArray(f)&&(f=ep(null,e,t,f[1],r),f=Fc(f,t.attrs,r),function YT(e,t,n,r){e[Io(n?t.classBindings:t.styleBindings)]=r}(e,t,r,f))}else i=function XT(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Fc(r,e[i].hostAttrs,n);return Fc(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function VT(e,t,n,r,o,i){let a=i?t.classBindings:t.styleBindings,d=Io(a),f=fi(a);e[r]=n;let y,p=!1;if(Array.isArray(n)?(y=n[1],(null===y||Ar(n,y)>0)&&(p=!0)):y=n,o)if(0!==f){const b=Io(e[d+1]);e[r+1]=Gl(b,d),0!==b&&(e[b+1]=Jh(e[b+1],r)),e[d+1]=function jT(e,t){return 131071&e|t<<17}(e[d+1],r)}else e[r+1]=Gl(d,0),0!==d&&(e[d+1]=Jh(e[d+1],r)),d=r;else e[r+1]=Gl(f,0),0===d?d=r:e[f+1]=Jh(e[f+1],r),f=r;p&&(e[r+1]=qh(e[r+1])),f_(e,y,r,!0),f_(e,y,r,!1),function HT(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Ar(i,t)>=0&&(n[r+1]=Zh(n[r+1]))}(t,y,e,r,i),a=Gl(d,f),i?t.classBindings=a:t.styleBindings=a}(o,i,t,n,a,r)}}(i,e,a,r),t!==_e&&vt(o,a,t)&&function E_(e,t,n,r,o,i,a,d){if(!(3&t.type))return;const f=e.data,p=f[d+1],y=function FT(e){return!(1&~e)}(p)?D_(f,t,n,o,fi(p),a):void 0;ql(y)||(ql(i)||function LT(e){return!(2&~e)}(p)&&(i=D_(f,null,n,o,d,a)),function vD(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:_l.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=_l.Important),e.setStyle(n,r,o,i))}}(r,a,Cn($e(),n),o,i))}(i,i.data[$e()],o,o[ce],e,o[a+1]=function r0(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=pt(yo(e)))),e}(t,n),r,a)}(e,t,null,!0),Xh}function ep(e,t,n,r,o){let i=null;const a=n.directiveEnd;let d=n.directiveStylingLast;for(-1===d?d=n.directiveStart:d++;d<a&&(i=t[d],r=Fc(r,i.hostAttrs,o),i!==e);)d++;return null!==e&&(n.directiveStylingLast=d),r}function Fc(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?o=a:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Tt(e,a,!!n||t[++i]))}return void 0===e?null:e}function D_(e,t,n,r,o,i){const a=null===t;let d;for(;o>0;){const f=e[o],p=Array.isArray(f),y=p?f[1]:f,_=null===y;let b=n[o+1];b===_e&&(b=_?Ne:void 0);let E=_?Yr(b,r):y===r?b:void 0;if(p&&!ql(E)&&(E=Yr(f,r)),ql(E)&&(d=E,a))return d;const S=e[o+1];o=a?Io(S):fi(S)}if(null!==t){let f=i?t.residualClasses:t.residualStyles;null!=f&&(d=Yr(f,r))}return d}function ql(e){return void 0!==e}function Zl(e,t,n,r){const o=A(),i=Ie(),a=ee+e,d=o[ce],f=i.firstCreatePass?function S0(e,t,n,r,o,i){const a=t.consts,f=ii(t,e,2,r,Dt(a,o));return Qf(t,n,f,Dt(a,i)),null!==f.attrs&&Ll(f,f.attrs,!1),null!==f.mergedAttrs&&Ll(f,f.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,f),f}(a,i,o,t,n,r):i.data[a],p=A_(i,o,f,d,t,e);o[a]=p;const y=lo(f);return fn(f,!0),Qm(d,p,f),!function Es(e){return!(32&~e.flags)}(f)&&s()&&bl(i,o,p,f),0===function pr(){return fe.lFrame.elementDepthCount}()&&en(p,o),function $a(){fe.lFrame.elementDepthCount++}(),y&&(qf(i,o,f),Gf(i,f,o)),null!==r&&Jf(o,f),Zl}function Ql(){let e=Me();es()?Ga():(e=e.parent,fn(e,!1));const t=e;(function Qd(e){return fe.skipHydrationRootTNode===e})(t)&&function Uu(){fe.skipHydrationRootTNode=null}(),function Zd(){fe.lFrame.elementDepthCount--}();const n=Ie();return n.firstCreatePass&&(h(n,e),zi(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function O(e){return!!(8&e.flags)}(t)&&Yh(n,t,A(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function V(e){return!!(16&e.flags)}(t)&&Yh(n,t,A(),t.stylesWithoutHost,!1),Ql}function op(e,t,n,r){return Zl(e,t,n,r),Ql(),op}let A_=(e,t,n,r,o,i)=>(c(!0),wl(r,o,function Zu(){return fe.lFrame.currentNamespace}()));function ip(e,t,n){const r=A(),o=Ie(),i=e+ee,a=o.firstCreatePass?function A0(e,t,n,r,o){const i=t.consts,a=Dt(i,r),d=ii(t,e,8,"ng-container",a);return null!==a&&Ll(d,a,!0),Qf(t,n,d,Dt(i,o)),null!==t.queries&&t.queries.elementStart(t,d),d}(i,o,r,t,n):o.data[i];fn(a,!0);const d=x_(o,r,a,e);return r[i]=d,s()&&bl(o,r,d,a),en(d,r),lo(a)&&(qf(o,r,a),Gf(o,a,r)),null!=n&&Jf(r,a),ip}function sp(){let e=Me();const t=Ie();return es()?Ga():(e=e.parent,fn(e,!1)),t.firstCreatePass&&(h(t,e),zi(e)&&t.queries.elementEnd(e)),sp}function ap(e,t,n){return ip(e,t,n),sp(),ap}let x_=(e,t,n,r)=>(c(!0),Ff(t[ce],""));function N_(){return A()}const hi=void 0;var R0=["en",[["a","p"],["AM","PM"],hi],[["AM","PM"],hi,hi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hi,"{1} 'at' {0}",hi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function k0(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Us={};function cp(e){const t=function P0(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=O_(t);if(n)return n;const r=t.split("-")[0];if(n=O_(r),n)return n;if("en"===r)return R0;throw new J(701,!1)}function P_(e){return cp(e)[Bs.PluralCase]}function O_(e){return e in Us||(Us[e]=st.ng&&st.ng.common&&st.ng.common.locales&&st.ng.common.locales[e]),Us[e]}var Bs=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Bs||{});const Yl="en-US";let L_=Yl,ew=(e,t,n)=>{};function dp(e,t,n,r){const o=A(),i=Ie(),a=Me();return fp(i,o,o[ce],a,e,t,r),dp}function fp(e,t,n,r,o,i,a){const d=lo(r),p=e.firstCreatePass&&dy(e),y=t[ze],_=ly(t);let b=!0;if(3&r.type||a){const N=Ye(r,t),B=a?a(N):N,G=_.length,x=a?xe=>a(Te(xe[r.index])):r.index;let ye=null;if(!a&&d&&(ye=function bM(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const a=o[i];if(a===n&&o[i+1]===r){const d=t[$t],f=o[i+2];return d.length>f?d[f]:null}"string"==typeof a&&(i+=2)}return null}(e,t,o,r.index)),null!==ye)(ye.__ngLastListenerFn__||ye).__ngNextListenerFn__=i,ye.__ngLastListenerFn__=i,b=!1;else{i=ow(r,t,y,i),ew(N,o,i);const xe=n.listen(B,o,i);_.push(i,xe),p&&p.push(o,x,G,G+1)}}else i=ow(r,t,y,i);const E=r.outputs;let S;if(b&&null!==E&&(S=E[o])){const N=S.length;if(N)for(let B=0;B<N;B+=2){const Ke=t[S[B]][S[B+1]].subscribe(i),It=_.length;_.push(i,Ke),p&&p.push(o,r.index,It,-(It+1))}}}function rw(e,t,n,r){const o=$(null);try{return dn(6,t,n),!1!==n(r)}catch(i){return Sl(e,i),!1}finally{dn(7,t,n),$(o)}}function ow(e,t,n,r){return function o(i){if(i===Function)return r;yc(e.componentOffset>-1?yt(e.index,t):t,5);let d=rw(t,n,r,i),f=o.__ngNextListenerFn__;for(;f;)d=rw(t,n,f,i)&&d,f=f.__ngNextListenerFn__;return d}}function iw(e=1){return function Un(e){return(fe.lFrame.contextLView=function Yn(e,t){for(;e>0;)t=t[Hn],e--;return t}(e,fe.lFrame.contextLView))[ze]}(e)}function gw(e,t,n,r){!function iv(e,t,n,r){const o=Ie();if(o.firstCreatePass){const i=Me();sv(o,new tv(t,n,r),i.index),function TS(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return rv(o,A(),n)}(e,t,n,r)}function mw(e,t,n){!function ov(e,t,n){const r=Ie();return r.firstCreatePass&&(sv(r,new tv(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),rv(r,A(),t)}(e,t,n)}function yw(e){const t=A(),n=Ie(),r=Za();gr(r+1);const o=Th(n,r);if(e.dirty&&function qd(e){return!(4&~e[re])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=av(t,r);e.reset(i,Lg),e.notifyOnChanges()}return!0}return!1}function vw(){return function Sh(e,t){return e[Jn].queries[t].queryList}(A(),Za())}function Mw(e,t=""){const n=A(),r=Ie(),o=e+ee,i=r.firstCreatePass?ii(r,o,1,t,null):r.data[o],a=Aw(r,n,i,t,e);n[o]=a,s()&&bl(r,n,a,i),fn(i,!1)}let Aw=(e,t,n,r,o)=>(c(!0),function jf(e,t){return e.createText(t)}(t[ce],r));function gp(e){return nd("",e,""),gp}function nd(e,t,n){const r=A(),o=function ks(e,t,n,r){return vt(e,on(),n)?t+me(n)+r:_e}(r,e,t,n);return o!==_e&&Br(r,$e(),o),nd}function mp(e,t,n,r,o){const i=A(),a=Rs(i,e,t,n,r,o);return a!==_e&&Br(i,$e(),a),mp}function yp(e,t,n){fv(t)&&(t=t());const r=A();return vt(r,on(),t)&&gn(Ie(),Ue(),r,e,t,r[ce],n,!1),yp}function jw(e,t){const n=fv(e);return n&&e.set(t),n}function vp(e,t){const n=A(),r=Ie(),o=Me();return fp(r,n,n[ce],o,e,t),vp}function _p(e,t,n,r,o){if(e=se(e),Array.isArray(e))for(let i=0;i<e.length;i++)_p(e[i],t,n,r,o);else{const i=Ie(),a=A(),d=Me();let f=ar(e)?e:se(e.provide);const p=xa(e),y=1048575&d.providerIndexes,_=d.directiveStart,b=d.providerIndexes>>20;if(ar(e)||!e.multi){const E=new k(p,o,ys),S=Ip(f,t,o?y:y+b,_);-1===S?(tf(Qu(d,a),i,f),wp(i,e,t.length),t.push(f),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(E),a.push(E)):(n[S]=E,a[S]=E)}else{const E=Ip(f,t,y+b,_),S=Ip(f,t,y,y+b),B=S>=0&&n[S];if(o&&!B||!o&&!(E>=0&&n[E])){tf(Qu(d,a),i,f);const G=function GM(e,t,n,r,o){const i=new k(e,n,ys);return i.multi=[],i.index=t,i.componentProviders=0,Hw(i,o,r&&!n),i}(o?KM:$M,n.length,o,r,p);!o&&B&&(n[S].providerFactory=G),wp(i,e,t.length,0),t.push(f),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(G),a.push(G)}else wp(i,e,E>-1?E:S,Hw(n[o?S:E],p,!o&&r));!o&&r&&B&&n[S].componentProviders++}}}function wp(e,t,n,r){const o=ar(t),i=function Ho(e){return!!e.useClass}(t);if(o||i){const f=(i?se(t.useClass):t).prototype.ngOnDestroy;if(f){const p=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const y=p.indexOf(n);-1===y?p.push(n,[r,f]):p[y+1].push(r,f)}else p.push(n,f)}}}function Hw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ip(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function $M(e,t,n,r){return bp(this.multi,[])}function KM(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const a=this.providerFactory.componentProviders,d=ei(n,n[U],this.providerFactory.index,r);i=d.slice(0,a),bp(o,i);for(let f=a;f<d.length;f++)i.push(d[f])}else i=[],bp(o,i);return i}function bp(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Uw(e,t=[]){return n=>{n.providersResolver=(r,o)=>function zM(e,t,n){const r=Ie();if(r.firstCreatePass){const o=ln(e);_p(n,r.data,r.blueprint,o,!0),_p(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}let qM=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Ta(0,n.type),o=r.length>0?Rh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ke({token:e,providedIn:"environment",factory:()=>new e(Ve(je))})}}return e})();function Bw(e){sn("NgStandalone"),e.getStandaloneInjector=t=>t.get(qM).getOrCreateStandaloneInjector(e)}class dI{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let fI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const yI=new ve(""),vI=new ve("");let Mp,cx=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Mp||(function ux(e){Mp=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(Ve(rt),Ve(_I),Ve(vI))}}static{this.\u0275prov=ke({token:e,factory:e.\u0275fac})}}return e})(),_I=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Mp?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Ap(e){return!!e&&"function"==typeof e.then}function wI(e){return!!e&&"function"==typeof e.subscribe}const lx=new ve("");let II=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=H(lx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(Ap(i))n.push(i);else if(wI(i)){const a=new Promise((d,f)=>{i.subscribe({complete:d,error:f})});n.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const ad=new ve("");let br=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=H(Hb),this.afterRenderManager=H(Fv),this.zonelessEnabled=H(Tc),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Eo.B,this.afterTick=new Eo.B,this.componentTypes=[],this.components=[],this.isStable=H(ti).hasPendingTasks.pipe((0,ou.T)(n=>!n)),this._injector=H(je)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Wy;if(!this._injector.get(II).done)throw!o&&sr(n),new J(405,!1);let a;a=o?n:this._injector.get(Pl).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const d=function dx(e){return e.isBoundToModule}(a)?void 0:this._injector.get(ui),p=a.create(Xt.NULL,[],r||a.selector,d),y=p.location.nativeElement,_=p.injector.get(yI,null);return _?.registerApplication(y),p.onDestroy(()=>{this.detachView(p.hostView),cd(this.components,p),_?.unregisterApplication(y)}),this._loadComponent(p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new J(101,!1);const n=$(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,$(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(mh,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:i}of this._views)px(o,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>Xn(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;cd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(ad,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>cd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new J(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function px(e,t,n,r){(n||Xn(e))&&Tl(e,t,n&&!r?0:1)}class gx{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let mx=(()=>{class e{compileModuleSync(n){return new kh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=Tn(lt(n).declarations).reduce((a,d)=>{const f=pe(d);return f&&a.push(new xc(f)),a},[]);return new gx(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_x=(()=>{class e{constructor(){this.zone=H(rt),this.changeDetectionScheduler=H(Is),this.applicationRef=H(br)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xp({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new rt({...Np(),scheduleInRootZone:n}),[{provide:rt,useFactory:e},{provide:Ln,multi:!0,useFactory:()=>{const r=H(_x,{optional:!0});return()=>r.initialize()}},{provide:Ln,multi:!0,useFactory:()=>{const r=H(Ix);return()=>{r.initialize()}}},!0===t?{provide:By,useValue:!0}:[],{provide:gh,useValue:n??Ag}]}function Np(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Ix=(()=>{class e{constructor(){this.subscription=new wi.yU,this.initialized=!1,this.zone=H(rt),this.pendingTasks=H(ti)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{rt.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{rt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qc=(()=>{class e{constructor(){this.appRef=H(br),this.taskService=H(ti),this.ngZone=H(rt),this.zonelessEnabled=H(Tc),this.disableScheduling=H(By,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new wi.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(rl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(H(gh,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof uf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?Ng:xg;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(rl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ng(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=ke({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Rp=new ve("",{providedIn:"root",factory:()=>H(Rp,be.Optional|be.SkipSelf)||function bx(){return typeof $localize<"u"&&$localize.locale||Yl}()}),Ex=new ve("",{providedIn:"root",factory:()=>"USD"}),ld=new ve("");function dd(e){return!e.moduleRef}let bo=null;const $s=new ve("");let PI=(()=>{class e{static{this.__NG_ELEMENT_ID__=kx}}return e})();function kx(e){return function Rx(e,t,n){if(lr(e)&&!n){const r=yt(e.index,t);return new vc(r,r)}return 175&e.type?new vc(t[He],t):null}(Me(),A(),!(16&~e))}class FI{constructor(){}supports(t){return Hl(t)}create(t){return new Fx(t)}}const jx=(e,t)=>t;class Fx{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||jx}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const a=!r||n&&n.currentIndex<HI(r,o,i)?n:r,d=HI(a,o,i),f=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(n=n._next,null==a.previousIndex)o++;else{i||(i=[]);const p=d-o,y=f-o;if(p!=y){for(let b=0;b<p;b++){const E=b<i.length?i[b]:i[b]=0,S=E+b;y<=S&&S<p&&(i[b]=E+1)}i[a.previousIndex]=y-p}}d!==f&&t(a,d,f)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Hl(t))throw new J(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,a,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)i=t[d],a=this._trackByFn(d,i),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,i,a,d)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,a,d),r=!0),n=n._next}else o=0,function QS(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,d=>{a=this._trackByFn(o,d),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,d,a,o)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,a,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new Vx(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new VI),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vx{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class VI{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new Hx,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HI(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class UI{constructor(){}supports(t){return t instanceof Map||Ph(t)}create(){return new Ux}}class Ux{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Ph(t)))throw new J(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const i=o._prev,a=o._next;return i&&(i._next=a),a&&(a._prev=i),o._next=null,o._prev=null,o}const r=new Bx(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class Bx{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BI(){return new Fp([new FI])}let Fp=(()=>{class e{static{this.\u0275prov=ke({token:e,providedIn:"root",factory:BI})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||BI()),deps:[[e,new ki,new Pn]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new J(901,!1)}}return e})();function WI(){return new Vp([new UI])}let Vp=(()=>{class e{static{this.\u0275prov=ke({token:e,providedIn:"root",factory:WI})}constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||WI()),deps:[[e,new ki,new Pn]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new J(901,!1)}}return e})();function nN(e){const{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;try{const i=o?.injector??function Nx(e=[]){if(bo)return bo;const t=function NI(e=[],t){return Xt.create({name:t,providers:[{provide:mt,useValue:"platform"},{provide:ld,useValue:new Set([()=>bo=null])},...e]})}(e);return t.get($s,!1)||(bo=t),function bI(){!function Zs(e){Ge=e}(()=>{throw new J(600,!1)})}(),function kI(e){e.get(nm,null)?.forEach(n=>n())}(t),t}(r);if(!0===i.get($s,!1)&&!e.platformRef)throw new J(401,!1);const a=[xp({}),{provide:Is,useExisting:qc},...n||[]];return function AI(e){const t=dd(e)?e.r3Injector:e.moduleRef.injector,n=t.get(rt);return n.run(()=>{dd(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(Hr,null);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),dd(e)){const i=()=>t.destroy(),a=e.platformInjector.get(ld);a.add(i),t.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{const i=()=>e.moduleRef.destroy(),a=e.platformInjector.get(ld);a.add(i),e.moduleRef.onDestroy(()=>{cd(e.allPlatformModules,e.moduleRef),o.unsubscribe(),a.delete(i)})}return function hx(e,t,n){try{const r=n();return Ap(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(r,n,()=>{const i=t.get(II);return i.runInitializers(),i.donePromise.then(()=>{if(function F0(e){"string"==typeof e&&(L_=e.toLowerCase().replace(/_/g,"-"))}(t.get(Rp,Yl)||Yl),dd(e)){const d=t.get(br);return void 0!==e.rootComponent&&d.bootstrap(e.rootComponent),d}return function Mx(e,t){const n=e.injector.get(br);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new J(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new xv({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}}function bN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function DN(e,t){sn("NgSignals");const n=function Gs(e){const t=Object.create(Yc);t.computation=e;const n=()=>{if(Ze(t),F(t),t.value===gi)throw t.error;return t.value};return n[K]=t,n}(e);return t?.equal&&(n[K].equal=t.equal),n}function CN(e){const t=$(null);try{return e()}finally{$(t)}}},742:(ot,ge,W)=>{W.r(ge),W.d(ge,{APP_CONFIG:()=>ue,AUTH0_CONFIG:()=>Ce,AuthService:()=>ss,EventBus:()=>Ee,EventBusService:()=>Ze,STORAGE_CONFIG:()=>Un,STORAGE_KEYS:()=>$e,configureAuth0:()=>Xd,getAuthService:()=>Zu,getEventBusService:()=>Be,getStorageItem:()=>hn,removeStorageItem:()=>Qa,setStorageItem:()=>Ue});var D=W(467),Z=W(1413),le=W(7175),X=W(4412),K=W(5964),$=W(6354),de=W(4438);class Ee{eventSubject=new Z.B;emit(s,c){this.eventSubject.next({type:s,data:c,timestamp:Date.now()})}on(s){return this.eventSubject.asObservable().pipe((0,K.p)(c=>c.type===s),(0,$.T)(c=>c.data))}onMultiple(s){return this.eventSubject.asObservable().pipe((0,K.p)(c=>s.includes(c.type)))}onAll(){return this.eventSubject.asObservable()}}const ue={auth0Domain:"",auth0ClientId:"",apiUrl:""};function q(u,s,c,l){var m,h=arguments.length,g=h<3?s:null===l?l=Object.getOwnPropertyDescriptor(s,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(u,s,c,l);else for(var v=u.length-1;v>=0;v--)(m=u[v])&&(g=(h<3?m(g):h>3?m(s,c,g):m(s,c))||g);return h>3&&g&&Object.defineProperty(s,c,g),g}function F(u,s){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(u,s)}"function"==typeof SuppressedError&&SuppressedError;let Ze=class{onePlusNEvents;emitter=function Y(u){return{all:u=u||new Map,on:function(s,c){var l=u.get(s);l?l.push(c):u.set(s,[c])},off:function(s,c){var l=u.get(s);l&&(c?l.splice(l.indexOf(c)>>>0,1):u.set(s,[]))},emit:function(s,c){var l=u.get(s);l&&l.slice().map(function(h){h(c)}),(l=u.get("*"))&&l.slice().map(function(h){h(s,c)})}}}();constructor(){console.log("[EventBusService] Service initialized");const s=new Event("EventBusServiceCreated");this.onePlusNEvents=new le.m(100),this.onePlusNEvents.next(s.type),this.emitter.on("*",c=>{console.log("[EventBusService] Event received and forwarded to ReplaySubject:",c),this.onePlusNEvents.next(c)}),console.log("[EventBusService] Event listener registered for all events")}sendEvent(s){console.log("[EventBusService] sendEvent() called with:",s),this.emitter.emit(s),console.log("[EventBusService] Event emitted successfully")}};Ze=q([(0,de._qm)(),F("design:paramtypes",[])],Ze);const we=new Ze;function Be(){return we}function it(u,s){var c={};for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&s.indexOf(l)<0&&(c[l]=u[l]);if(null!=u&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(l=Object.getOwnPropertySymbols(u);h<l.length;h++)s.indexOf(l[h])<0&&Object.prototype.propertyIsEnumerable.call(u,l[h])&&(c[l[h]]=u[l[h]])}return c}"function"==typeof SuppressedError&&SuppressedError;var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ot={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});var Er=function(){function u(){var s=this;this.locked=new Map,this.addToLocked=function(c,l){var h=s.locked.get(c);void 0===h?s.locked.set(c,void 0===l?[]:[l]):void 0!==l&&(h.unshift(l),s.locked.set(c,h))},this.isLocked=function(c){return s.locked.has(c)},this.lock=function(c){return new Promise(function(l,h){s.isLocked(c)?s.addToLocked(c,l):(s.addToLocked(c),l())})},this.unlock=function(c){var l=s.locked.get(c);if(void 0!==l&&0!==l.length){var h=l.pop();s.locked.set(c,l),void 0!==h&&setTimeout(h,0)}else s.locked.delete(c)}}return u.getInstance=function(){return void 0===u.instance&&(u.instance=new u),u.instance},u}();qt.default=function(){return Er.getInstance()};var Re=We&&We.__awaiter||function(u,s,c,l){return new(c||(c=Promise))(function(h,g){function m(C){try{w(l.next(C))}catch(I){g(I)}}function v(C){try{w(l.throw(C))}catch(I){g(I)}}function w(C){C.done?h(C.value):new c(function(I){I(C.value)}).then(m,v)}w((l=l.apply(u,s||[])).next())})},te=We&&We.__generator||function(u,s){var c,l,h,g,m={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return g={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function v(w){return function(C){return function(I){if(c)throw new TypeError("Generator is already executing.");for(;m;)try{if(c=1,l&&(h=2&I[0]?l.return:I[0]?l.throw||((h=l.return)&&h.call(l),0):l.next)&&!(h=h.call(l,I[1])).done)return h;switch(l=0,h&&(I=[2&I[0],h.value]),I[0]){case 0:case 1:h=I;break;case 4:return m.label++,{value:I[1],done:!1};case 5:m.label++,l=I[1],I=[0];continue;case 7:I=m.ops.pop(),m.trys.pop();continue;default:if(!((h=(h=m.trys).length>0&&h[h.length-1])||6!==I[0]&&2!==I[0])){m=0;continue}if(3===I[0]&&(!h||I[1]>h[0]&&I[1]<h[3])){m.label=I[1];break}if(6===I[0]&&m.label<h[1]){m.label=h[1],h=I;break}if(h&&m.label<h[2]){m.label=h[2],m.ops.push(I);break}h[2]&&m.ops.pop(),m.trys.pop();continue}I=s.call(u,m)}catch(T){I=[6,T],l=0}finally{c=h=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([w,C])}}},Fe=We;Object.defineProperty(Ot,"__esModule",{value:!0});var ht=qt,xn={key:function(u){return Re(Fe,void 0,void 0,function(){return te(this,function(s){throw new Error("Unsupported")})})},getItem:function(u){return Re(Fe,void 0,void 0,function(){return te(this,function(s){throw new Error("Unsupported")})})},clear:function(){return Re(Fe,void 0,void 0,function(){return te(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return Re(Fe,void 0,void 0,function(){return te(this,function(s){throw new Error("Unsupported")})})},setItem:function(u,s){return Re(Fe,void 0,void 0,function(){return te(this,function(c){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,s){return window.localStorage.setItem(u,s)}};function Nn(u){return new Promise(function(s){return setTimeout(s,u)})}function Gs(u){for(var c="",l=0;l<u;l++)c+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(61*Math.random())];return c}var qs=function(){function u(s){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+Gs(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=s,void 0===u.waiters&&(u.waiters=[])}return u.prototype.acquireLock=function(s,c){return void 0===c&&(c=5e3),Re(this,void 0,void 0,function(){var l,h,g,m,v,w,C;return te(this,function(I){switch(I.label){case 0:l=Date.now()+Gs(4),h=Date.now()+c,g="browser-tabs-lock-key-"+s,m=void 0===this.storageHandler?xn:this.storageHandler,I.label=1;case 1:return Date.now()<h?[4,Nn(30)]:[3,8];case 2:return I.sent(),null!==m.getItemSync(g)?[3,5]:(v=this.id+"-"+s+"-"+l,[4,Nn(Math.floor(25*Math.random()))]);case 3:return I.sent(),m.setItemSync(g,JSON.stringify({id:this.id,iat:l,timeoutKey:v,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,Nn(30)];case 4:return I.sent(),null!==(w=m.getItemSync(g))&&(C=JSON.parse(w)).id===this.id&&C.iat===l?(this.acquiredIatSet.add(l),this.refreshLockWhileAcquired(g,l),[2,!0]):[3,7];case 5:return u.lockCorrector(void 0===this.storageHandler?xn:this.storageHandler),[4,this.waitForSomethingToChange(h)];case 6:I.sent(),I.label=7;case 7:return l=Date.now()+Gs(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(s,c){return Re(this,void 0,void 0,function(){var l=this;return te(this,function(h){return setTimeout(function(){return Re(l,void 0,void 0,function(){var g,m,v;return te(this,function(w){switch(w.label){case 0:return[4,ht.default().lock(c)];case 1:return w.sent(),this.acquiredIatSet.has(c)?null===(m=(g=void 0===this.storageHandler?xn:this.storageHandler).getItemSync(s))?(ht.default().unlock(c),[2]):((v=JSON.parse(m)).timeRefreshed=Date.now(),g.setItemSync(s,JSON.stringify(v)),ht.default().unlock(c),this.refreshLockWhileAcquired(s,c),[2]):(ht.default().unlock(c),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(s){return Re(this,void 0,void 0,function(){return te(this,function(c){switch(c.label){case 0:return[4,new Promise(function(l){var h=!1,g=Date.now(),m=!1;function v(){if(m||(window.removeEventListener("storage",v),u.removeFromWaiting(v),clearTimeout(w),m=!0),!h){h=!0;var C=50-(Date.now()-g);C>0?setTimeout(l,C):l(null)}}window.addEventListener("storage",v),u.addToWaiting(v);var w=setTimeout(v,Math.max(0,s-Date.now()))})];case 1:return c.sent(),[2]}})})},u.addToWaiting=function(s){this.removeFromWaiting(s),void 0!==u.waiters&&u.waiters.push(s)},u.removeFromWaiting=function(s){void 0!==u.waiters&&(u.waiters=u.waiters.filter(function(c){return c!==s}))},u.notifyWaiters=function(){void 0!==u.waiters&&u.waiters.slice().forEach(function(s){return s()})},u.prototype.releaseLock=function(s){return Re(this,void 0,void 0,function(){return te(this,function(c){switch(c.label){case 0:return[4,this.releaseLock__private__(s)];case 1:return[2,c.sent()]}})})},u.prototype.releaseLock__private__=function(s){return Re(this,void 0,void 0,function(){var c,l,h,g;return te(this,function(m){switch(m.label){case 0:return null===(h=(c=void 0===this.storageHandler?xn:this.storageHandler).getItemSync(l="browser-tabs-lock-key-"+s))?[2]:(g=JSON.parse(h)).id!==this.id?[3,2]:[4,ht.default().lock(g.iat)];case 1:m.sent(),this.acquiredIatSet.delete(g.iat),c.removeItemSync(l),ht.default().unlock(g.iat),u.notifyWaiters(),m.label=2;case 2:return[2]}})})},u.lockCorrector=function(s){for(var c=Date.now()-5e3,l=s,h=[],g=0;;){var m=l.keySync(g);if(null===m)break;h.push(m),g++}for(var v=!1,w=0;w<h.length;w++){var C=h[w];if(C.includes("browser-tabs-lock-key")){var I=l.getItemSync(C);if(null!==I){var T=JSON.parse(I);(void 0===T.timeRefreshed&&T.timeAcquired<c||void 0!==T.timeRefreshed&&T.timeRefreshed<c)&&(l.removeItemSync(C),v=!0)}}}v&&u.notifyWaiters()},u.waiters=void 0,u}(),Js=Ot.default=qs;const gi={timeoutInSeconds:60},Yc={name:"auth0-spa-js",version:"2.13.0"},Xc=()=>Date.now();class Ge extends Error{constructor(s,c){super(c),this.error=s,this.error_description=c,Object.setPrototypeOf(this,Ge.prototype)}static fromPayload(s){let{error:c,error_description:l}=s;return new Ge(c,l)}}class mi extends Ge{constructor(s,c,l){let h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(s,c),this.state=l,this.appState=h,Object.setPrototypeOf(this,mi.prototype)}}class Zs extends Ge{constructor(s,c,l,h){let g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(s,c),this.connection=l,this.state=h,this.appState=g,Object.setPrototypeOf(this,Zs.prototype)}}class Wn extends Ge{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Wn.prototype)}}class Qs extends Wn{constructor(s){super(),this.popup=s,Object.setPrototypeOf(this,Qs.prototype)}}class eu extends Ge{constructor(s){super("cancelled","Popup closed"),this.popup=s,Object.setPrototypeOf(this,eu.prototype)}}class tu extends Ge{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,tu.prototype)}}class Wr extends Ge{constructor(s,c,l,h){super(s,c),this.mfa_token=l,this.mfa_requirements=h,Object.setPrototypeOf(this,Wr.prototype)}}class yi extends Ge{constructor(s,c){super("missing_refresh_token","Missing Refresh Token (audience: '".concat(_i(s,["default"]),"', scope: '").concat(_i(c),"')")),this.audience=s,this.scope=c,Object.setPrototypeOf(this,yi.prototype)}}class nu extends Ge{constructor(s,c){super("missing_scopes","Missing requested scopes after refresh (audience: '".concat(_i(s,["default"]),"', missing scope: '").concat(_i(c),"')")),this.audience=s,this.scope=c,Object.setPrototypeOf(this,nu.prototype)}}class vi extends Ge{constructor(s){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=s,Object.setPrototypeOf(this,vi.prototype)}}function _i(u){return u&&!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).includes(u)?u:""}const Ys=()=>window.crypto,zr=()=>{let s="";return Array.from(Ys().getRandomValues(new Uint8Array(43))).forEach(c=>s+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~."[c%66]),s},Xs=u=>btoa(u),Bp=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],ru=function(u){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(u).reduce((c,l)=>{if(s&&"env"===l)return c;const h=Bp.find(g=>g.key===l);return h&&h.type.includes(typeof u[l])&&(c[l]=u[l]),c},{})},Eo=u=>{var l,{clientId:s}=u,c=it(u,["clientId"]);return new URLSearchParams((l=Object.assign({client_id:s},c),Object.keys(l).filter(h=>void 0!==l[h]).reduce((h,g)=>Object.assign(Object.assign({},h),{[g]:l[g]}),{}))).toString()},wi=function(){var u=(0,D.A)(function*(s){return yield Ys().subtle.digest({name:"SHA-256"},(new TextEncoder).encode(s))});return function(c){return u.apply(this,arguments)}}(),ou=u=>{return s=u.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(atob(s).split("").map(c=>"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)).join(""));var s},Id=u=>{const s=new Uint8Array(u);return(c=>{const l={"+":"-","/":"_","=":""};return c.replace(/[+/=]/g,h=>l[h])})(window.btoa(String.fromCharCode(...Array.from(s))))},iu=new TextEncoder,J=new TextDecoder;function vn(u){return"string"==typeof u?iu.encode(u):J.decode(u)}function Do(u){if("number"!=typeof u.modulusLength||u.modulusLength<2048)throw new Kr(`${u.name} modulusLength must be at least 2048 bits`)}function au(){return(au=(0,D.A)(function*(u,s,c){if(!1===c.usages.includes("sign"))throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const l=`${$r(vn(JSON.stringify(u)))}.${$r(vn(JSON.stringify(s)))}`;return`${l}.${$r(yield crypto.subtle.sign(function(h){switch(h.algorithm.name){case"ECDSA":return{name:h.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return Do(h.algorithm),{name:h.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return Do(h.algorithm),{name:h.algorithm.name};case"Ed25519":return{name:h.algorithm.name}}throw new Wt}(c),c,vn(l)))}`})).apply(this,arguments)}let cu;function $r(u){return cu(u)}cu=Uint8Array.prototype.toBase64?u=>(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),u.toBase64({alphabet:"base64url",omitPadding:!0})):s=>{s instanceof ArrayBuffer&&(s=new Uint8Array(s));const c=[];for(let l=0;l<s.byteLength;l+=32768)c.push(String.fromCharCode.apply(null,s.subarray(l,l+32768)));return btoa(c.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};class Wt extends Error{constructor(s){var c;super(s??"operation not supported"),this.name=this.constructor.name,null===(c=Error.captureStackTrace)||void 0===c||c.call(Error,this,this.constructor)}}class Kr extends Error{constructor(s){var c;super(s),this.name=this.constructor.name,null===(c=Error.captureStackTrace)||void 0===c||c.call(Error,this,this.constructor)}}function Gr(u){switch(u.algorithm.name){case"RSA-PSS":return function(s){if("SHA-256"===s.algorithm.hash.name)return"PS256";throw new Wt("unsupported RsaHashedKeyAlgorithm hash name")}(u);case"RSASSA-PKCS1-v1_5":return function(s){if("SHA-256"===s.algorithm.hash.name)return"RS256";throw new Wt("unsupported RsaHashedKeyAlgorithm hash name")}(u);case"ECDSA":return function(s){if("P-256"===s.algorithm.namedCurve)return"ES256";throw new Wt("unsupported EcKeyAlgorithm namedCurve")}(u);case"Ed25519":return"Ed25519";default:throw new Wt("unsupported CryptoKey algorithm name")}}function Dr(u){return u instanceof CryptoKey}function ea(u){return Dr(u)&&"public"===u.type}function or(){return or=(0,D.A)(function*(u,s,c,l,h,g){const m=u?.privateKey,v=u?.publicKey;if(!Dr(w=m)||"private"!==w.type)throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var w;if(!ea(v))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(!0!==v.extractable)throw new TypeError('"keypair.publicKey.extractable" must be true');if("string"!=typeof s)throw new TypeError('"htu" must be a string');if("string"!=typeof c)throw new TypeError('"htm" must be a string');if(void 0!==l&&"string"!=typeof l)throw new TypeError('"nonce" must be a string or undefined');if(void 0!==h&&"string"!=typeof h)throw new TypeError('"accessToken" must be a string or undefined');return function su(u,s,c){return au.apply(this,arguments)}({alg:Gr(m),typ:"dpop+jwt",jwk:yield bd(v)},Object.assign(Object.assign({},g),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:c,nonce:l,htu:s,ath:h?$r(yield crypto.subtle.digest("SHA-256",vn(h))):void 0}),m)}),or.apply(this,arguments)}function bd(u){return st.apply(this,arguments)}function st(){return(st=(0,D.A)(function*(u){const{kty:s,e:c,n:l,x:h,y:g,crv:m}=yield crypto.subtle.exportKey("jwk",u);return{kty:s,crv:m,e:c,n:l,x:h,y:g}})).apply(this,arguments)}const Wp=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange","http://auth0.com/oauth/grant-type/mfa-oob","http://auth0.com/oauth/grant-type/mfa-otp","http://auth0.com/oauth/grant-type/mfa-recovery-code"];const pt=function(){var u=(0,D.A)(function*(s,c){const l=yield fetch(s,c);return{ok:l.ok,json:yield l.json(),headers:(h=l.headers,[...h].reduce((g,m)=>{let[v,w]=m;return g[v]=w,g},{}))};var h});return function(c,l){return u.apply(this,arguments)}}(),na=function(){var u=(0,D.A)(function*(s,c,l){const h=new AbortController;let g;return c.signal=h.signal,Promise.race([pt(s,c),new Promise((m,v)=>{g=setTimeout(()=>{h.abort(),v(new Error("Timeout when executing 'fetch'"))},l)})]).finally(()=>{clearTimeout(g)})});return function(c,l,h){return u.apply(this,arguments)}}(),$p=function(){var u=(0,D.A)(function*(s,c,l,h,g,m,v,w){return C={auth:{audience:c,scope:l},timeout:g,fetchUrl:s,fetchOptions:h,useFormData:v,useMrrt:w},I=m,new Promise(function(T,k){const M=new MessageChannel;M.port1.onmessage=function(R){R.data.error?k(new Error(R.data.error)):T(R.data),M.port1.close()},I.postMessage(C,[M.port2])});var C,I});return function(c,l,h,g,m,v,w,C){return u.apply(this,arguments)}}(),Dd=function(){var u=(0,D.A)(function*(s,c,l,h,g,m){let v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e4;return g?$p(s,c,l,h,v,g,m,arguments.length>7?arguments[7]:void 0):na(s,h,v)});return function(c,l,h,g,m,v){return u.apply(this,arguments)}}();function Co(u,s,c,l,h,g,m,v,w,C){return se.apply(this,arguments)}function se(){return(se=(0,D.A)(function*(u,s,c,l,h,g,m,v,w,C){if(w){const ne=yield w.generateProof({url:u,method:h.method||"GET",nonce:yield w.getNonce()});h.headers=Object.assign(Object.assign({},h.headers),{dpop:ne})}let I,T=null;for(let ne=0;ne<3;ne++)try{I=yield Dd(u,c,l,h,g,m,s,v),T=null;break}catch(ie){T=ie}if(T)throw T;const k=I.json,{error:M,error_description:R}=k,L=it(k,["error","error_description"]),{headers:P,ok:O}=I;let V;if(w&&(V=P["dpop-nonce"],V&&(yield w.setNonce(V))),!O){const ne=R||"HTTP error. Unable to fetch ".concat(u);if("mfa_required"===M)throw new Wr(M,ne,L.mfa_token,L.mfa_requirements);if("missing_refresh_token"===M)throw new yi(c,l);if("use_dpop_nonce"===M){if(!w||!V||C)throw new vi(V);return Co(u,s,c,l,h,g,m,v,w,!0)}throw new Ge(M||"request_error",ne)}return L})).apply(this,arguments)}function zt(){return(zt=(0,D.A)(function*(u,s){var{baseUrl:c,timeout:l,audience:h,scope:g,auth0Client:m,useFormData:v,useMrrt:w,dpop:C}=u,I=it(u,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const T="urn:ietf:params:oauth:grant-type:token-exchange"===I.grant_type,k="refresh_token"===I.grant_type&&w,M=Object.assign(Object.assign(Object.assign(Object.assign({},I),T&&h&&{audience:h}),T&&g&&{scope:g}),k&&{audience:h,scope:g}),R=v?Eo(M):JSON.stringify(M),L=Wp.includes(I.grant_type);return yield Co("".concat(c,"/oauth/token"),l,h||"default",g,{method:"POST",body:R,headers:{"Content-Type":v?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(ru(m||Yc)))}},s,v,w,L?C:void 0)})).apply(this,arguments)}const bi=function(){for(var u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];return(u=>Array.from(new Set(u)))(s.filter(Boolean).join(" ").trim().split(/\s+/)).join(" ")},ra=(u,s,c)=>{let l;return c&&(l=u[c]),l||(l=u.default),bi(l,s)};class gt{constructor(s){let l=arguments.length>2?arguments[2]:void 0;this.prefix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@@auth0spajs@@",this.suffix=l,this.clientId=s.clientId,this.scope=s.scope,this.audience=s.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(s){const[c,l,h,g]=s.split("::");return new gt({clientId:l,scope:g,audience:h},c)}static fromCacheEntry(s){const{scope:c,audience:l,client_id:h}=s;return new gt({scope:c,audience:l,clientId:h})}}class Gp{set(s,c){localStorage.setItem(s,JSON.stringify(c))}get(s){const c=window.localStorage.getItem(s);if(c)try{return JSON.parse(c)}catch{return}}remove(s){localStorage.removeItem(s)}allKeys(){return Object.keys(window.localStorage).filter(s=>s.startsWith("@@auth0spajs@@"))}}class Cd{constructor(){this.enclosedCache=function(){let s={};return{set(c,l){s[c]=l},get(c){const l=s[c];if(l)return l},remove(c){delete s[c]},allKeys:()=>Object.keys(s)}}()}}class qp{constructor(s,c,l){this.cache=s,this.keyManifest=c,this.nowProvider=l||Xc}setIdToken(s,c,l){var h=this;return(0,D.A)(function*(){var g;const m=h.getIdTokenCacheKey(s);yield h.cache.set(m,{id_token:c,decodedToken:l}),yield null===(g=h.keyManifest)||void 0===g?void 0:g.add(m)})()}getIdToken(s){var c=this;return(0,D.A)(function*(){const l=yield c.cache.get(c.getIdTokenCacheKey(s.clientId));if(!l&&s.scope&&s.audience){const h=yield c.get(s);return h&&h.id_token&&h.decodedToken?{id_token:h.id_token,decodedToken:h.decodedToken}:void 0}if(l)return{id_token:l.id_token,decodedToken:l.decodedToken}})()}get(s){var c=arguments,l=this;return(0,D.A)(function*(){let h=c.length>1&&void 0!==c[1]?c[1]:0,g=c.length>2&&void 0!==c[2]&&c[2],m=c.length>3?c[3]:void 0;var v;let w=yield l.cache.get(s.toKey());if(!w){const T=yield l.getCacheKeys();if(!T)return;const k=l.matchExistingCacheKey(s,T);if(k&&(w=yield l.cache.get(k)),!w&&g&&"cache-only"!==m)return l.getEntryWithRefreshToken(s,T)}if(!w)return;const C=yield l.nowProvider(),I=Math.floor(C/1e3);return w.expiresAt-h<I?w.body.refresh_token?l.modifiedCachedEntry(w,s):(yield l.cache.remove(s.toKey()),void(yield null===(v=l.keyManifest)||void 0===v?void 0:v.remove(s.toKey()))):w.body})()}modifiedCachedEntry(s,c){var l=this;return(0,D.A)(function*(){return s.body={refresh_token:s.body.refresh_token,audience:s.body.audience,scope:s.body.scope},yield l.cache.set(c.toKey(),s),{refresh_token:s.body.refresh_token,audience:s.body.audience,scope:s.body.scope}})()}set(s){var c=this;return(0,D.A)(function*(){var l;const h=new gt({clientId:s.client_id,scope:s.scope,audience:s.audience}),g=yield c.wrapCacheEntry(s);yield c.cache.set(h.toKey(),g),yield null===(l=c.keyManifest)||void 0===l?void 0:l.add(h.toKey())})()}remove(s,c,l){var h=this;return(0,D.A)(function*(){const g=new gt({clientId:s,scope:l,audience:c});yield h.cache.remove(g.toKey())})()}clear(s){var c=this;return(0,D.A)(function*(){var l;const h=yield c.getCacheKeys();h&&(yield h.filter(g=>!s||g.includes(s)).reduce(function(){var g=(0,D.A)(function*(m,v){yield m,yield c.cache.remove(v)});return function(m,v){return g.apply(this,arguments)}}(),Promise.resolve()),yield null===(l=c.keyManifest)||void 0===l?void 0:l.clear())})()}wrapCacheEntry(s){var c=this;return(0,D.A)(function*(){const l=yield c.nowProvider();return{body:s,expiresAt:Math.floor(l/1e3)+s.expires_in}})()}getCacheKeys(){var s=this;return(0,D.A)(function*(){var c;return s.keyManifest?null===(c=yield s.keyManifest.get())||void 0===c?void 0:c.keys:s.cache.allKeys?s.cache.allKeys():void 0})()}getIdTokenCacheKey(s){return new gt({clientId:s},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(s,c){return c.filter(l=>{var h;const g=gt.fromKey(l),m=new Set(g.scope&&g.scope.split(" ")),v=(null===(h=s.scope)||void 0===h?void 0:h.split(" "))||[],w=g.scope&&v.reduce((C,I)=>C&&m.has(I),!0);return"@@auth0spajs@@"===g.prefix&&g.clientId===s.clientId&&g.audience===s.audience&&w})[0]}getEntryWithRefreshToken(s,c){var l=this;return(0,D.A)(function*(){var h;for(const g of c){const m=gt.fromKey(g);if("@@auth0spajs@@"===m.prefix&&m.clientId===s.clientId){const v=yield l.cache.get(g);if(null!==(h=v?.body)&&void 0!==h&&h.refresh_token)return l.modifiedCachedEntry(v,s)}}})()}updateEntry(s,c){var l=this;return(0,D.A)(function*(){var h;const g=yield l.getCacheKeys();if(g)for(const m of g){const v=yield l.cache.get(m);if((null===(h=v?.body)||void 0===h?void 0:h.refresh_token)===s){const w=Object.assign(Object.assign({},v.body),{refresh_token:c});yield l.set(w)}}})()}}class Jp{constructor(s,c,l){this.storage=s,this.clientId=c,this.cookieDomain=l,this.storageKey="".concat("a0.spajs.txs",".").concat(this.clientId)}create(s){this.storage.save(this.storageKey,s,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const So=u=>"number"==typeof u,Zp=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"];var Ei=We&&We.__assign||function(){return Ei=Object.assign||function(u){for(var s,c=1,l=arguments.length;c<l;c++)for(var h in s=arguments[c])Object.prototype.hasOwnProperty.call(s,h)&&(u[h]=s[h]);return u},Ei.apply(this,arguments)};function St(u,s){if(!s)return"";var c="; "+u;return!0===s?c:c+"="+s}function Td(u,s,c){document.cookie=function ae(u,s,c){return encodeURIComponent(u).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(s).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(l){if("number"==typeof l.expires){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*l.expires),l.expires=h}return St("Expires",l.expires?l.expires.toUTCString():"")+St("Domain",l.domain)+St("Path",l.path)+St("Secure",l.secure)+St("SameSite",l.sameSite)}(c)}(u,s,Ei({path:"/"},c))}var Md=Td,Ad=function(u,s){Td(u,"",Ei(Ei({},s),{expires:-1}))};const ke={get(u){const s=function(u){return function Qp(){return function(u){for(var s={},c=u?u.split("; "):[],l=/(%[\dA-F]{2})+/gi,h=0;h<c.length;h++){var g=c[h].split("="),m=g.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{s[g[0].replace(l,decodeURIComponent)]=m.replace(l,decodeURIComponent)}catch{}}return s}(document.cookie)}()[u]}(u);if(void 0!==s)return JSON.parse(s)},save(u,s,c){let l={};"https:"===window.location.protocol&&(l={secure:!0,sameSite:"none"}),c?.daysUntilExpire&&(l.expires=c.daysUntilExpire),c?.cookieDomain&&(l.domain=c.cookieDomain),Md(u,JSON.stringify(s),l)},remove(u,s){let c={};s?.cookieDomain&&(c.domain=s.cookieDomain),Ad(u,c)}},Xp={get:u=>ke.get(u)||ke.get("".concat("_legacy_").concat(u)),save(u,s,c){let l={};"https:"===window.location.protocol&&(l={secure:!0}),c?.daysUntilExpire&&(l.expires=c.daysUntilExpire),c?.cookieDomain&&(l.domain=c.cookieDomain),Md("".concat("_legacy_").concat(u),JSON.stringify(s),l),ke.save(u,s,c)},remove(u,s){let c={};s?.cookieDomain&&(c.domain=s.cookieDomain),Ad(u,c),ke.remove(u,s),ke.remove("".concat("_legacy_").concat(u),s)}},Di={get(u){if(typeof sessionStorage>"u")return;const s=sessionStorage.getItem(u);return null!=s?JSON.parse(s):void 0},save(u,s){sessionStorage.setItem(u,JSON.stringify(s))},remove(u){sessionStorage.removeItem(u)}};var kn,u;(u=kn||(kn={})).Code="code",u.ConnectCode="connect_code";var qr,ia=function(u){return qr=qr||function xd(u,s,c){var l=void 0===s?null:s,h=function(w,C){var I=atob(w);if(C){for(var T=new Uint8Array(I.length),k=0,M=I.length;k<M;++k)T[k]=I.charCodeAt(k);return String.fromCharCode.apply(null,new Uint16Array(T.buffer))}return I}(u,void 0!==c&&c),g=h.indexOf("\n",10)+1,m=h.substring(g)+(l?"//# sourceMappingURL="+l:""),v=new Blob([m],{type:"application/javascript"});return URL.createObjectURL(v)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHQpe2xldHtlcnJvcjpyLGVycm9yX2Rlc2NyaXB0aW9uOnN9PXQ7cmV0dXJuIG5ldyBlKHIscyl9fWNsYXNzIHQgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUscyl7c3VwZXIoIm1pc3NpbmdfcmVmcmVzaF90b2tlbiIsIk1pc3NpbmcgUmVmcmVzaCBUb2tlbiAoYXVkaWVuY2U6ICciLmNvbmNhdChyKGUsWyJkZWZhdWx0Il0pLCInLCBzY29wZTogJyIpLmNvbmNhdChyKHMpLCInKSIpKSx0aGlzLmF1ZGllbmNlPWUsdGhpcy5zY29wZT1zLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHQucHJvdG90eXBlKX19ZnVuY3Rpb24gcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W107cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+IiIuY29uY2F0KGUsInwiKS5jb25jYXQodCk7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jIGU9PntsZXQgcixjLHtkYXRhOnt0aW1lb3V0OmksYXV0aDphLGZldGNoVXJsOmYsZmV0Y2hPcHRpb25zOmwsdXNlRm9ybURhdGE6cCx1c2VNcnJ0Omh9LHBvcnRzOlt1XX09ZSxkPXt9O2NvbnN0e2F1ZGllbmNlOmcsc2NvcGU6eX09YXx8e307dHJ5e2NvbnN0IGU9cD8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShsLmJvZHkpOkpTT04ucGFyc2UobC5ib2R5KTtpZighZS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1lLmdyYW50X3R5cGUpe2lmKGM9KChlLHQpPT5vW24oZSx0KV0pKGcseSksIWMmJmgpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKCIiLmNvbmNhdChlLCJ8IikpKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxnKTtlJiYhdCYmKGM9ZSl9aWYoIWMpdGhyb3cgbmV3IHQoZyx5KTtsLmJvZHk9cD9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpfWxldCBhLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGE9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1hLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaj1pLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaikpKSksZmV0Y2goZixPYmplY3QuYXNzaWduKHt9LGwpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHUucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBhJiZhLmFib3J0KCksdm9pZCB1LnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO189ay5oZWFkZXJzLGQ9Wy4uLl9dLnJlZHVjZSgoKGUsdCk9PntsZXRbcixzXT10O3JldHVybiBlW3JdPXMsZX0pLHt9KSxyPWF3YWl0IGsuanNvbigpLHIucmVmcmVzaF90b2tlbj8oaCYmKG8ubGF0ZXN0X3JlZnJlc2hfdG9rZW49ci5yZWZyZXNoX3Rva2VuLE89YyxiPXIucmVmcmVzaF90b2tlbixPYmplY3QuZW50cmllcyhvKS5mb3JFYWNoKChlPT57bGV0W3Qscl09ZTtyPT09TyYmKG9bdF09Yil9KSkpLCgoZSx0LHIpPT57b1tuKHQscildPWV9KShyLnJlZnJlc2hfdG9rZW4sZyx5KSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTooKGUsdCk9PntkZWxldGUgb1tuKGUsdCldfSkoZyx5KSx1LnBvc3RNZXNzYWdlKHtvazprLm9rLGpzb246cixoZWFkZXJzOmR9KX1jYXRjaChlKXt1LnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcjplLmVycm9yLGVycm9yX2Rlc2NyaXB0aW9uOmUubWVzc2FnZX0saGVhZGVyczpkfSl9dmFyIE8sYixfLGp9KSl9KCk7Cgo=",null,!1),new Worker(qr,u)};const Ci={},lu=function(){var u=(0,D.A)(function*(s){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;for(let l=0;l<c;l++)if(yield s())return!0;return!1});return function(c){return u.apply(this,arguments)}}();class ve{constructor(s,c){this.cache=s,this.clientId=c,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(s){var c=this;return(0,D.A)(function*(){var l;const h=new Set((null===(l=yield c.cache.get(c.manifestKey))||void 0===l?void 0:l.keys)||[]);h.add(s),yield c.cache.set(c.manifestKey,{keys:[...h]})})()}remove(s){var c=this;return(0,D.A)(function*(){const l=yield c.cache.get(c.manifestKey);if(l){const h=new Set(l.keys);return h.delete(s),h.size>0?yield c.cache.set(c.manifestKey,{keys:[...h]}):yield c.cache.remove(c.manifestKey)}})()}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(s){return"".concat("@@auth0spajs@@","::").concat(s)}}const sa={memory:()=>(new Cd).enclosedCache,localstorage:()=>new Gp},Si=u=>sa[u],aa=u=>{const{openUrl:s,onRedirect:c}=u,l=it(u,["openUrl","onRedirect"]);return Object.assign(Object.assign({},l),{openUrl:!1===s||s?s:c})},Ti=(u,s)=>{const c=s?.split(" ")||[];return(u?.split(" ")||[]).every(l=>c.includes(l))},Cr={NONCE:"nonce",KEYPAIR:"keypair"};class ca{constructor(s){this.clientId=s}getVersion(){return 1}createDbHandle(){const s=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise((c,l)=>{s.onupgradeneeded=()=>Object.values(Cr).forEach(h=>s.result.createObjectStore(h)),s.onerror=()=>l(s.error),s.onsuccess=()=>c(s.result)})}getDbHandle(){var s=this;return(0,D.A)(function*(){return s.dbHandle||(s.dbHandle=yield s.createDbHandle()),s.dbHandle})()}executeDbRequest(s,c,l){var h=this;return(0,D.A)(function*(){const g=l((yield h.getDbHandle()).transaction(s,c).objectStore(s));return new Promise((m,v)=>{g.onsuccess=()=>m(g.result),g.onerror=()=>v(g.error)})})()}buildKey(s){const c=s?"_".concat(s):"auth0";return"".concat(this.clientId,"::").concat(c)}setNonce(s,c){return this.save(Cr.NONCE,this.buildKey(c),s)}setKeyPair(s){return this.save(Cr.KEYPAIR,this.buildKey(),s)}save(s,c,l){var h=this;return(0,D.A)(function*(){yield h.executeDbRequest(s,"readwrite",g=>g.put(l,c))})()}findNonce(s){return this.find(Cr.NONCE,this.buildKey(s))}findKeyPair(){return this.find(Cr.KEYPAIR,this.buildKey())}find(s,c){return this.executeDbRequest(s,"readonly",l=>l.get(c))}deleteBy(s,c){var l=this;return(0,D.A)(function*(){const h=yield l.executeDbRequest(s,"readonly",g=>g.getAllKeys());h?.filter(c).map(g=>l.executeDbRequest(s,"readwrite",m=>m.delete(g)))})()}deleteByClientId(s,c){return this.deleteBy(s,l=>"string"==typeof l&&l.startsWith("".concat(c,"::")))}clearNonces(){return this.deleteByClientId(Cr.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(Cr.KEYPAIR,this.clientId)}}class eg{constructor(s){this.storage=new ca(s)}getNonce(s){return this.storage.findNonce(s)}setNonce(s,c){return this.storage.setNonce(s,c)}getOrGenerateKeyPair(){var s=this;return(0,D.A)(function*(){let c=yield s.storage.findKeyPair();return c||(c=yield function zp(){return(u=(0,D.A)(function*(s,c){var l;let h;if(0===s.length)throw new TypeError('"alg" must be a non-empty string');switch(s){case"PS256":h={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":h={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":h={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":h={name:"Ed25519"};break;default:throw new Wt}return crypto.subtle.generateKey(h,null!==(l=c?.extractable)&&void 0!==l&&l,["sign","verify"])}),function(s,c){return u.apply(this,arguments)})("ES256",{extractable:!1});var u}(),yield s.storage.setKeyPair(c)),c})()}generateProof(s){var c=this;return(0,D.A)(function*(){const l=yield c.getOrGenerateKeyPair();return function Ed(u){let{keyPair:s,url:c,method:l,nonce:h,accessToken:g}=u;return function ta(u,s,c,l,h,g){return or.apply(this,arguments)}(s,function(v){const w=new URL(v);return w.search="",w.hash="",w.href}(c),l,h,g)}(Object.assign({keyPair:l},s))})()}calculateThumbprint(){var s=this;return(0,D.A)(function*(){return function Oe(u){return(s=(0,D.A)(function*(c){if(!ea(c))throw new TypeError('"publicKey" must be a public CryptoKey');if(!0!==c.extractable)throw new TypeError('"publicKey.extractable" must be true');const l=yield bd(c);let h;switch(l.kty){case"EC":h={crv:l.crv,kty:l.kty,x:l.x,y:l.y};break;case"OKP":h={crv:l.crv,kty:l.kty,x:l.x};break;case"RSA":h={e:l.e,kty:l.kty,n:l.n};break;default:throw new Wt("unsupported JWK kty")}return $r(yield crypto.subtle.digest({name:"SHA-256"},vn(JSON.stringify(h))))}),function(c){return s.apply(this,arguments)})(u.publicKey);var s}(yield s.getOrGenerateKeyPair())})()}clear(){var s=this;return(0,D.A)(function*(){yield Promise.all([s.storage.clearNonces(),s.storage.clearKeyPairs()])})()}}var Mo;!function(u){u.Bearer="Bearer",u.DPoP="DPoP"}(Mo||(Mo={}));class tg{constructor(s,c){this.hooks=c,this.config=Object.assign(Object.assign({},s),{fetch:s.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(s){return/^(https?:)?\/\//i.test(s)}buildUrl(s,c){if(c){if(this.isAbsoluteUrl(c))return c;if(s)return"".concat(s.replace(/\/?\/$/,""),"/").concat(c.replace(/^\/+/,""))}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(s){return this.config.getAccessToken?this.config.getAccessToken(s):this.hooks.getAccessToken(s)}extractUrl(s){return"string"==typeof s?s:s instanceof URL?s.href:s.url}buildBaseRequest(s,c){if(!this.config.baseUrl)return new Request(s,c);const l=this.buildUrl(this.config.baseUrl,this.extractUrl(s)),h=s instanceof Request?new Request(l,s):l;return new Request(h,c)}setAuthorizationHeader(s,c){s.headers.set("authorization","".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Mo.Bearer," ").concat(c))}setDpopProofHeader(s,c){var l=this;return(0,D.A)(function*(){if(!l.config.dpopNonceId)return;const h=yield l.hooks.getDpopNonce(),g=yield l.hooks.generateDpopProof({accessToken:c,method:s.method,nonce:h,url:s.url});s.headers.set("dpop",g)})()}prepareRequest(s,c){var l=this;return(0,D.A)(function*(){const h=yield l.getAccessToken(c);let g,m;"string"==typeof h?(g=l.config.dpopNonceId?Mo.DPoP:Mo.Bearer,m=h):(g=h.token_type,m=h.access_token),l.setAuthorizationHeader(s,m,g),g===Mo.DPoP&&(yield l.setDpopProofHeader(s,m))})()}getHeader(s,c){return Array.isArray(s)?new Headers(s).get(c)||"":"function"==typeof s.get?s.get(c)||"":s[c]||""}hasUseDpopNonceError(s){if(401!==s.status)return!1;const c=this.getHeader(s.headers,"www-authenticate");return c.includes("invalid_dpop_nonce")||c.includes("use_dpop_nonce")}handleResponse(s,c){var l=this;return(0,D.A)(function*(){const h=l.getHeader(s.headers,"dpop-nonce");if(h&&(yield l.hooks.setDpopNonce(h)),!l.hasUseDpopNonceError(s))return s;if(!h||!c.onUseDpopNonceError)throw new vi(h);return c.onUseDpopNonceError()})()}internalFetchWithAuth(s,c,l,h){var g=this;return(0,D.A)(function*(){const m=g.buildBaseRequest(s,c);yield g.prepareRequest(m,h);const v=yield g.config.fetch(m);return g.handleResponse(v,l)})()}fetchWithAuth(s,c,l){const h={onUseDpopNonceError:()=>this.internalFetchWithAuth(s,c,Object.assign(Object.assign({},h),{onUseDpopNonceError:void 0}),l)};return this.internalFetchWithAuth(s,c,h,l)}}class ng{constructor(s,c){this.myAccountFetcher=s,this.apiBase=c}connectAccount(s){var c=this;return(0,D.A)(function*(){const l=yield c.myAccountFetcher.fetchWithAuth("".concat(c.apiBase,"v1/connected-accounts/connect"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return c._handleResponse(l)})()}completeAccount(s){var c=this;return(0,D.A)(function*(){const l=yield c.myAccountFetcher.fetchWithAuth("".concat(c.apiBase,"v1/connected-accounts/complete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return c._handleResponse(l)})()}_handleResponse(s){return(0,D.A)(function*(){let c;try{c=yield s.text(),c=JSON.parse(c)}catch(l){throw new Jr({type:"invalid_json",status:s.status,title:"Invalid JSON response",detail:c||String(l)})}if(s.ok)return c;throw new Jr(c)})()}}class Jr extends Error{constructor(s){let{type:c,status:l,title:h,detail:g,validation_errors:m}=s;super(g),this.name="MyAccountApiError",this.type=c,this.status=l,this.title=h,this.detail=g,this.validation_errors=m,Object.setPrototypeOf(this,Jr.prototype)}}const Ao={otp:{authenticatorTypes:["otp"]},sms:{authenticatorTypes:["oob"],oobChannels:["sms"]},email:{authenticatorTypes:["oob"],oobChannels:["email"]},push:{authenticatorTypes:["oob"],oobChannels:["auth0"]},voice:{authenticatorTypes:["oob"],oobChannels:["voice"]}};function Rn(u,s){this.v=u,this.k=s}function qe(u,s,c){if("function"==typeof u?u===s:u.has(s))return arguments.length<3?s:c;throw new TypeError("Private element is not present on this object")}function fu(u){return new Rn(u,0)}function me(u,s){if(s.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function j(u,s){return u.get(qe(u,s))}function bt(u,s,c){me(u,s),s.set(u,c)}function Qe(u,s,c){return u.set(qe(u,s),c),c}function Q(u,s,c){return(s="symbol"==typeof(h=function(g){if("object"!=typeof g||!g)return g;var v=g[Symbol.toPrimitive];if(void 0!==v){var w=v.call(g,"string");if("object"!=typeof w)return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(s))?h:h+"")in u?Object.defineProperty(u,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[s]=c,u;var h}function Nd(u,s){var c=Object.keys(u);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(u);s&&(l=l.filter(function(h){return Object.getOwnPropertyDescriptor(u,h).enumerable})),c.push.apply(c,l)}return c}function oe(u){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?Nd(Object(c),!0).forEach(function(l){Q(u,l,c[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(c)):Nd(Object(c)).forEach(function(l){Object.defineProperty(u,l,Object.getOwnPropertyDescriptor(c,l))})}return u}function Mi(u,s){if(null==u)return{};var c,l,h=function(m,v){if(null==m)return{};var w={};for(var C in m)if({}.hasOwnProperty.call(m,C)){if(-1!==v.indexOf(C))continue;w[C]=m[C]}return w}(u,s);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(u);for(l=0;l<g.length;l++)-1===s.indexOf(c=g[l])&&{}.propertyIsEnumerable.call(u,c)&&(h[c]=u[c])}return h}function Sr(u){var s,c;function l(g,m){try{var v=u[g](m),w=v.value,C=w instanceof Rn;Promise.resolve(C?w.v:w).then(function(I){if(C){var T="return"===g?"return":"next";if(!w.k||I.done)return l(T,I);I=u[T](I).value}h(v.done?"return":"normal",I)},function(I){l("throw",I)})}catch(I){h("throw",I)}}function h(g,m){switch(g){case"return":s.resolve({value:m,done:!0});break;case"throw":s.reject(m);break;default:s.resolve({value:m,done:!1})}(s=s.next)?l(s.key,s.arg):c=null}this._invoke=function(g,m){return new Promise(function(v,w){var C={key:g,arg:m,resolve:v,reject:w,next:null};c?c=c.next=C:(s=c=C,l(g,m))})},"function"!=typeof u.return&&(this.return=void 0)}var xo,Lt;let Ai;function No(u,s){if(null==u)return!1;try{return u instanceof s||Object.getPrototypeOf(u)[Symbol.toStringTag]===s.prototype[Symbol.toStringTag]}catch{return!1}}function Le(u,s,c){const l=new TypeError(u,{cause:c});return Object.assign(l,{code:s}),l}Sr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Sr.prototype.next=function(u){return this._invoke("next",u)},Sr.prototype.throw=function(u){return this._invoke("throw",u)},Sr.prototype.return=function(u){return this._invoke("return",u)},(typeof navigator>"u"||null===(xo=navigator.userAgent)||void 0===xo||null===(Lt=xo.startsWith)||void 0===Lt||!Lt.call(xo,"Mozilla/5.0 "))&&(Ai="".concat("oauth4webapi","/").concat("v3.8.3"));const jt=Symbol(),ko=Symbol(),Zr=Symbol(),_n=Symbol(),zn=Symbol(),kd=new TextEncoder,hu=new TextDecoder;function wn(u){return"string"==typeof u?kd.encode(u):hu.decode(u)}let da,$n;function Tr(u){return"string"==typeof u?$n(u):da(u)}da=Uint8Array.prototype.toBase64?u=>(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),u.toBase64({alphabet:"base64url",omitPadding:!0})):s=>{s instanceof ArrayBuffer&&(s=new Uint8Array(s));const c=[];for(let l=0;l<s.byteLength;l+=32768)c.push(String.fromCharCode.apply(null,s.subarray(l,l+32768)));return btoa(c.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},$n=Uint8Array.fromBase64?u=>{try{return Uint8Array.fromBase64(u,{alphabet:"base64url"})}catch(s){throw Le("The input to be decoded is not correctly encoded.","ERR_INVALID_ARG_VALUE",s)}}:u=>{try{const s=atob(u.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(s.length);for(let l=0;l<s.length;l++)c[l]=s.charCodeAt(l);return c}catch(s){throw Le("The input to be decoded is not correctly encoded.","ERR_INVALID_ARG_VALUE",s)}};class Ve extends Error{constructor(s,c){var l;super(s,c),Q(this,"code",void 0),this.name=this.constructor.name,this.code=ba,null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}class xi extends Error{constructor(s,c){var l;super(s,c),Q(this,"code",void 0),this.name=this.constructor.name,null!=c&&c.code&&(this.code=c?.code),null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}function H(u,s,c){return new xi(u,{code:s,cause:c})}function Qr(u){return null!==u&&"object"==typeof u&&!Array.isArray(u)}function ir(u){No(u,Headers)&&(u=Object.fromEntries(u.entries()));const s=new Headers(u??{});if(Ai&&!s.has("user-agent")&&s.set("user-agent",Ai),s.has("authorization"))throw Le('"options.headers" must not include the "authorization" header name',"ERR_INVALID_ARG_VALUE");return s}function pu(u,s){if(void 0!==s){if("function"==typeof s&&(s=s(u.href)),!(s instanceof AbortSignal))throw Le('"options.signal" must return or be an instance of AbortSignal',"ERR_INVALID_ARG_TYPE");return s}}function gu(u){return u.includes("//")?u.replace("//","/"):u}function fa(){return fa=(0,D.A)(function*(u,s){return(c=(0,D.A)(function*(l,h,g,m){if(!(l instanceof URL))throw Le('"'.concat(h,'" must be an instance of URL'),"ERR_INVALID_ARG_TYPE");Pi(l,!0!==m?.[jt]);const v=g(new URL(l.href)),w=ir(m?.headers);return w.set("accept","application/json"),(m?.[_n]||fetch)(v.href,{body:void 0,headers:Object.fromEntries(w.entries()),method:"GET",redirect:"manual",signal:pu(v,m?.signal)})}),function(l,h,g,m){return c.apply(this,arguments)})(u,"issuerIdentifier",c=>{switch(s?.algorithm){case void 0:case"oidc":(l=c).pathname=gu("".concat(l.pathname,"/").concat(".well-known/openid-configuration"));break;case"oauth2":!function(l,h){let g=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l.pathname="/"===l.pathname?h:gu("".concat(h,"/").concat(g?l.pathname:l.pathname.replace(/(\/)$/,"")))}(c,".well-known/oauth-authorization-server");break;default:throw Le('"options.algorithm" must be "oidc" (default), or "oauth2"',"ERR_INVALID_ARG_VALUE")}var l;return c},s);var c}),fa.apply(this,arguments)}function Pn(u,s,c,l,h){try{if("number"!=typeof u||!Number.isFinite(u))throw Le("".concat(c," must be a number"),"ERR_INVALID_ARG_TYPE",h);if(u>0)return;if(s){if(0!==u)throw Le("".concat(c," must be a non-negative number"),"ERR_INVALID_ARG_VALUE",h);return}throw Le("".concat(c," must be a positive number"),"ERR_INVALID_ARG_VALUE",h)}catch(g){throw l?H(g.message,l,h):g}}function ut(u,s,c,l){try{if("string"!=typeof u)throw Le("".concat(s," must be a string"),"ERR_INVALID_ARG_TYPE",l);if(0===u.length)throw Le("".concat(s," must not be empty"),"ERR_INVALID_ARG_VALUE",l)}catch(h){throw c?H(h.message,c,l):h}}function ki(u){!function(s,c){if(Gn(s)!==c)throw function(l){let h='"response" content-type must be ';for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];if(m.length>2){const w=m.pop();h+="".concat(m.join(", "),", or ").concat(w)}else h+=2===m.length?"".concat(m[0]," or ").concat(m[1]):m[0];return H(h,bu,l)}(s,c)}(u,"application/json")}function mu(){return Tr(crypto.getRandomValues(new Uint8Array(32)))}function Mr(u){switch(u.algorithm.name){case"RSA-PSS":return function(s){switch(s.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new Ve("unsupported RsaHashedKeyAlgorithm hash name",{cause:s})}}(u);case"RSASSA-PKCS1-v1_5":return function(s){switch(s.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new Ve("unsupported RsaHashedKeyAlgorithm hash name",{cause:s})}}(u);case"ECDSA":return function(s){switch(s.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new Ve("unsupported EcKeyAlgorithm namedCurve",{cause:s})}}(u);case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return u.algorithm.name;case"EdDSA":return"Ed25519";default:throw new Ve("unsupported CryptoKey algorithm name",{cause:u})}}function Ri(u){const s=u?.[ko];return"number"==typeof s&&Number.isFinite(s)?s:0}function Ft(u){const s=u?.[Zr];return"number"==typeof s&&Number.isFinite(s)&&-1!==Math.sign(s)?s:30}function Kn(){return Math.floor(Date.now()/1e3)}function cn(u){if("object"!=typeof u||null===u)throw Le('"as" must be an object',"ERR_INVALID_ARG_TYPE");ut(u.issuer,'"as.issuer"')}function Jt(u){if("object"!=typeof u||null===u)throw Le('"client" must be an object',"ERR_INVALID_ARG_TYPE");ut(u.client_id,'"client.client_id"')}function Ro(u){return ut(u,'"clientSecret"'),(s,c,l,h)=>{l.set("client_id",c.client_id),l.set("client_secret",u)}}const rg=URL.parse?(u,s)=>URL.parse(u,s):(u,s)=>{try{return new URL(u,s)}catch{return null}};function Pi(u,s){if(s&&"https:"!==u.protocol)throw H("only requests to HTTPS are allowed",Ea,u);if("https:"!==u.protocol&&"http:"!==u.protocol)throw H("only HTTP and HTTPS requests are allowed",Da,u)}function Tt(u,s,c,l){return function Pd(u,s,c,l){let h;if("string"!=typeof u||!(h=rg(u)))throw H("authorization server metadata does not contain a valid ".concat(c?'"as.mtls_endpoint_aliases.'.concat(s,'"'):'"as.'.concat(s,'"')),void 0===u?Mt:sr,{attribute:c?"mtls_endpoint_aliases.".concat(s):s});return Pi(h,l),h}(c&&u.mtls_endpoint_aliases&&s in u.mtls_endpoint_aliases?u.mtls_endpoint_aliases[s]:u[s],s,c,l)}class Yr extends Error{constructor(s,c){var l;super(s,c),Q(this,"cause",void 0),Q(this,"code",void 0),Q(this,"error",void 0),Q(this,"status",void 0),Q(this,"error_description",void 0),Q(this,"response",void 0),this.name=this.constructor.name,this.code=Fd,this.cause=c.cause,this.error=c.cause.error,this.status=c.response.status,this.error_description=c.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:c.response}),null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}class Ar extends Error{constructor(s,c){var l,h;super(s,c),Q(this,"cause",void 0),Q(this,"code",void 0),Q(this,"error",void 0),Q(this,"error_description",void 0),this.name=this.constructor.name,this.code=Vd,this.cause=c.cause,this.error=c.cause.get("error"),this.error_description=null!==(l=c.cause.get("error_description"))&&void 0!==l?l:void 0,null===(h=Error.captureStackTrace)||void 0===h||h.call(Error,this,this.constructor)}}class yu extends Error{constructor(s,c){var l;super(s,c),Q(this,"cause",void 0),Q(this,"code",void 0),Q(this,"response",void 0),Q(this,"status",void 0),this.name=this.constructor.name,this.code=Iu,this.cause=c.cause,this.status=c.response.status,this.response=c.response,Object.defineProperty(this,"response",{enumerable:!1}),null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}const On=new RegExp("^[,\\s]*([a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+)"),Ne=new RegExp('^[,\\s]*([a-zA-Z0-9!#$%&\\\'\\*\\+\\-\\.\\^_`\\|~]+)\\s*=\\s*"((?:[^"\\\\]|\\\\[\\s\\S])*)"[,\\s]*(.*)'),Ln=new RegExp("^[,\\s]*([a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+)\\s*=\\s*([a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+)[,\\s]*(.*)"),_u=new RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+={0,2})(?:$|[,\\s])(.*)");function Po(u,s,c){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,D.A)(function*(u,s,c){if(u.status!==s){let h;var l;throw function(g){let m;if(m=function(v){if(!No(v,Response))throw Le('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");const w=v.headers.get("www-authenticate");if(null===w)return;const C=[];let I=w;for(;I;){var T;let k=I.match(On);const M=null===(T=k)||void 0===T?void 0:T[1].toLowerCase();if(!M)return;const R=I.substring(k[0].length);if(R&&!R.match(/^[\s,]/))return;const L=R.match(/^\s+(.*)$/);I=L?L[1]:void 0;const O={};let V;if(L)for(;I;){let ie,z;if(k=I.match(Ne)){if([,ie,z,I]=k,z.includes("\\"))try{z=JSON.parse('"'.concat(z,'"'))}catch{}O[ie.toLowerCase()]=z}else{if(!(k=I.match(Ln))){if(k=I.match(_u)){if(Object.keys(O).length)break;[,V,I]=k;break}return}[,ie,z,I]=k,O[ie.toLowerCase()]=z}}else I=R||void 0;const ne={scheme:M,parameters:O};V&&(ne.token68=V),C.push(ne)}return C.length?C:void 0}(g))throw new yu("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:m,response:g})}(u),(h=yield(g=(0,D.A)(function*(m){if(m.status>399&&m.status<500){lt(m),ki(m);try{const v=yield m.clone().json();if(Qr(v)&&"string"==typeof v.error&&v.error.length)return v}catch{}}}),function(m){return g.apply(this,arguments)})(u))?(yield null===(l=u.body)||void 0===l?void 0:l.cancel(),new Yr("server responded with an error in the response body",{cause:h,response:u})):H('"response" is not a conform '.concat(c," response (unexpected HTTP status code)"),Fo,u)}var g}),Xr.apply(this,arguments)}function Oo(u){if(!va.has(u))throw Le('"options.DPoP" is not a valid DPoPHandle',"ERR_INVALID_ARG_VALUE")}function Gn(u){var s;return null===(s=u.headers.get("content-type"))||void 0===s?void 0:s.split(";")[0]}function jn(u,s,c,l,h,g,m){return pa.apply(this,arguments)}function pa(){return pa=(0,D.A)(function*(u,s,c,l,h,g,m){return yield c(u,s,h,g),g.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(m?.[_n]||fetch)(l.href,{body:h,headers:Object.fromEntries(g.entries()),method:"POST",redirect:"manual",signal:pu(l,m?.signal)})}),pa.apply(this,arguments)}function xr(u,s,c,l,h,g){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,D.A)(function*(u,s,c,l,h,g){var m;const v=Tt(u,"token_endpoint",s.use_mtls_endpoint_aliases,!0!==g?.[jt]);h.set("grant_type",l);const w=ir(g?.headers);w.set("accept","application/json"),void 0!==g?.DPoP&&(Oo(g.DPoP),yield g.DPoP.addProof(v,w,"POST"));const C=yield jn(u,s,c,v,h,w,g);return null==g||null===(m=g.DPoP)||void 0===m||m.cacheNonce(C,v),C}),Oi.apply(this,arguments)}const ga=new WeakMap,Lo=new WeakMap;function Li(u){if(!u.id_token)return;const s=ga.get(u);if(!s)throw Le('"ref" was already garbage collected or did not resolve from the proper sources',"ERR_INVALID_ARG_VALUE");return s}function Nr(u,s,c,l,h,g){return ma.apply(this,arguments)}function ma(){return ma=(0,D.A)(function*(u,s,c,l,h,g){if(cn(u),Jt(s),!No(c,Response))throw Le('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");yield Po(c,200,"Token Endpoint"),lt(c);const m=yield kr(c);if(ut(m.access_token,'"response" body "access_token" property',Se,{body:m}),ut(m.token_type,'"response" body "token_type" property',Se,{body:m}),m.token_type=m.token_type.toLowerCase(),void 0!==m.expires_in){let v="number"!=typeof m.expires_in?parseFloat(m.expires_in):m.expires_in;Pn(v,!0,'"response" body "expires_in" property',Se,{body:m}),m.expires_in=v}if(void 0!==m.refresh_token&&ut(m.refresh_token,'"response" body "refresh_token" property',Se,{body:m}),void 0!==m.scope&&"string"!=typeof m.scope)throw H('"response" body "scope" property must be a string',Se,{body:m});if(void 0!==m.id_token){ut(m.id_token,'"response" body "id_token" property',Se,{body:m});const v=["aud","exp","iat","iss","sub"];!0===s.require_auth_time&&v.push("auth_time"),void 0!==s.default_max_age&&(Pn(s.default_max_age,!0,'"client.default_max_age"'),v.push("auth_time")),null!=l&&l.length&&v.push(...l);const{claims:w,jwt:C}=yield(I=(0,D.A)(function*(T,k,M,R,L){let P,O,{0:V,1:ne,length:ie}=T.split(".");if(5===ie){if(void 0===L)throw new Ve("JWE decryption is not configured",{cause:T});T=yield L(T),({0:V,1:ne,length:ie}=T.split("."))}if(3!==ie)throw H("Invalid JWT",Se,T);try{P=JSON.parse(wn(Tr(V)))}catch(he){throw H("failed to parse JWT Header body as base64url encoded JSON",jo,he)}if(!Qr(P))throw H("JWT Header must be a top level object",Se,T);if(k(P),void 0!==P.crit)throw new Ve('no JWT "crit" header parameter extensions are supported',{cause:{header:P}});try{O=JSON.parse(wn(Tr(ne)))}catch(he){throw H("failed to parse JWT Payload body as base64url encoded JSON",jo,he)}if(!Qr(O))throw H("JWT Payload must be a top level object",Se,T);const z=Kn()+M;if(void 0!==O.exp){if("number"!=typeof O.exp)throw H('unexpected JWT "exp" (expiration time) claim type',Se,{claims:O});if(O.exp<=z-R)throw H('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',eo,{claims:O,now:z,tolerance:R,claim:"exp"})}if(void 0!==O.iat&&"number"!=typeof O.iat)throw H('unexpected JWT "iat" (issued at) claim type',Se,{claims:O});if(void 0!==O.iss&&"string"!=typeof O.iss)throw H('unexpected JWT "iss" (issuer) claim type',Se,{claims:O});if(void 0!==O.nbf){if("number"!=typeof O.nbf)throw H('unexpected JWT "nbf" (not before) claim type',Se,{claims:O});if(O.nbf>z+R)throw H('unexpected JWT "nbf" (not before) claim value',eo,{claims:O,now:z,tolerance:R,claim:"nbf"})}if(void 0!==O.aud&&"string"!=typeof O.aud&&!Array.isArray(O.aud))throw H('unexpected JWT "aud" (audience) claim type',Se,{claims:O});return{header:P,claims:O,jwt:T}}),function(T,k,M,R,L){return I.apply(this,arguments)})(m.id_token,Hd.bind(void 0,s.id_token_signed_response_alg,u.id_token_signing_alg_values_supported,"RS256"),Ri(s),Ft(s),h).then(wu.bind(void 0,v)).then(Od.bind(void 0,u)).then(ya.bind(void 0,s.client_id));if(Array.isArray(w.aud)&&1!==w.aud.length){if(void 0===w.azp)throw H('ID Token "aud" (audience) claim includes additional untrusted audiences',pe,{claims:w,claim:"aud"});if(w.azp!==s.client_id)throw H('unexpected ID Token "azp" (authorized party) claim value',pe,{expected:s.client_id,claims:w,claim:"azp"})}void 0!==w.auth_time&&Pn(w.auth_time,!0,'ID Token "auth_time" (authentication time)',Se,{claims:w}),Lo.set(c,C),ga.set(m,w)}var I;if(void 0!==g?.[m.token_type])g[m.token_type](c,m);else if("dpop"!==m.token_type&&"bearer"!==m.token_type)throw new Ve("unsupported `token_type` value",{cause:{body:m}});return m}),ma.apply(this,arguments)}function ya(u,s){if(Array.isArray(s.claims.aud)){if(!s.claims.aud.includes(u))throw H('unexpected JWT "aud" (audience) claim value',pe,{expected:u,claims:s.claims,claim:"aud"})}else if(s.claims.aud!==u)throw H('unexpected JWT "aud" (audience) claim value',pe,{expected:u,claims:s.claims,claim:"aud"});return s}function Od(u,s){var c,l;const h=null!==(c=null===(l=u[Su])||void 0===l?void 0:l.call(u,s))&&void 0!==c?c:u.issuer;if(s.claims.iss!==h)throw H('unexpected JWT "iss" (issuer) claim value',pe,{expected:h,claims:s.claims,claim:"iss"});return s}const va=new WeakSet,un=Symbol(),Ld={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function wu(u,s){for(const c of u)if(void 0===s.claims[c])throw H('JWT "'.concat(c,'" (').concat(Ld[c],") claim missing"),Se,{claims:s.claims});return s}const _a=Symbol(),wa=Symbol();function Ia(){return Ia=(0,D.A)(function*(u,s,c,l){return"string"==typeof l?.expectedNonce||"number"==typeof l?.maxAge||null!=l&&l.requireIdToken?(h=(0,D.A)(function*(g,m,v,w,C,I,T){const k=[];switch(w){case void 0:w=_a;break;case _a:break;default:ut(w,'"expectedNonce" argument'),k.push("nonce")}switch(null!=C||(C=m.default_max_age),C){case void 0:C=wa;break;case wa:break;default:Pn(C,!0,'"maxAge" argument'),k.push("auth_time")}const M=yield Nr(g,m,v,k,I,T);ut(M.id_token,'"response" body "id_token" property',Se,{body:M});const R=Li(M);if(C!==wa){const L=Kn()+Ri(m),P=Ft(m);if(R.auth_time+C<L-P)throw H("too much time has elapsed since the last End-User authentication",eo,{claims:R,now:L,tolerance:P,claim:"auth_time"})}if(w===_a){if(void 0!==R.nonce)throw H('unexpected ID Token "nonce" claim value',pe,{expected:void 0,claims:R,claim:"nonce"})}else if(R.nonce!==w)throw H('unexpected ID Token "nonce" claim value',pe,{expected:w,claims:R,claim:"nonce"});return M}),function(g,m,v,w,C,I,T){return h.apply(this,arguments)})(u,s,c,l.expectedNonce,l.maxAge,l[zn],l.recognizedTokenTypes):function(){var h=(0,D.A)(function*(g,m,v,w,C){const I=yield Nr(g,m,v,void 0,w,C),T=Li(I);if(T){if(void 0!==m.default_max_age){Pn(m.default_max_age,!0,'"client.default_max_age"');const k=Kn()+Ri(m),M=Ft(m);if(T.auth_time+m.default_max_age<k-M)throw H("too much time has elapsed since the last End-User authentication",eo,{claims:T,now:k,tolerance:M,claim:"auth_time"})}if(void 0!==T.nonce)throw H('unexpected ID Token "nonce" claim value',pe,{expected:void 0,claims:T,claim:"nonce"})}return I});return function(g,m,v,w,C){return h.apply(this,arguments)}}()(u,s,c,l?.[zn],l?.recognizedTokenTypes);var h}),Ia.apply(this,arguments)}const Iu="OAUTH_WWW_AUTHENTICATE_CHALLENGE",Fd="OAUTH_RESPONSE_BODY_ERROR",ba="OAUTH_UNSUPPORTED_OPERATION",Vd="OAUTH_AUTHORIZATION_RESPONSE_ERROR",jo="OAUTH_PARSE_ERROR",Se="OAUTH_INVALID_RESPONSE",bu="OAUTH_RESPONSE_IS_NOT_JSON",Fo="OAUTH_RESPONSE_IS_NOT_CONFORM",Ea="OAUTH_HTTP_REQUEST_FORBIDDEN",Da="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",eo="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",pe="OAUTH_JWT_CLAIM_COMPARISON_FAILED",at="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",Mt="OAUTH_MISSING_SERVER_METADATA",sr="OAUTH_INVALID_SERVER_METADATA";function lt(u){if(u.bodyUsed)throw Le('"response" body has been used already',"ERR_INVALID_ARG_VALUE")}function Ca(u){const{algorithm:s}=u;if("number"!=typeof s.modulusLength||s.modulusLength<2048)throw new Ve("unsupported ".concat(s.name," modulusLength"),{cause:u})}function Eu(u){const{algorithm:s}=u;switch(s.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Ve("unsupported ECDSA namedCurve",{cause:u})}}function Sa(){return Sa=(0,D.A)(function*(u){if("POST"!==u.method)throw Le("form_post responses are expected to use the POST method","ERR_INVALID_ARG_VALUE",{cause:u});if("application/x-www-form-urlencoded"!==Gn(u))throw Le("form_post responses are expected to use the application/x-www-form-urlencoded content-type","ERR_INVALID_ARG_VALUE",{cause:u});return(s=(0,D.A)(function*(c){if(c.bodyUsed)throw Le("form_post Request instances must contain a readable body","ERR_INVALID_ARG_VALUE",{cause:c});return c.text()}),function(c){return s.apply(this,arguments)})(u);var s}),Sa.apply(this,arguments)}function Hd(u,s,c,l){if(void 0===u)if(Array.isArray(s)){if(!s.includes(l.alg))throw H('unexpected JWT "alg" header parameter',Se,{header:l,expected:s,reason:"authorization server metadata"})}else{if(void 0===c)throw H('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:u,issuer:s,fallback:c});if("string"==typeof c?l.alg!==c:"function"==typeof c?!c(l.alg):!c.includes(l.alg))throw H('unexpected JWT "alg" header parameter',Se,{header:l,expected:c,reason:"default value"})}else if("string"==typeof u?l.alg!==u:!u.includes(l.alg))throw H('unexpected JWT "alg" header parameter',Se,{header:l,expected:u,reason:"client configuration"})}function In(u,s){const{0:c,length:l}=u.getAll(s);if(l>1)throw H('"'.concat(s,'" parameter must be provided only once'),Se);return c}const Ud=Symbol(),Ta=Symbol();function kr(u){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,D.A)(function*(u){let s,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ki;try{s=yield u.json()}catch(l){throw c(u),H('failed to parse "response" body as JSON',jo,l)}if(!Qr(s))throw H('"response" body must be a top level object',Se,{body:s});return s}),Cu.apply(this,arguments)}const Vo=Symbol(),Su=Symbol(),Fi=new TextEncoder,to=new TextDecoder;function Vi(u){const s=new Uint8Array(u.length);for(let c=0;c<u.length;c++){const l=u.charCodeAt(c);if(l>127)throw new TypeError("non-ASCII string encountered in encode()");s[c]=l}return s}function ar(u){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(u);const s=atob(u),c=new Uint8Array(s.length);for(let l=0;l<s.length;l++)c[l]=s.charCodeAt(l);return c}function Ho(u){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof u?u:to.decode(u),{alphabet:"base64url"});let s=u;s instanceof Uint8Array&&(s=to.decode(s)),s=s.replace(/-/g,"+").replace(/_/g,"/");try{return ar(s)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}class mt extends Error{constructor(s,c){var l;super(s,c),Q(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}Q(mt,"code","ERR_JOSE_GENERIC");class Zt extends mt{constructor(s,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(s,{cause:{claim:l,reason:h,payload:c}}),Q(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),Q(this,"claim",void 0),Q(this,"reason",void 0),Q(this,"payload",void 0),this.claim=l,this.reason=h,this.payload=c}}Q(Zt,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class Ma extends mt{constructor(s,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(s,{cause:{claim:l,reason:h,payload:c}}),Q(this,"code","ERR_JWT_EXPIRED"),Q(this,"claim",void 0),Q(this,"reason",void 0),Q(this,"payload",void 0),this.claim=l,this.reason=h,this.payload=c}}Q(Ma,"code","ERR_JWT_EXPIRED");class Hi extends mt{constructor(){super(...arguments),Q(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}}Q(Hi,"code","ERR_JOSE_ALG_NOT_ALLOWED");class Vt extends mt{constructor(){super(...arguments),Q(this,"code","ERR_JOSE_NOT_SUPPORTED")}}Q(Vt,"code","ERR_JOSE_NOT_SUPPORTED"),Q(class extends mt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decryption operation failed",arguments.length>1?arguments[1]:void 0),Q(this,"code","ERR_JWE_DECRYPTION_FAILED")}},"code","ERR_JWE_DECRYPTION_FAILED"),Q(class extends mt{constructor(){super(...arguments),Q(this,"code","ERR_JWE_INVALID")}},"code","ERR_JWE_INVALID");class je extends mt{constructor(){super(...arguments),Q(this,"code","ERR_JWS_INVALID")}}Q(je,"code","ERR_JWS_INVALID");class cr extends mt{constructor(){super(...arguments),Q(this,"code","ERR_JWT_INVALID")}}Q(cr,"code","ERR_JWT_INVALID"),Q(class extends mt{constructor(){super(...arguments),Q(this,"code","ERR_JWK_INVALID")}},"code","ERR_JWK_INVALID");class Uo extends mt{constructor(){super(...arguments),Q(this,"code","ERR_JWKS_INVALID")}}Q(Uo,"code","ERR_JWKS_INVALID");class Aa extends mt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no applicable key found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),Q(this,"code","ERR_JWKS_NO_MATCHING_KEY")}}Q(Aa,"code","ERR_JWKS_NO_MATCHING_KEY");class Tu extends mt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple matching keys found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),Q(this,Symbol.asyncIterator,void 0),Q(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}}Q(Tu,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS");class xa extends mt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request timed out",arguments.length>1?arguments[1]:void 0),Q(this,"code","ERR_JWKS_TIMEOUT")}}Q(xa,"code","ERR_JWKS_TIMEOUT");class Rr extends mt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature verification failed",arguments.length>1?arguments[1]:void 0),Q(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}Q(Rr,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");const Fn=function(u){return new TypeError("CryptoKey does not support this operation, its ".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"algorithm.name"," must be ").concat(u))},no=(u,s)=>u.name===s;function Na(u){return parseInt(u.name.slice(4),10)}function Mu(u,s){for(var c=arguments.length,l=new Array(c>2?c-2:0),h=2;h<c;h++)l[h-2]=arguments[h];if((l=l.filter(Boolean)).length>2){const m=l.pop();u+="one of type ".concat(l.join(", "),", or ").concat(m,".")}else u+=2===l.length?"one of type ".concat(l[0]," or ").concat(l[1],"."):"of type ".concat(l[0],".");if(null==s)u+=" Received ".concat(s);else if("function"==typeof s&&s.name)u+=" Received function ".concat(s.name);else if("object"==typeof s&&null!=s){var g;null!==(g=s.constructor)&&void 0!==g&&g.name&&(u+=" Received an instance of ".concat(s.constructor.name))}return u}const Ra=function(u,s){for(var c=arguments.length,l=new Array(c>2?c-2:0),h=2;h<c;h++)l[h-2]=arguments[h];return Mu("Key for the ".concat(u," algorithm must be "),s,...l)},Ui=u=>{if("CryptoKey"===u?.[Symbol.toStringTag])return!0;try{return u instanceof CryptoKey}catch{return!1}},Pr=u=>"KeyObject"===u?.[Symbol.toStringTag],Au=u=>Ui(u)||Pr(u);function ur(u){if("object"!=typeof(s=u)||null===s||"[object Object]"!==Object.prototype.toString.call(u))return!1;var s;if(null===Object.getPrototypeOf(u))return!0;let c=u;for(;null!==Object.getPrototypeOf(c);)c=Object.getPrototypeOf(c);return Object.getPrototypeOf(u)===c}const ct=(u,s)=>{if(u.byteLength!==s.length)return!1;for(let c=0;c<u.byteLength;c++)if(u[c]!==s[c])return!1;return!0},ro=u=>{const s=u.data[u.pos++];if(128&s){const c=127&s;let l=0;for(let h=0;h<c;h++)l=l<<8|u.data[u.pos++];return l}return s},Bo=(u,s,c)=>{if(u.data[u.pos++]!==s)throw new Error(c)},oo=(u,s)=>{const c=u.data.subarray(u.pos,u.pos+s);return u.pos+=s,c},Wd=function(){var u=(0,D.A)(function*(s,c,l,h){var g;let m,v;switch(l){case"PS256":case"PS384":case"PS512":m={name:"RSA-PSS",hash:"SHA-".concat(l.slice(-3))},v=["sign"];break;case"RS256":case"RS384":case"RS512":m={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(l.slice(-3))},v=["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":m={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(l.slice(-3),10)||1)},v=["decrypt","unwrapKey"];break;case"ES256":case"ES384":case"ES512":m={name:"ECDSA",namedCurve:{ES256:"P-256",ES384:"P-384",ES512:"P-521"}[l]},v=["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":try{const C=h.getNamedCurve(c);m="X25519"===C?{name:"X25519"}:{name:"ECDH",namedCurve:C}}catch{throw new Vt("Invalid or unsupported key format")}v=["deriveBits"];break;case"Ed25519":case"EdDSA":m={name:"Ed25519"},v=["sign"];break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":m={name:l},v=["sign"];break;default:throw new Vt('Invalid or unsupported "alg" (Algorithm) value')}return crypto.subtle.importKey(s,c,m,null!==(g=h?.extractable)&&void 0!==g&&g,v)});return function(c,l,h,g){return u.apply(this,arguments)}}(),zd=(u,s,c)=>{var l;const h=ar(u.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""));let g=c;return null!=s&&null!==(l=s.startsWith)&&void 0!==l&&l.call(s,"ECDH-ES")&&(g||(g={}),g.getNamedCurve=m=>{const v={data:m,pos:0};return function(w){Bo(w,48,"Invalid PKCS#8 structure"),ro(w),Bo(w,2,"Expected version field");const C=ro(w);w.pos+=C,Bo(w,48,"Expected algorithm identifier"),ro(w)}(v),(u=>{const s=(h=>{Bo(h,6,"Expected algorithm OID");const g=ro(h);return oo(h,g)})(u);if(ct(s,[43,101,110]))return"X25519";if(!ct(s,[42,134,72,206,61,2,1]))throw new Error("Unsupported key algorithm");Bo(u,6,"Expected curve OID");const c=ro(u),l=oo(u,c);for(const{name:h,oid:g}of[{name:"P-256",oid:[42,134,72,206,61,3,1,7]},{name:"P-384",oid:[43,129,4,0,34]},{name:"P-521",oid:[43,129,4,0,35]}])if(ct(l,g))return h;throw new Error("Unsupported named curve")})(v)}),Wd("pkcs8",h,s,g)};function Bi(u){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,D.A)(function*(u){var s,c;if(!u.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:l,keyUsages:h}=function(m){let v,w;switch(m.kty){case"AKP":switch(m.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":v={name:m.alg},w=m.priv?["sign"]:["verify"];break;default:throw new Vt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(m.alg){case"PS256":case"PS384":case"PS512":v={name:"RSA-PSS",hash:"SHA-".concat(m.alg.slice(-3))},w=m.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":v={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(m.alg.slice(-3))},w=m.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":v={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(m.alg.slice(-3),10)||1)},w=m.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Vt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(m.alg){case"ES256":v={name:"ECDSA",namedCurve:"P-256"},w=m.d?["sign"]:["verify"];break;case"ES384":v={name:"ECDSA",namedCurve:"P-384"},w=m.d?["sign"]:["verify"];break;case"ES512":v={name:"ECDSA",namedCurve:"P-521"},w=m.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":v={name:"ECDH",namedCurve:m.crv},w=m.d?["deriveBits"]:[];break;default:throw new Vt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(m.alg){case"Ed25519":case"EdDSA":v={name:"Ed25519"},w=m.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":v={name:m.crv},w=m.d?["deriveBits"]:[];break;default:throw new Vt('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new Vt('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:v,keyUsages:w}}(u),g=oe({},u);return"AKP"!==g.kty&&delete g.alg,delete g.use,crypto.subtle.importKey("jwk",g,l,null!==(s=u.ext)&&void 0!==s?s:!u.d&&!u.priv,null!==(c=u.key_ops)&&void 0!==c?c:h)}),Pa.apply(this,arguments)}const Oa=u=>ur(u)&&"string"==typeof u.kty;let Vn;const Wo=function(){var u=(0,D.A)(function*(s,c,l){let h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Vn||(Vn=new WeakMap);let g=Vn.get(s);if(null!=g&&g[l])return g[l];const m=yield Bi(oe(oe({},c),{},{alg:l}));return h&&Object.freeze(s),g?g[l]=m:Vn.set(s,{[l]:m}),m});return function(c,l,h){return u.apply(this,arguments)}}();function U(){return U=(0,D.A)(function*(u,s){if(u instanceof Uint8Array||Ui(u))return u;if(Pr(u)){if("secret"===u.type)return u.export();if("toCryptoKey"in u&&"function"==typeof u.toCryptoKey)try{return((l,h)=>{Vn||(Vn=new WeakMap);let g=Vn.get(l);if(null!=g&&g[h])return g[h];const m="public"===l.type,v=!!m;let w;if("x25519"===l.asymmetricKeyType){switch(h){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}w=l.toCryptoKey(l.asymmetricKeyType,v,m?[]:["deriveBits"])}if("ed25519"===l.asymmetricKeyType){if("EdDSA"!==h&&"Ed25519"!==h)throw new TypeError("given KeyObject instance cannot be used for this algorithm");w=l.toCryptoKey(l.asymmetricKeyType,v,[m?"verify":"sign"])}switch(l.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(h!==l.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");w=l.toCryptoKey(l.asymmetricKeyType,v,[m?"verify":"sign"])}if("rsa"===l.asymmetricKeyType){let I;switch(h){case"RSA-OAEP":I="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":I="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":I="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":I="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(h.startsWith("RSA-OAEP"))return l.toCryptoKey({name:"RSA-OAEP",hash:I},v,m?["encrypt"]:["decrypt"]);w=l.toCryptoKey({name:h.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:I},v,[m?"verify":"sign"])}if("ec"===l.asymmetricKeyType){var C;const I=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(null===(C=l.asymmetricKeyDetails)||void 0===C?void 0:C.namedCurve);if(!I)throw new TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===h&&"P-256"===I&&(w=l.toCryptoKey({name:"ECDSA",namedCurve:I},v,[m?"verify":"sign"])),"ES384"===h&&"P-384"===I&&(w=l.toCryptoKey({name:"ECDSA",namedCurve:I},v,[m?"verify":"sign"])),"ES512"===h&&"P-521"===I&&(w=l.toCryptoKey({name:"ECDSA",namedCurve:I},v,[m?"verify":"sign"])),h.startsWith("ECDH-ES")&&(w=l.toCryptoKey({name:"ECDH",namedCurve:I},v,m?[]:["deriveBits"]))}if(!w)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return g?g[h]=w:Vn.set(l,{[h]:w}),w})(u,s)}catch(l){if(l instanceof TypeError)throw l}let c=u.export({format:"jwk"});return Wo(u,c,s)}if(Oa(u))return u.k?Ho(u.k):Wo(u,u,s,!0);throw new Error("unreachable")}),U.apply(this,arguments)}const re=u=>u?.[Symbol.toStringTag],et=(u,s,c)=>{if(void 0!==s.use){let g;switch(c){case"sign":case"verify":g="sig";break;case"encrypt":case"decrypt":g="enc"}if(s.use!==g)throw new TypeError('Invalid key for this operation, its "use" must be "'.concat(g,'" when present'))}if(void 0!==s.alg&&s.alg!==u)throw new TypeError('Invalid key for this operation, its "alg" must be "'.concat(u,'" when present'));if(Array.isArray(s.key_ops)){var l,h;let g;switch(!0){case"verify"===c:case"dir"===u:case u.includes("CBC-HS"):g=c;break;case u.startsWith("PBES2"):g="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(u):g=!u.includes("GCM")&&u.endsWith("KW")?"unwrapKey":c;break;case"encrypt"===c:g="wrapKey";break;case"decrypt"===c:g=u.startsWith("RSA")?"unwrapKey":"deriveBits"}if(g&&!1===(null===(l=s.key_ops)||void 0===l||null===(h=l.includes)||void 0===h?void 0:h.call(l,g)))throw new TypeError('Invalid key for this operation, its "key_ops" must include "'.concat(g,'" when present'))}return!0};var dt,At;let $t,ze;(typeof navigator>"u"||null===(dt=navigator.userAgent)||void 0===dt||null===(At=dt.startsWith)||void 0===At||!At.call(dt,"Mozilla/5.0 "))&&(ze="".concat("openid-client","/").concat("v6.8.1"),$t={"user-agent":ze});const De=u=>tn.get(u);let tn,ce;function io(u){return void 0!==u?Ro(u):(ce||(ce=new WeakMap),(s,c,l,h)=>{let g;return(g=ce.get(c))||(function(m,v){if("string"!=typeof m)throw Ht("".concat(v," must be a string"),He);if(0===m.length)throw Ht("".concat(v," must not be empty"),Hn)}(c.client_secret,'"metadata.client_secret"'),g=Ro(c.client_secret),ce.set(c,g)),g(s,c,l,h)})}const qn=_n,Hn="ERR_INVALID_ARG_VALUE",He="ERR_INVALID_ARG_TYPE";function Ht(u,s,c){const l=new TypeError(u,{cause:c});return Object.assign(l,{code:s}),l}class Zn extends Error{constructor(s,c){var l;super(s,c),Q(this,"code",void 0),this.name=this.constructor.name,this.code=c?.code,null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}function Ut(u,s,c){return new Zn(u,{cause:s,code:c})}function tt(u){if(u instanceof TypeError||u instanceof Zn||u instanceof Yr||u instanceof Ar||u instanceof yu)throw u;if(u instanceof xi)switch(u.code){case Ea:throw Ut("only requests to HTTPS are allowed",u,u.code);case Da:throw Ut("only requests to HTTP or HTTPS are allowed",u,u.code);case Fo:throw Ut("unexpected HTTP response status code",u.cause,u.code);case bu:throw Ut("unexpected response content-type",u.cause,u.code);case jo:throw Ut("parsing error occured",u,u.code);case Se:throw Ut("invalid response encountered",u,u.code);case pe:throw Ut("unexpected JWT claim value encountered",u,u.code);case at:throw Ut("unexpected JSON attribute value encountered",u,u.code);case eo:throw Ut("JWT timestamp claim value failed validation",u,u.code);default:throw Ut(u.message,u,u.code)}if(u instanceof Ve)throw Ut("unsupported operation",u,u.code);if(u instanceof DOMException)switch(u.name){case"OperationError":throw Ut("runtime operation error",u,ba);case"NotSupportedError":throw Ut("runtime unsupported operation",u,ba);case"TimeoutError":throw Ut("operation timed out",u,"OAUTH_TIMEOUT");case"AbortError":throw Ut("operation aborted",u,"OAUTH_ABORT")}throw new Zn("something went wrong",{cause:u})}function Qt(){return Qt=(0,D.A)(function*(u,s,c,l,h){const g=yield(w=(0,D.A)(function*(C,I){var T,k;if(!(C instanceof URL))throw Ht('"server" must be an instance of URL',He);const M=!C.href.includes("/.well-known/"),R=null!==(T=I?.timeout)&&void 0!==T?T:30,L=AbortSignal.timeout(1e3*R),P=yield(M?function Rd(u,s){return fa.apply(this,arguments)}(C,{algorithm:I?.algorithm,[_n]:I?.[qn],[jt]:null==I||null===(k=I.execute)||void 0===k?void 0:k.includes(zi),signal:L,headers:new Headers($t)}):(I?.[qn]||fetch)((Pi(C,null==I||null===(O=I.execute)||void 0===O||!O.includes(zi)),C.href),{headers:Object.fromEntries(new Headers(oe({accept:"application/json"},$t)).entries()),body:void 0,method:"GET",redirect:"manual",signal:L})).then(V=>{return(ne=(0,D.A)(function*(ie,z){const he=ie;if(!(he instanceof URL)&&he!==Vo)throw Le('"expectedIssuerIdentifier" must be an instance of URL',"ERR_INVALID_ARG_TYPE");if(!No(z,Response))throw Le('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");if(200!==z.status)throw H('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',Fo,z);lt(z);const Ae=yield kr(z);if(ut(Ae.issuer,'"response" body "issuer" property',Se,{body:Ae}),he!==Vo&&new URL(Ae.issuer).href!==he.href)throw H('"response" body "issuer" property does not match the expected value',at,{expected:he.href,body:Ae,attribute:"issuer"});return Ae}),function(ie,z){return ne.apply(this,arguments)})(Vo,V);var ne}).catch(tt);var O,ie;return M&&new URL(P.issuer).href!==C.href&&(ie=I,!("https://login.microsoftonline.com"!==C.origin||null!=ie&&ie.algorithm&&"oidc"!==ie.algorithm||(P[ee]=!0,0))||function(V,ne){return!(!V.hostname.endsWith(".b2clogin.com")||null!=ne&&ne.algorithm&&"oidc"!==ne.algorithm)}(C,I)||(()=>{throw new Zn("discovered metadata issuer does not match the expected issuer",{code:at,cause:{expected:C.href,body:P,attribute:"issuer"}})})()),P}),function(C,I){return w.apply(this,arguments)})(u,h),m=new ao(g,s,c,l);var w;let v=De(m);if(null!=h&&h[qn]&&(v.fetch=h[qn]),null!=h&&h.timeout&&(v.timeout=h.timeout),null!=h&&h.execute)for(const w of h.execute)w(m);return m}),Qt.apply(this,arguments)}new TextDecoder;const ee=Symbol();class ao{constructor(s,c,l,h){var g,m,v,w,C;if("string"!=typeof c||!c.length)throw Ht('"clientId" must be a non-empty string',He);if("string"==typeof l&&(l={client_secret:l}),void 0!==(null===(g=l)||void 0===g?void 0:g.client_id)&&c!==l.client_id)throw Ht('"clientId" and "metadata.client_id" must be the same',Hn);const I=oe(oe({},structuredClone(l)),{},{client_id:c});let T;I[ko]=null!==(m=null===(v=l)||void 0===v?void 0:v[ko])&&void 0!==m?m:0,I[Zr]=null!==(w=null===(C=l)||void 0===C?void 0:C[Zr])&&void 0!==w?w:30,T=h||("string"==typeof I.client_secret&&I.client_secret.length?io(I.client_secret):(L,P,O,V)=>{O.set("client_id",P.client_id)});let k=Object.freeze(I);const M=structuredClone(s);ee in s&&(M[Su]=L=>{let{claims:{tid:P}}=L;return s.issuer.replace("{tenantid}",P)});let R=Object.freeze(M);tn||(tn=new WeakMap),tn.set(this,{__proto__:null,as:R,c:k,auth:T,tlsOnly:!0,jwksCache:{}})}serverMetadata(){const s=structuredClone(De(this).as);return c=s,Object.defineProperties(c,function(l){return{supportsPKCE:{__proto__:null,value(){var h;return!0===(null===(h=l.code_challenge_methods_supported)||void 0===h?void 0:h.includes(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"S256"))}}}}(c)),s;var c}clientMetadata(){return structuredClone(De(this).c)}get timeout(){return De(this).timeout}set timeout(s){De(this).timeout=s}get[qn](){return De(this).fetch}set[qn](s){De(this).fetch=s}}function Qn(u){Object.defineProperties(u,function(s){let c;if(void 0!==s.expires_in){const l=new Date;l.setSeconds(l.getSeconds()+s.expires_in),c=l.getTime()}return{expiresIn:{__proto__:null,value(){if(c){const l=Date.now();return c>l?Math.floor((c-l)/1e3):0}}},claims:{__proto__:null,value(){try{return Li(this)}catch{return}}}}}(u))}function En(u,s,c){return co.apply(this,arguments)}function co(){return co=(0,D.A)(function*(u,s,c){var l;let h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const g=null===(l=u.headers.get("retry-after"))||void 0===l?void 0:l.trim();if(void 0===g)return;let m;if(/^\d+$/.test(g))m=parseInt(g,10);else{const v=new Date(g);if(Number.isFinite(v.getTime())){const w=new Date,C=v.getTime()-w.getTime();C>0&&(m=Math.ceil(C/1e3))}}if(h&&!Number.isFinite(m))throw new xi("invalid Retry-After header value",{cause:u});m>s&&(yield Or(m-s,c))}),co.apply(this,arguments)}function Or(u,s){return new Promise((c,l)=>{const h=g=>{try{s.throwIfAborted()}catch(v){return void l(v)}if(g<=0)return void c();const m=Math.min(g,5);setTimeout(()=>h(g-m),1e3*m)};h(u)})}function nt(u,s){return uo.apply(this,arguments)}function uo(){return uo=(0,D.A)(function*(u,s){Dn(u);const{as:c,c:l,auth:h,fetch:g,tlsOnly:m,timeout:v}=De(u);return(w=(0,D.A)(function*(C,I,T,k,M){cn(C),Jt(I);const R=Tt(C,"backchannel_authentication_endpoint",I.use_mtls_endpoint_aliases,!0!==M?.[jt]),L=new URLSearchParams(k);L.set("client_id",I.client_id);const P=ir(M?.headers);return P.set("accept","application/json"),jn(C,I,T,R,L,P,M)}),function(C,I,T,k,M){return w.apply(this,arguments)})(c,l,h,s,{[_n]:g,[jt]:!m,headers:new Headers($t),signal:fo(v)}).then(w=>{return(C=(0,D.A)(function*(I,T,k){if(cn(I),Jt(T),!No(k,Response))throw Le('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");yield Po(k,200,"Backchannel Authentication Endpoint"),lt(k);const M=yield kr(k);ut(M.auth_req_id,'"response" body "auth_req_id" property',Se,{body:M});let R="number"!=typeof M.expires_in?parseFloat(M.expires_in):M.expires_in;return Pn(R,!0,'"response" body "expires_in" property',Se,{body:M}),M.expires_in=R,void 0!==M.interval&&Pn(M.interval,!1,'"response" body "interval" property',Se,{body:M}),M}),function(I,T,k){return C.apply(this,arguments)})(c,l,w);var C}).catch(tt);var w}),uo.apply(this,arguments)}function ft(u,s,c,l){return Et.apply(this,arguments)}function Et(){return Et=(0,D.A)(function*(u,s,c,l){var h,g;Dn(u),c=new URLSearchParams(c);let m=null!==(h=s.interval)&&void 0!==h?h:5;const v=null!==(g=l?.signal)&&void 0!==g?g:AbortSignal.timeout(1e3*s.expires_in);try{yield Or(m,v)}catch(z){tt(z)}const{as:w,c:C,auth:I,fetch:T,tlsOnly:k,nonRepudiation:M,timeout:R,decrypt:L}=De(u),P=(z,he)=>ft(u,oe(oe({},s),{},{interval:z}),c,oe(oe({},l),{},{signal:v,flag:he})),O=yield(z=(0,D.A)(function*(he,Ae,Nt,Ct,Yt){cn(he),Jt(Ae),ut(Ct,'"authReqId"');const Gt=new URLSearchParams(Yt?.additionalParameters);return Gt.set("auth_req_id",Ct),xr(he,Ae,Nt,"urn:openid:params:grant-type:ciba",Gt,Yt)}),function(he,Ae,Nt,Ct,Yt){return z.apply(this,arguments)})(w,C,I,s.auth_req_id,{[_n]:T,[jt]:!k,additionalParameters:c,DPoP:l?.DPoP,headers:new Headers($t),signal:v.aborted?v:fo(R)}).catch(tt);var z,V;if(503===O.status&&O.headers.has("retry-after"))return yield En(O,m,v,!0),yield null===(V=O.body)||void 0===V?void 0:V.cancel(),P(m);const ne=function(){var z=(0,D.A)(function*(he,Ae,Nt,Ct){return Nr(he,Ae,Nt,void 0,Ct?.[zn],Ct?.recognizedTokenTypes)});return function(he,Ae,Nt,Ct){return z.apply(this,arguments)}}()(w,C,O,{[zn]:L});let ie;try{ie=yield ne}catch(z){if($i(z,l))return P(m,jr);if(z instanceof Yr)switch(z.error){case"slow_down":m+=5;case"authorization_pending":return yield En(z.response,m,v),P(m)}tt(z)}return ie.id_token&&(yield M?.(O)),Qn(ie),ie}),Et.apply(this,arguments)}function zi(u){De(u).tlsOnly=!1}function lr(u,s,c,l,h){return lo.apply(this,arguments)}function lo(){return lo=(0,D.A)(function*(u,s,c,l,h){if(Dn(u),!(h?.flag===jr||s instanceof URL||function(z){try{return"Request"===Object.getPrototypeOf(z)[Symbol.toStringTag]}catch{return!1}}(s)))throw Ht('"currentUrl" must be an instance of URL, or Request',He);let g,m;const{as:v,c:w,auth:C,fetch:I,tlsOnly:T,jarm:k,hybrid:M,nonRepudiation:R,timeout:L,decrypt:P,implicit:O}=De(u);if(h?.flag===jr)g=h.authResponse,m=h.redirectUri;else{if(!(s instanceof URL)){const z=s;switch(s=new URL(s.url),z.method){case"GET":break;case"POST":const he=new URLSearchParams(yield function ji(u){return Sa.apply(this,arguments)}(z));if(M)s.hash=he.toString();else for(const[Ae,Nt]of he.entries())s.searchParams.append(Ae,Nt);break;default:throw Ht("unexpected Request HTTP method",Hn)}}switch(z=s,(z=new URL(z)).search="",z.hash="",m=z.href,!0){case!!k:g=yield k(s,c?.expectedState);break;case!!M:g=yield M(s,c?.expectedNonce,c?.expectedState,c?.maxAge);break;case!!O:throw new TypeError("authorizationCodeGrant() cannot be used by response_type=id_token clients");default:try{g=function Du(u,s,c,l){if(cn(u),Jt(s),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw Le('"parameters" must be an instance of URLSearchParams, or URL',"ERR_INVALID_ARG_TYPE");if(In(c,"response"))throw H('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',Se,{parameters:c});const h=In(c,"iss"),g=In(c,"state");if(!h&&u.authorization_response_iss_parameter_supported)throw H('response parameter "iss" (issuer) missing',Se,{parameters:c});if(h&&h!==u.issuer)throw H('unexpected "iss" (issuer) response parameter value',Se,{expected:u.issuer,parameters:c});switch(l){case void 0:case Ta:if(void 0!==g)throw H('unexpected "state" response parameter encountered',Se,{expected:void 0,parameters:c});break;case Ud:break;default:if(ut(l,'"expectedState" argument'),g!==l)throw H(void 0===g?'response parameter "state" missing':'unexpected "state" response parameter value',Se,{expected:l,parameters:c})}if(In(c,"error"))throw new Ar("authorization response from the server is an error",{cause:c});const m=In(c,"id_token"),v=In(c,"token");if(void 0!==m||void 0!==v)throw new Ve("implicit and hybrid flows are not supported");return w=new URLSearchParams(c),va.add(w),w;var w}(v,w,s.searchParams,c?.expectedState)}catch(z){tt(z)}}}var z;const V=yield function(){var z=(0,D.A)(function*(he,Ae,Nt,Ct,Yt,Gt,tr){if(cn(he),Jt(Ae),!va.has(Ct))throw Le('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',"ERR_INVALID_ARG_VALUE");ut(Yt,'"redirectUri"');const Xo=In(Ct,"code");if(!Xo)throw H('no authorization code in "callbackParameters"',Se);const Xa=new URLSearchParams(tr?.additionalParameters);return Xa.set("redirect_uri",Yt),Xa.set("code",Xo),Gt!==un&&(ut(Gt,'"codeVerifier"'),Xa.set("code_verifier",Gt)),xr(he,Ae,Nt,"authorization_code",Xa,tr)});return function(he,Ae,Nt,Ct,Yt,Gt,tr){return z.apply(this,arguments)}}()(v,w,C,g,m,c?.pkceCodeVerifier||un,{additionalParameters:l,[_n]:I,[jt]:!T,DPoP:h?.DPoP,headers:new Headers($t),signal:fo(L)}).catch(tt);"string"!=typeof c?.expectedNonce&&"number"!=typeof c?.maxAge||(c.idTokenExpected=!0);const ne=function jd(u,s,c,l){return Ia.apply(this,arguments)}(v,w,V,{expectedNonce:c?.expectedNonce,maxAge:c?.maxAge,requireIdToken:c?.idTokenExpected,[zn]:P});let ie;try{ie=yield ne}catch(z){if($i(z,h))return lr(u,void 0,c,l,oe(oe({},h),{},{flag:jr,authResponse:g,redirectUri:m}));tt(z)}return ie.id_token&&(yield R?.(V)),Qn(ie),ie}),lo.apply(this,arguments)}function ln(u,s,c,l){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,D.A)(function*(u,s,c,l){Dn(u),c=new URLSearchParams(c);const{as:h,c:g,auth:m,fetch:v,tlsOnly:w,nonRepudiation:C,timeout:I,decrypt:T}=De(u),k=yield(L=(0,D.A)(function*(P,O,V,ne,ie){cn(P),Jt(O),ut(ne,'"refreshToken"');const z=new URLSearchParams(ie?.additionalParameters);return z.set("refresh_token",ne),xr(P,O,V,"refresh_token",z,ie)}),function(P,O,V,ne,ie){return L.apply(this,arguments)})(h,g,m,s,{[_n]:v,[jt]:!w,additionalParameters:c,DPoP:l?.DPoP,headers:new Headers($t),signal:fo(I)}).catch(tt),M=function(){var L=(0,D.A)(function*(P,O,V,ne){return Nr(P,O,V,void 0,ne?.[zn],ne?.recognizedTokenTypes)});return function(P,O,V,ne){return L.apply(this,arguments)}}()(h,g,k,{[zn]:T});var L;let R;try{R=yield M}catch(L){if($i(L,l))return ln(u,s,c,oe(oe({},l),{},{flag:jr}));tt(L)}return R.id_token&&(yield C?.(k)),Qn(R),R}),Lr.apply(this,arguments)}function La(u,s,c){return ja.apply(this,arguments)}function ja(){return ja=(0,D.A)(function*(u,s,c){Dn(u),s=new URLSearchParams(s);const{as:l,c:h,auth:g,fetch:m,tlsOnly:v,timeout:w}=De(u),C=yield(k=(0,D.A)(function*(M,R,L,P,O){return cn(M),Jt(R),xr(M,R,L,"client_credentials",new URLSearchParams(P),O)}),function(M,R,L,P,O){return k.apply(this,arguments)})(l,h,g,s,{[_n]:m,[jt]:!v,DPoP:c?.DPoP,headers:new Headers($t),signal:fo(w)}).catch(tt),I=function(){var k=(0,D.A)(function*(M,R,L,P){return Nr(M,R,L,void 0,void 0,void 0)});return function(M,R,L,P){return k.apply(this,arguments)}}()(l,h,C);var k;let T;try{T=yield I}catch(k){if($i(k,c))return La(u,s,oe(oe({},c),{},{flag:jr}));tt(k)}return Qn(T),T}),ja.apply(this,arguments)}function zo(u,s){Dn(u);const{as:c,c:l,tlsOnly:h,hybrid:g,jarm:m,implicit:v}=De(u),w=Tt(c,"authorization_endpoint",!1,h);if((s=new URLSearchParams(s)).has("client_id")||s.set("client_id",l.client_id),!s.has("request_uri")&&!s.has("request")){if(s.has("response_type")||s.set("response_type",g?"code id_token":v?"id_token":"code"),v&&!s.has("nonce"))throw Ht("response_type=id_token clients must provide a nonce parameter in their authorization request parameters",Hn);m&&s.set("response_mode","jwt")}for(const[C,I]of s.entries())w.searchParams.append(C,I);return w}function Fa(u,s,c){return Va.apply(this,arguments)}function Va(){return Va=(0,D.A)(function*(u,s,c){Dn(u);const l=zo(u,s),{as:h,c:g,auth:m,fetch:v,tlsOnly:w,timeout:C}=De(u),I=yield(M=(0,D.A)(function*(R,L,P,O,V){var ne;cn(R),Jt(L);const ie=Tt(R,"pushed_authorization_request_endpoint",L.use_mtls_endpoint_aliases,!0!==V?.[jt]),z=new URLSearchParams(O);z.set("client_id",L.client_id);const he=ir(V?.headers);he.set("accept","application/json"),void 0!==V?.DPoP&&(Oo(V.DPoP),yield V.DPoP.addProof(ie,he,"POST"));const Ae=yield jn(R,L,P,ie,z,he,V);return null==V||null===(ne=V.DPoP)||void 0===ne||ne.cacheNonce(Ae,ie),Ae}),function(R,L,P,O,V){return M.apply(this,arguments)})(h,g,m,l.searchParams,{[_n]:v,[jt]:!w,DPoP:c?.DPoP,headers:new Headers($t),signal:fo(C)}).catch(tt),T=function(){var M=(0,D.A)(function*(R,L,P){if(cn(R),Jt(L),!No(P,Response))throw Le('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");yield Po(P,201,"Pushed Authorization Request Endpoint"),lt(P);const O=yield kr(P);ut(O.request_uri,'"response" body "request_uri" property',Se,{body:O});let V="number"!=typeof O.expires_in?parseFloat(O.expires_in):O.expires_in;return Pn(V,!0,'"response" body "expires_in" property',Se,{body:O}),O.expires_in=V,O});return function(R,L,P){return M.apply(this,arguments)}}()(h,g,I);var M;let k;try{k=yield T}catch(M){if($i(M,c))return Fa(u,s,oe(oe({},c),{},{flag:jr}));tt(M)}return zo(u,{request_uri:k.request_uri})}),Va.apply(this,arguments)}function Dn(u){if(!(u instanceof ao))throw Ht('"config" must be an instance of Configuration',He);if(Object.getPrototypeOf(u)!==ao.prototype)throw Ht("subclassing Configuration is not allowed",Hn)}function fo(u){return u?AbortSignal.timeout(1e3*u):void 0}function $i(u,s){return!(null==s||!s.DPoP||s.flag===jr)&&function(c){if(c instanceof yu){const{0:l,length:h}=c.cause;return 1===h&&"dpop"===l.scheme&&"use_dpop_nonce"===l.parameters.error}return c instanceof Yr&&"use_dpop_nonce"===c.error}(u)}Object.freeze(ao.prototype);const jr=Symbol();function xu(u,s,c,l){return Nu.apply(this,arguments)}function Nu(){return Nu=(0,D.A)(function*(u,s,c,l){Dn(u);const{as:h,c:g,auth:m,fetch:v,tlsOnly:w,timeout:C,decrypt:I}=De(u),T=yield(k=(0,D.A)(function*(M,R,L,P,O,V){return cn(M),Jt(R),ut(P,'"grantType"'),xr(M,R,L,P,new URLSearchParams(O),V)}),function(M,R,L,P,O,V){return k.apply(this,arguments)})(h,g,m,s,new URLSearchParams(c),{[_n]:v,[jt]:!w,DPoP:void 0,headers:new Headers($t),signal:fo(C)}).then(k=>{let M;return"urn:ietf:params:oauth:grant-type:token-exchange"===s&&(M={n_a:()=>{}}),(R=(0,D.A)(function*(L,P,O,V){return Nr(L,P,O,void 0,V?.[zn],V?.recognizedTokenTypes)}),function(L,P,O,V){return R.apply(this,arguments)})(h,g,k,{[zn]:I,recognizedTokenTypes:M});var R}).catch(tt);var k;return Qn(T),T}),Nu.apply(this,arguments)}function ku(){return ku=(0,D.A)(function*(u,s,c){if(s instanceof Uint8Array){if(!u.startsWith("HS"))throw new TypeError(function(l){for(var h=arguments.length,g=new Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];return Mu("Key must be ",l,...g)}(s,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",s,{hash:"SHA-".concat(u.slice(-3)),name:"HMAC"},!1,[c])}return function ka(u,s,c){switch(s){case"HS256":case"HS384":case"HS512":{if(!no(u.algorithm,"HMAC"))throw Fn("HMAC");const l=parseInt(s.slice(2),10);if(Na(u.algorithm.hash)!==l)throw Fn("SHA-".concat(l),"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!no(u.algorithm,"RSASSA-PKCS1-v1_5"))throw Fn("RSASSA-PKCS1-v1_5");const l=parseInt(s.slice(2),10);if(Na(u.algorithm.hash)!==l)throw Fn("SHA-".concat(l),"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!no(u.algorithm,"RSA-PSS"))throw Fn("RSA-PSS");const l=parseInt(s.slice(2),10);if(Na(u.algorithm.hash)!==l)throw Fn("SHA-".concat(l),"algorithm.hash");break}case"Ed25519":case"EdDSA":if(!no(u.algorithm,"Ed25519"))throw Fn("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":if(!no(u.algorithm,s))throw Fn(s);break;case"ES256":case"ES384":case"ES512":{if(!no(u.algorithm,"ECDSA"))throw Fn("ECDSA");const l=function(h){switch(h){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(s);if(u.algorithm.namedCurve!==l)throw Fn(l,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}!function(l,h){if(!l.usages.includes(h))throw new TypeError("CryptoKey does not support this operation, its usages must include ".concat(h,"."))}(u,c)}(s,u,c),s}),ku.apply(this,arguments)}function Ru(){return Ru=(0,D.A)(function*(u,s,c,l){const h=yield function og(u,s,c){return ku.apply(this,arguments)}(u,s,"verify");!function(m,v){if(m.startsWith("RS")||m.startsWith("PS")){const{modulusLength:w}=v.algorithm;if("number"!=typeof w||w<2048)throw new TypeError("".concat(m," requires key modulusLength to be 2048 bits or larger"))}}(u,h);const g=function(m,v){const w="SHA-".concat(m.slice(-3));switch(m){case"HS256":case"HS384":case"HS512":return{hash:w,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:w,name:"RSA-PSS",saltLength:parseInt(m.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:w,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:w,name:"ECDSA",namedCurve:v.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:m};default:throw new Vt("alg ".concat(m," is not supported either by JOSE or your javascript runtime"))}}(u,h.algorithm);try{return yield crypto.subtle.verify(g,h,c,l)}catch{return!1}}),Ru.apply(this,arguments)}function Pu(){return Pu=(0,D.A)(function*(u,s,c){if(!ur(u))throw new je("Flattened JWS must be an object");if(void 0===u.protected&&void 0===u.header)throw new je('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==u.protected&&"string"!=typeof u.protected)throw new je("JWS Protected Header incorrect type");if(void 0===u.payload)throw new je("JWS Payload missing");if("string"!=typeof u.signature)throw new je("JWS Signature missing or incorrect type");if(void 0!==u.header&&!ur(u.header))throw new je("JWS Unprotected Header incorrect type");let l={};if(u.protected)try{const L=Ho(u.protected);l=JSON.parse(to.decode(L))}catch{throw new je("JWS Protected Header is invalid")}if(!function(){for(var L=arguments.length,P=new Array(L),O=0;O<L;O++)P[O]=arguments[O];const V=P.filter(Boolean);if(0===V.length||1===V.length)return!0;let ne;for(const ie of V){const z=Object.keys(ie);if(ne&&0!==ne.size)for(const he of z){if(ne.has(he))return!1;ne.add(he)}else ne=new Set(z)}return!0}(l,u.header))throw new je("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const h=oe(oe({},l),u.header);let m=!0;if(function(L,P,O,V,ne){if(void 0!==ne.crit&&void 0===V?.crit)throw new L('"crit" (Critical) Header Parameter MUST be integrity protected');if(!V||void 0===V.crit)return new Set;if(!Array.isArray(V.crit)||0===V.crit.length||V.crit.some(z=>"string"!=typeof z||0===z.length))throw new L('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let ie;ie=void 0!==O?new Map([...Object.entries(O),...P.entries()]):P;for(const z of V.crit){if(!ie.has(z))throw new Vt('Extension Header Parameter "'.concat(z,'" is not recognized'));if(void 0===ne[z])throw new L('Extension Header Parameter "'.concat(z,'" is missing'));if(ie.get(z)&&void 0===V[z])throw new L('Extension Header Parameter "'.concat(z,'" MUST be integrity protected'))}return new Set(V.crit)}(je,new Map([["b64",!0]]),c?.crit,l,h).has("b64")&&(m=l.b64,"boolean"!=typeof m))throw new je('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:v}=h;if("string"!=typeof v||!v)throw new je('JWS "alg" (Algorithm) Header Parameter missing or invalid');const w=c&&function(L,P){if(void 0!==P&&(!Array.isArray(P)||P.some(O=>"string"!=typeof O)))throw new TypeError('"'.concat("algorithms",'" option must be an array of strings'));if(P)return new Set(P)}(0,c.algorithms);if(w&&!w.has(v))throw new Hi('"alg" (Algorithm) Header Parameter value not allowed');if(m){if("string"!=typeof u.payload)throw new je("JWS Payload must be a string")}else if("string"!=typeof u.payload&&!(u.payload instanceof Uint8Array))throw new je("JWS Payload must be a string or an Uint8Array instance");let C=!1;"function"==typeof s&&(s=yield s(l,u),C=!0),function bn(u,s,c){switch(u.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((l,h,g)=>{if(!(h instanceof Uint8Array)){if(Oa(h)){if("oct"===(m=h).kty&&"string"==typeof m.k&&et(l,h,g))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Au(h))throw new TypeError(Ra(l,h,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==h.type)throw new TypeError("".concat(re(h),' instances for symmetric algorithms must be of type "secret"'))}var m})(u,s,c);break;default:((l,h,g)=>{if(Oa(h))switch(g){case"decrypt":case"sign":if("oct"!==(m=h).kty&&("AKP"===m.kty&&"string"==typeof m.priv||"string"==typeof m.d)&&et(l,h,g))return;throw new TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if((m=>"oct"!==m.kty&&void 0===m.d&&void 0===m.priv)(h)&&et(l,h,g))return;throw new TypeError("JSON Web Key for this operation must be a public JWK")}var m;if(!Au(h))throw new TypeError(Ra(l,h,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===h.type)throw new TypeError("".concat(re(h),' instances for asymmetric algorithms must not be of type "secret"'));if("public"===h.type)switch(g){case"sign":throw new TypeError("".concat(re(h),' instances for asymmetric algorithm signing must be of type "private"'));case"decrypt":throw new TypeError("".concat(re(h),' instances for asymmetric algorithm decryption must be of type "private"'))}if("private"===h.type)switch(g){case"verify":throw new TypeError("".concat(re(h),' instances for asymmetric algorithm verifying must be of type "public"'));case"encrypt":throw new TypeError("".concat(re(h),' instances for asymmetric algorithm encryption must be of type "public"'))}})(u,s,c)}}(v,s,"verify");const I=function(){for(var L=arguments.length,P=new Array(L),O=0;O<L;O++)P[O]=arguments[O];const V=P.reduce((z,he)=>{let{length:Ae}=he;return z+Ae},0),ne=new Uint8Array(V);let ie=0;for(const z of P)ne.set(z,ie),ie+=z.length;return ne}(void 0!==u.protected?Vi(u.protected):new Uint8Array,Vi("."),"string"==typeof u.payload?m?Vi(u.payload):Fi.encode(u.payload):u.payload);let T;try{T=Ho(u.signature)}catch{throw new je("Failed to base64url decode the signature")}const k=yield function Je(u,s){return U.apply(this,arguments)}(s,v);if(!(yield function ig(u,s,c,l){return Ru.apply(this,arguments)}(v,k,T,I)))throw new Rr;let M;if(m)try{M=Ho(u.payload)}catch{throw new je("Failed to base64url decode the payload")}else M="string"==typeof u.payload?Fi.encode(u.payload):u.payload;const R={payload:M};return void 0!==u.protected&&(R.protectedHeader=l),void 0!==u.header&&(R.unprotectedHeader=u.header),C?oe(oe({},R),{},{key:k}):R}),Pu.apply(this,arguments)}const Ou=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function Ha(u){const s=Ou.exec(u);if(!s||s[4]&&s[1])throw new TypeError("Invalid time period format");const c=parseFloat(s[2]);let l;switch(s[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":l=Math.round(c);break;case"minute":case"minutes":case"min":case"mins":case"m":l=Math.round(60*c);break;case"hour":case"hours":case"hr":case"hrs":case"h":l=Math.round(3600*c);break;case"day":case"days":case"d":l=Math.round(86400*c);break;case"week":case"weeks":case"w":l=Math.round(604800*c);break;default:l=Math.round(31557600*c)}return"-"===s[1]||"ago"===s[4]?-l:l}const $d=u=>u.includes("/")?u.toLowerCase():"application/".concat(u.toLowerCase());function Lu(){return Lu=(0,D.A)(function*(u,s,c){var l;const h=yield(v=(0,D.A)(function*(w,C,I){if(w instanceof Uint8Array&&(w=to.decode(w)),"string"!=typeof w)throw new je("Compact JWS must be a string or Uint8Array");const{0:T,1:k,2:M,length:R}=w.split(".");if(3!==R)throw new je("Invalid Compact JWS");const L=yield function sg(u,s,c){return Pu.apply(this,arguments)}({payload:k,protected:T,signature:M},C,I),P={payload:L.payload,protectedHeader:L.protectedHeader};return"function"==typeof C?oe(oe({},P),{},{key:L.key}):P}),function(w,C,I){return v.apply(this,arguments)})(u,s,c);var v;if(null!==(l=h.protectedHeader.crit)&&void 0!==l&&l.includes("b64")&&!1===h.protectedHeader.b64)throw new cr("JWTs MUST NOT use unencoded payload");const g=function(v,w){let C,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{C=JSON.parse(to.decode(w))}catch{}if(!ur(C))throw new cr("JWT Claims Set must be a top-level JSON object");const{typ:T}=I;if(T&&("string"!=typeof v.typ||$d(v.typ)!==$d(T)))throw new Zt('unexpected "typ" JWT header value',C,"typ","check_failed");const{requiredClaims:k=[],issuer:M,subject:R,audience:L,maxTokenAge:P}=I,O=[...k];void 0!==P&&O.push("iat"),void 0!==L&&O.push("aud"),void 0!==R&&O.push("sub"),void 0!==M&&O.push("iss");for(const z of new Set(O.reverse()))if(!(z in C))throw new Zt('missing required "'.concat(z,'" claim'),C,z,"missing");if(M&&!(Array.isArray(M)?M:[M]).includes(C.iss))throw new Zt('unexpected "iss" claim value',C,"iss","check_failed");if(R&&C.sub!==R)throw new Zt('unexpected "sub" claim value',C,"sub","check_failed");if(L&&!((u,s)=>"string"==typeof u?s.includes(u):!!Array.isArray(u)&&s.some(Set.prototype.has.bind(new Set(u))))(C.aud,"string"==typeof L?[L]:L))throw new Zt('unexpected "aud" claim value',C,"aud","check_failed");let V;switch(typeof I.clockTolerance){case"string":V=Ha(I.clockTolerance);break;case"number":V=I.clockTolerance;break;case"undefined":V=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:ne}=I,ie=(u=>Math.floor(u.getTime()/1e3))(ne||new Date);if((void 0!==C.iat||P)&&"number"!=typeof C.iat)throw new Zt('"iat" claim must be a number',C,"iat","invalid");if(void 0!==C.nbf){if("number"!=typeof C.nbf)throw new Zt('"nbf" claim must be a number',C,"nbf","invalid");if(C.nbf>ie+V)throw new Zt('"nbf" claim timestamp check failed',C,"nbf","check_failed")}if(void 0!==C.exp){if("number"!=typeof C.exp)throw new Zt('"exp" claim must be a number',C,"exp","invalid");if(C.exp<=ie-V)throw new Ma('"exp" claim timestamp check failed',C,"exp","check_failed")}if(P){const z=ie-C.iat;if(z-V>("number"==typeof P?P:Ha(P)))throw new Ma('"iat" claim timestamp check failed (too far in the past)',C,"iat","check_failed");if(z<0-V)throw new Zt('"iat" claim timestamp check failed (it should be in the past)',C,"iat","check_failed")}return C}(h.protectedHeader,h.payload,c),m={payload:g,protectedHeader:h.protectedHeader};return"function"==typeof s?oe(oe({},m),{},{key:h.key}):m}),Lu.apply(this,arguments)}function Kd(u){return ur(u)}var $o,Ko,Go=new WeakMap,Ua=new WeakMap;class Gd{constructor(s){if(bt(this,Go,void 0),bt(this,Ua,new WeakMap),!((c=s)&&"object"==typeof c&&Array.isArray(c.keys)&&c.keys.every(Kd)))throw new Uo("JSON Web Key Set malformed");var c;Qe(Go,this,structuredClone(s))}jwks(){return j(Go,this)}getKey(s,c){var l=this;return(0,D.A)(function*(){const{alg:h,kid:g}=oe(oe({},s),c?.header),m=function(I){switch("string"==typeof I&&I.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new Vt('Unsupported "alg" value for a JSON Web Key Set')}}(h),v=j(Go,l).keys.filter(I=>{let T=m===I.kty;if(T&&"string"==typeof g&&(T=g===I.kid),!T||"string"!=typeof I.alg&&"AKP"!==m||(T=h===I.alg),T&&"string"==typeof I.use&&(T="sig"===I.use),T&&Array.isArray(I.key_ops)&&(T=I.key_ops.includes("verify")),T)switch(h){case"ES256":T="P-256"===I.crv;break;case"ES384":T="P-384"===I.crv;break;case"ES512":T="P-521"===I.crv;break;case"Ed25519":case"EdDSA":T="Ed25519"===I.crv}return T}),{0:w,length:C}=v;if(0===C)throw new Aa;if(1!==C){const I=new Tu,T=j(Ua,l);throw I[Symbol.asyncIterator]=function be(u){return function(){return new Sr(u.apply(this,arguments))}}(function*(){for(const k of v)try{yield yield fu(Ba(T,k,h))}catch{}}),I}return Ba(j(Ua,l),w,h)})()}}function Ba(u,s,c){return Ki.apply(this,arguments)}function Ki(){return Ki=(0,D.A)(function*(u,s,c){const l=u.get(s)||u.set(s,{}).get(s);if(void 0===l[c]){const h=yield(g=(0,D.A)(function*(m,v,w){if(!ur(m))throw new TypeError("JWK must be an object");let I;switch(null!=v||(v=m.alg),null!=I||(I=m.ext),m.kty){case"oct":if("string"!=typeof m.k||!m.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Ho(m.k);case"RSA":if("oth"in m&&void 0!==m.oth)throw new Vt('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return Bi(oe(oe({},m),{},{alg:v,ext:I}));case"AKP":if("string"!=typeof m.alg||!m.alg)throw new TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==v&&v!==m.alg)throw new TypeError("JWK alg and alg option value mismatch");return Bi(oe(oe({},m),{},{ext:I}));case"EC":case"OKP":return Bi(oe(oe({},m),{},{alg:v,ext:I}));default:throw new Vt('Unsupported "kty" (Key Type) Parameter value')}}),function(m,v,w){return g.apply(this,arguments)})(oe(oe({},s),{},{ext:!0}),c);if(h instanceof Uint8Array||"public"!==h.type)throw new Uo("JSON Web Key Set members must be public keys");l[c]=h}var g;return l[c]}),Ki.apply(this,arguments)}function ju(u){const s=new Gd(u),c=function(){var l=(0,D.A)(function*(h,g){return s.getKey(h,g)});return function(g,m){return l.apply(this,arguments)}}();return Object.defineProperties(c,{jwks:{value:()=>structuredClone(s.jwks()),enumerable:!1,configurable:!1,writable:!1}}),c}let qo;(typeof navigator>"u"||null===($o=navigator.userAgent)||void 0===$o||null===(Ko=$o.startsWith)||void 0===Ko||!Ko.call($o,"Mozilla/5.0 "))&&(qo="".concat("jose","/").concat("v6.1.3"));const Fu=Symbol(),dn=Symbol();var Gi=new WeakMap,qi=new WeakMap,Te=new WeakMap,ho=new WeakMap,Cn=new WeakMap,Ye=new WeakMap,dr=new WeakMap,Fr=new WeakMap,nn=new WeakMap,yt=new WeakMap;class qd{constructor(s,c){if(bt(this,Gi,void 0),bt(this,qi,void 0),bt(this,Te,void 0),bt(this,ho,void 0),bt(this,Cn,void 0),bt(this,Ye,void 0),bt(this,dr,void 0),bt(this,Fr,void 0),bt(this,nn,void 0),bt(this,yt,void 0),!(s instanceof URL))throw new TypeError("url must be an instance of URL");var l,h;Qe(Gi,this,new URL(s.href)),Qe(qi,this,"number"==typeof c?.timeoutDuration?c?.timeoutDuration:5e3),Qe(Te,this,"number"==typeof c?.cooldownDuration?c?.cooldownDuration:3e4),Qe(ho,this,"number"==typeof c?.cacheMaxAge?c?.cacheMaxAge:6e5),Qe(dr,this,new Headers(c?.headers)),qo&&!j(dr,this).has("User-Agent")&&j(dr,this).set("User-Agent",qo),j(dr,this).has("accept")||(j(dr,this).set("accept","application/json"),j(dr,this).append("accept","application/jwk-set+json")),Qe(Fr,this,c?.[Fu]),void 0!==c?.[dn]&&(Qe(yt,this,c?.[dn]),l=c?.[dn],h=j(ho,this),"object"==typeof l&&null!==l&&"uat"in l&&"number"==typeof l.uat&&!(Date.now()-l.uat>=h)&&"jwks"in l&&ur(l.jwks)&&Array.isArray(l.jwks.keys)&&Array.prototype.every.call(l.jwks.keys,ur)&&(Qe(Cn,this,j(yt,this).uat),Qe(nn,this,ju(j(yt,this).jwks))))}pendingFetch(){return!!j(Ye,this)}coolingDown(){return"number"==typeof j(Cn,this)&&Date.now()<j(Cn,this)+j(Te,this)}fresh(){return"number"==typeof j(Cn,this)&&Date.now()<j(Cn,this)+j(ho,this)}jwks(){var s;return null===(s=j(nn,this))||void 0===s?void 0:s.jwks()}getKey(s,c){var l=this;return(0,D.A)(function*(){j(nn,l)&&l.fresh()||(yield l.reload());try{return yield j(nn,l).call(l,s,c)}catch(h){if(h instanceof Aa&&!1===l.coolingDown())return yield l.reload(),j(nn,l).call(l,s,c);throw h}})()}reload(){var s=this;return(0,D.A)(function*(){var c;j(Ye,s)&&(typeof WebSocketPair<"u"||typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent||typeof EdgeRuntime<"u"&&"vercel"===EdgeRuntime)&&Qe(Ye,s,void 0),j(Ye,s)||Qe(Ye,s,(c=(0,D.A)(function*(l,h,g){const v=yield(arguments.length>3&&void 0!==arguments[3]?arguments[3]:fetch)(l,{method:"GET",signal:g,redirect:"manual",headers:h}).catch(w=>{throw"TimeoutError"===w.name?new xa:w});if(200!==v.status)throw new mt("Expected 200 OK from the JSON Web Key Set HTTP response");try{return yield v.json()}catch{throw new mt("Failed to parse the JSON Web Key Set HTTP response as JSON")}}),function(l,h,g){return c.apply(this,arguments)})(j(Gi,s).href,j(dr,s),AbortSignal.timeout(j(qi,s)),j(Fr,s)).then(c=>{Qe(nn,s,ju(c)),j(yt,s)&&(j(yt,s).uat=Date.now(),j(yt,s).jwks=c),Qe(Cn,s,Date.now()),Qe(Ye,s,void 0)}).catch(c=>{throw Qe(Ye,s,void 0),c})),yield j(Ye,s)})()}}const Wa=["mfaToken"],Jd=["mfaToken"];var Dt,Jo,fr,Yn,Xn,Pe,hr,Xe,Ji=class extends Error{constructor(u,s){super(s),Q(this,"code",void 0),this.name="NotSupportedError",this.code=u}},xt=class extends Error{constructor(u,s,c){super(s),Q(this,"cause",void 0),Q(this,"code",void 0),this.code=u,this.cause=c&&{error:c.error,error_description:c.error_description,message:c.message}}},fe=class extends xt{constructor(u,s){super("token_by_code_error",u,s),this.name="TokenByCodeError"}},Zi=class extends xt{constructor(u,s){super("token_by_client_credentials_error",u,s),this.name="TokenByClientCredentialsError"}},za=class extends xt{constructor(u,s){super("token_by_refresh_token_error",u,s),this.name="TokenByRefreshTokenError"}},Qi=class extends xt{constructor(u,s){super("token_for_connection_error",u,s),this.name="TokenForConnectionErrorCode"}},er=class extends xt{constructor(u,s){super("token_exchange_error",u,s),this.name="TokenExchangeError"}},pr=class extends Error{constructor(u){super(u),Q(this,"code","verify_logout_token_error"),this.name="VerifyLogoutTokenError"}},$a=class extends xt{constructor(u){super("backchannel_authentication_error","There was an error when trying to use Client-Initiated Backchannel Authentication.",u),Q(this,"code","backchannel_authentication_error"),this.name="BackchannelAuthenticationError"}},Zd=class extends xt{constructor(u){super("build_authorization_url_error","There was an error when trying to build the authorization URL.",u),this.name="BuildAuthorizationUrlError"}},Vu=class extends xt{constructor(u){super("build_link_user_url_error","There was an error when trying to build the Link User URL.",u),this.name="BuildLinkUserUrlError"}},Vr=class extends xt{constructor(u){super("build_unlink_user_url_error","There was an error when trying to build the Unlink User URL.",u),this.name="BuildUnlinkUserUrlError"}},Qd=class extends Error{constructor(){super("The client secret or client assertion signing key must be provided."),Q(this,"code","missing_client_auth_error"),this.name="MissingClientAuthError"}};function Ka(u){return Object.entries(u).filter(s=>{let[,c]=s;return void 0!==c}).reduce((s,c)=>oe(oe({},s),{},{[c[0]]:c[1]}),{})}var Yi=class extends Error{constructor(u,s,c){super(s),Q(this,"cause",void 0),Q(this,"code",void 0),this.code=u,this.cause=c&&{error:c.error,error_description:c.error_description,message:c.message}}},Hu=class extends Yi{constructor(u,s){super("mfa_list_authenticators_error",u,s),this.name="MfaListAuthenticatorsError"}},Uu=class extends Yi{constructor(u,s){super("mfa_enrollment_error",u,s),this.name="MfaEnrollmentError"}},A=class extends Yi{constructor(u,s){super("mfa_delete_authenticator_error",u,s),this.name="MfaDeleteAuthenticatorError"}},Ie=class extends Yi{constructor(u,s){super("mfa_challenge_error",u,s),this.name="MfaChallengeError"}};function Bu(u){return{id:u.id,authenticatorType:u.authenticator_type,active:u.active,name:u.name,oobChannels:u.oob_channels,type:u.type}}var Wu=(Dt=new WeakMap,Jo=new WeakMap,fr=new WeakMap,class{constructor(u){var s;bt(this,Dt,void 0),bt(this,Jo,void 0),bt(this,fr,void 0),Qe(Dt,this,"https://".concat(u.domain)),Qe(Jo,this,u.clientId),Qe(fr,this,null!==(s=u.customFetch)&&void 0!==s?s:function(){return fetch(...arguments)})}listAuthenticators(u){var s=this;return(0,D.A)(function*(){const c="".concat(j(Dt,s),"/mfa/authenticators"),{mfaToken:l}=u,h=yield j(fr,s).call(s,c,{method:"GET",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"}});if(!h.ok){const g=yield h.json();throw new Hu(g.error_description||"Failed to list authenticators",g)}return(yield h.json()).map(Bu)})()}enrollAuthenticator(u){var s=this;return(0,D.A)(function*(){const c="".concat(j(Dt,s),"/mfa/associate"),{mfaToken:l}=u,h=Mi(u,Wa),g={authenticator_types:h.authenticatorTypes};"oobChannels"in h&&(g.oob_channels=h.oobChannels),"phoneNumber"in h&&h.phoneNumber&&(g.phone_number=h.phoneNumber),"email"in h&&h.email&&(g.email=h.email);const m=yield j(fr,s).call(s,c,{method:"POST",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},body:JSON.stringify(g)});if(!m.ok){const v=yield m.json();throw new Uu(v.error_description||"Failed to enroll authenticator",v)}return function(v){if("otp"===v.authenticator_type)return{authenticatorType:"otp",secret:v.secret,barcodeUri:v.barcode_uri,recoveryCodes:v.recovery_codes,id:v.id};if("oob"===v.authenticator_type)return{authenticatorType:"oob",oobChannel:v.oob_channel,oobCode:v.oob_code,bindingMethod:v.binding_method,id:v.id};throw new Error("Unexpected authenticator type: ".concat(v.authenticator_type))}(yield m.json())})()}deleteAuthenticator(u){var s=this;return(0,D.A)(function*(){const{authenticatorId:c,mfaToken:l}=u,h="".concat(j(Dt,s),"/mfa/authenticators/").concat(encodeURIComponent(c)),g=yield j(fr,s).call(s,h,{method:"DELETE",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"}});if(!g.ok){const m=yield g.json();throw new A(m.error_description||"Failed to delete authenticator",m)}})()}challengeAuthenticator(u){var s=this;return(0,D.A)(function*(){const c="".concat(j(Dt,s),"/mfa/challenge"),{mfaToken:l}=u,h=Mi(u,Jd),g={mfa_token:l,client_id:j(Jo,s),challenge_type:h.challengeType};h.authenticatorId&&(g.authenticator_id=h.authenticatorId);const m=yield j(fr,s).call(s,c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!m.ok){const v=yield m.json();throw new Ie(v.error_description||"Failed to challenge authenticator",v)}return function(v){const w={challengeType:v.challenge_type};return void 0!==v.oob_code&&(w.oobCode=v.oob_code),void 0!==v.binding_method&&(w.bindingMethod=v.binding_method),w}(yield m.json())})()}}),Me=class hb{constructor(s,c,l,h,g,m,v){Q(this,"accessToken",void 0),Q(this,"idToken",void 0),Q(this,"refreshToken",void 0),Q(this,"expiresAt",void 0),Q(this,"scope",void 0),Q(this,"claims",void 0),Q(this,"authorizationDetails",void 0),Q(this,"tokenType",void 0),Q(this,"issuedTokenType",void 0),this.accessToken=s,this.idToken=l,this.refreshToken=h,this.expiresAt=c,this.scope=g,this.claims=m,this.authorizationDetails=v}static fromTokenEndpointResponse(s){const c=s.id_token?s.claims():void 0,l=new hb(s.access_token,Math.floor(Date.now()/1e3)+Number(s.expires_in),s.id_token,s.refresh_token,s.scope,c,s.authorization_details);return l.tokenType=s.token_type,l.issuedTokenType=s.issued_token_type,l}},Xi="openid profile email offline_access",Zo=Object.freeze(new Set(["grant_type","client_id","client_secret","client_assertion","client_assertion_type","subject_token","subject_token_type","requested_token_type","actor_token","actor_token_type","audience","aud","resource","resources","resource_indicator","scope","connection","login_hint","organization","assertion"]));function fn(u){if(null==u)throw new er("subject_token is required");if("string"!=typeof u)throw new er("subject_token must be a string");if(0===u.trim().length)throw new er("subject_token cannot be blank or whitespace");if(u!==u.trim())throw new er("subject_token must not include leading or trailing whitespace");if(/^bearer\s+/i.test(u))throw new er("subject_token must not include the 'Bearer ' prefix")}function es(u,s){if(s)for(const[c,l]of Object.entries(s))if(!Zo.has(c))if(Array.isArray(l)){if(l.length>20)throw new er("Parameter '".concat(c,"' exceeds maximum array size of ").concat(20));l.forEach(h=>{u.append(c,h)})}else u.append(c,l)}var Ga=(Yn=new WeakMap,Xn=new WeakMap,Pe=new WeakMap,hr=new WeakMap,Xe=new WeakSet,class{constructor(u){if(me(this,c=Xe),c.add(this),bt(this,Yn,void 0),bt(this,Xn,void 0),bt(this,Pe,void 0),bt(this,hr,void 0),Q(this,"mfa",void 0),Qe(Pe,this,u),u.useMtls&&!u.customFetch)throw new Ji("mtls_without_custom_fetch_not_supported","Using mTLS without a custom fetch implementation is not supported");var c;this.mfa=new Wu({domain:j(Pe,this).domain,clientId:j(Pe,this).clientId,customFetch:j(Pe,this).customFetch})}buildAuthorizationUrl(u){var s=this;return(0,D.A)(function*(){const{serverMetadata:c}=yield qe(Xe,s,rn).call(s);if(null!=u&&u.pushedAuthorizationRequests&&!c.pushed_authorization_request_endpoint)throw new Ji("par_not_supported_error","The Auth0 tenant does not have pushed authorization requests enabled. Learn how to enable it here: https://auth0.com/docs/get-started/applications/configure-par");try{return yield qe(Xe,s,rs).call(s,u)}catch(l){throw new Zd(l)}})()}buildLinkUserUrl(u){var s=this;return(0,D.A)(function*(){try{const c=yield qe(Xe,s,rs).call(s,{authorizationParams:oe(oe({},u.authorizationParams),{},{requested_connection:u.connection,requested_connection_scope:u.connectionScope,scope:"openid link_account offline_access",id_token_hint:u.idToken})});return{linkUserUrl:c.authorizationUrl,codeVerifier:c.codeVerifier}}catch(c){throw new Vu(c)}})()}buildUnlinkUserUrl(u){var s=this;return(0,D.A)(function*(){try{const c=yield qe(Xe,s,rs).call(s,{authorizationParams:oe(oe({},u.authorizationParams),{},{requested_connection:u.connection,scope:"openid unlink_account",id_token_hint:u.idToken})});return{unlinkUserUrl:c.authorizationUrl,codeVerifier:c.codeVerifier}}catch(c){throw new Vr(c)}})()}backchannelAuthentication(u){var s=this;return(0,D.A)(function*(){const{configuration:c,serverMetadata:l}=yield qe(Xe,s,rn).call(s),h=Ka(oe(oe({},j(Pe,s).authorizationParams),u?.authorizationParams)),g=new URLSearchParams(oe(oe({scope:Xi},h),{},{client_id:j(Pe,s).clientId,binding_message:u.bindingMessage,login_hint:JSON.stringify({format:"iss_sub",iss:l.issuer,sub:u.loginHint.sub})}));u.requestedExpiry&&g.append("requested_expiry",u.requestedExpiry.toString()),u.authorizationDetails&&g.append("authorization_details",JSON.stringify(u.authorizationDetails));try{const m=yield nt(c,g),v=yield ft(c,m);return Me.fromTokenEndpointResponse(v)}catch(m){throw new $a(m)}})()}initiateBackchannelAuthentication(u){var s=this;return(0,D.A)(function*(){const{configuration:c,serverMetadata:l}=yield qe(Xe,s,rn).call(s),h=Ka(oe(oe({},j(Pe,s).authorizationParams),u?.authorizationParams)),g=new URLSearchParams(oe(oe({scope:Xi},h),{},{client_id:j(Pe,s).clientId,binding_message:u.bindingMessage,login_hint:JSON.stringify({format:"iss_sub",iss:l.issuer,sub:u.loginHint.sub})}));u.requestedExpiry&&g.append("requested_expiry",u.requestedExpiry.toString()),u.authorizationDetails&&g.append("authorization_details",JSON.stringify(u.authorizationDetails));try{const m=yield nt(c,g);return{authReqId:m.auth_req_id,expiresIn:m.expires_in,interval:m.interval}}catch(m){throw new $a(m)}})()}backchannelAuthenticationGrant(u){var s=this;return(0,D.A)(function*(){let{authReqId:c}=u;const{configuration:l}=yield qe(Xe,s,rn).call(s),h=new URLSearchParams({auth_req_id:c});try{const g=yield xu(l,"urn:openid:params:grant-type:ciba",h);return Me.fromTokenEndpointResponse(g)}catch(g){throw new $a(g)}})()}getTokenForConnection(u){var s=this;return(0,D.A)(function*(){var c;if(u.refreshToken&&u.accessToken)throw new Qi("Either a refresh or access token should be specified, but not both.");const l=null!==(c=u.accessToken)&&void 0!==c?c:u.refreshToken;if(!l)throw new Qi("Either a refresh or access token must be specified.");try{return yield s.exchangeToken({connection:u.connection,subjectToken:l,subjectTokenType:u.accessToken?"urn:ietf:params:oauth:token-type:access_token":"urn:ietf:params:oauth:token-type:refresh_token",loginHint:u.loginHint})}catch(h){throw h instanceof er?new Qi(h.message,h.cause):h}})()}exchangeToken(u){var s=this;return(0,D.A)(function*(){return"connection"in u?qe(Xe,s,lg).call(s,u):qe(Xe,s,$u).call(s,u)})()}getTokenByCode(u,s){var c=this;return(0,D.A)(function*(){const{configuration:l}=yield qe(Xe,c,rn).call(c);try{const h=yield lr(l,u,{pkceCodeVerifier:s.codeVerifier});return Me.fromTokenEndpointResponse(h)}catch(h){throw new fe("There was an error while trying to request a token.",h)}})()}getTokenByRefreshToken(u){var s=this;return(0,D.A)(function*(){const{configuration:c}=yield qe(Xe,s,rn).call(s);try{const l=yield ln(c,u.refreshToken);return Me.fromTokenEndpointResponse(l)}catch(l){throw new za("The access token has expired and there was an error while trying to refresh it.",l)}})()}getTokenByClientCredentials(u){var s=this;return(0,D.A)(function*(){const{configuration:c}=yield qe(Xe,s,rn).call(s);try{const l=new URLSearchParams({audience:u.audience});u.organization&&l.append("organization",u.organization);const h=yield La(c,l);return Me.fromTokenEndpointResponse(h)}catch(l){throw new Zi("There was an error while trying to request a token.",l)}})()}buildLogoutUrl(u){var s=this;return(0,D.A)(function*(){const{configuration:c,serverMetadata:l}=yield qe(Xe,s,rn).call(s);if(!l.end_session_endpoint){const h=new URL("https://".concat(j(Pe,s).domain,"/v2/logout"));return h.searchParams.set("returnTo",u.returnTo),h.searchParams.set("client_id",j(Pe,s).clientId),h}return function(h,g){Dn(h);const{as:m,c:v,tlsOnly:w}=De(h),C=Tt(m,"end_session_endpoint",!1,w);(g=new URLSearchParams(g)).has("client_id")||g.set("client_id",v.client_id);for(const[I,T]of g.entries())C.searchParams.append(I,T);return C}(c,{post_logout_redirect_uri:u.returnTo})})()}verifyLogoutToken(u){var s=this;return(0,D.A)(function*(){const{serverMetadata:c}=yield qe(Xe,s,rn).call(s);j(hr,s)||Qe(hr,s,function(h,g){const m=new qd(h,g),v=function(){var w=(0,D.A)(function*(C,I){return m.getKey(C,I)});return function(I,T){return w.apply(this,arguments)}}();return Object.defineProperties(v,{coolingDown:{get:()=>m.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>m.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>m.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>m.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>m.jwks(),enumerable:!0,configurable:!1,writable:!1}}),v}(new URL(c.jwks_uri),{[Fu]:j(Pe,s).customFetch}));const{payload:l}=yield function ug(u,s,c){return Lu.apply(this,arguments)}(u.logoutToken,j(hr,s),{issuer:c.issuer,audience:j(Pe,s).clientId,algorithms:["RS256"],requiredClaims:["iat"]});if(!("sid"in l)&&!("sub"in l))throw new pr('either "sid" or "sub" (or both) claims must be present');if("sid"in l&&"string"!=typeof l.sid)throw new pr('"sid" claim must be a string');if("sub"in l&&"string"!=typeof l.sub)throw new pr('"sub" claim must be a string');if("nonce"in l)throw new pr('"nonce" claim is prohibited');if(!("events"in l))throw new pr('"events" claim is missing');if("object"!=typeof l.events||null===l.events)throw new pr('"events" claim must be an object');if(!("http://schemas.openid.net/event/backchannel-logout"in l.events))throw new pr('"http://schemas.openid.net/event/backchannel-logout" member is missing in the "events" claim');if("object"!=typeof l.events["http://schemas.openid.net/event/backchannel-logout"])throw new pr('"http://schemas.openid.net/event/backchannel-logout" member in the "events" claim must be an object');return{sid:l.sid,sub:l.sub}})()}});function rn(){return zu.apply(this,arguments)}function zu(){return zu=(0,D.A)(function*(){if(j(Yn,this)&&j(Xn,this))return{configuration:j(Yn,this),serverMetadata:j(Xn,this)};const u=yield qe(Xe,this,Kt).call(this);return Qe(Yn,this,yield function Wi(u,s,c,l,h){return Qt.apply(this,arguments)}(new URL("https://".concat(j(Pe,this).domain)),j(Pe,this).clientId,{use_mtls_endpoint_aliases:j(Pe,this).useMtls},u,{[qn]:j(Pe,this).customFetch})),Qe(Xn,this,j(Yn,this).serverMetadata()),j(Yn,this)[qn]=j(Pe,this).customFetch||fetch,{configuration:j(Yn,this),serverMetadata:j(Xn,this)}}),zu.apply(this,arguments)}function lg(u){return ts.apply(this,arguments)}function ts(){return ts=(0,D.A)(function*(u){var s,c;const{configuration:l}=yield qe(Xe,this,rn).call(this);if("audience"in u||"resource"in u)throw new er("audience and resource parameters are not supported for Token Vault exchanges");fn(u.subjectToken);const h=new URLSearchParams({connection:u.connection,subject_token:u.subjectToken,subject_token_type:null!==(s=u.subjectTokenType)&&void 0!==s?s:"urn:ietf:params:oauth:token-type:access_token",requested_token_type:null!==(c=u.requestedTokenType)&&void 0!==c?c:"http://auth0.com/oauth/token-type/federated-connection-access-token"});u.loginHint&&h.append("login_hint",u.loginHint),u.scope&&h.append("scope",u.scope),es(h,u.extra);try{const g=yield xu(l,"urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token",h);return Me.fromTokenEndpointResponse(g)}catch(g){throw new er("Failed to exchange token for connection '".concat(u.connection,"'."),g)}}),ts.apply(this,arguments)}function $u(u){return ns.apply(this,arguments)}function ns(){return ns=(0,D.A)(function*(u){const{configuration:s}=yield qe(Xe,this,rn).call(this);fn(u.subjectToken);const c=new URLSearchParams({subject_token_type:u.subjectTokenType,subject_token:u.subjectToken});u.audience&&c.append("audience",u.audience),u.scope&&c.append("scope",u.scope),u.requestedTokenType&&c.append("requested_token_type",u.requestedTokenType),u.organization&&c.append("organization",u.organization),es(c,u.extra);try{const l=yield xu(s,"urn:ietf:params:oauth:grant-type:token-exchange",c);return Me.fromTokenEndpointResponse(l)}catch(l){throw new er("Failed to exchange token of type '".concat(u.subjectTokenType,"'").concat(u.audience?" for audience '".concat(u.audience,"'"):"","."),l)}}),ns.apply(this,arguments)}function Kt(){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,D.A)(function*(){if(!j(Pe,this).clientSecret&&!j(Pe,this).clientAssertionSigningKey&&!j(Pe,this).useMtls)throw new Qd;if(j(Pe,this).useMtls)return(s,c,l,h)=>{l.set("client_id",c.client_id)};let u=j(Pe,this).clientAssertionSigningKey;return!u||u instanceof CryptoKey||(u=yield(s=(0,D.A)(function*(c,l,h){if("string"!=typeof c||0!==c.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return zd(c,l,h)}),function(c,l,h){return s.apply(this,arguments)})(u,j(Pe,this).clientAssertionSigningAlg||"RS256")),u?function(s){return function ha(u,s){const{key:c,kid:l}=(h=u)instanceof CryptoKey?{key:h}:h?.key instanceof CryptoKey?(void 0!==h.kid&&ut(h.kid,'"kid"'),{key:h.key,kid:h.kid}):{};var h;return function Ni(u,s){if(function(c,l){if(!(c instanceof CryptoKey))throw Le("".concat(l," must be a CryptoKey"),"ERR_INVALID_ARG_TYPE")}(u,s),"private"!==u.type)throw Le("".concat(s," must be a private CryptoKey"),"ERR_INVALID_ARG_VALUE")}(c,'"clientPrivateKey.key"'),function(){var g=(0,D.A)(function*(m,v,w,C){const I={alg:Mr(c),kid:l},T=function(k,M){const R=Kn()+Ri(M);return{jti:mu(),aud:k.issuer,exp:R+60,iat:R,nbf:R,iss:M.client_id,sub:M.client_id}}(m,v);var k;w.set("client_id",v.client_id),w.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),w.set("client_assertion",yield(k=(0,D.A)(function*(M,R,L){if(!L.usages.includes("sign"))throw Le('CryptoKey instances used for signing assertions must include "sign" in their "usages"',"ERR_INVALID_ARG_VALUE");const P="".concat(Tr(wn(JSON.stringify(M))),".").concat(Tr(wn(JSON.stringify(R)))),O=Tr(yield crypto.subtle.sign(function(V){switch(V.algorithm.name){case"ECDSA":return{name:V.algorithm.name,hash:Eu(V)};case"RSA-PSS":switch(Ca(V),V.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:V.algorithm.name,saltLength:parseInt(V.algorithm.hash.name.slice(-3),10)>>3};default:throw new Ve("unsupported RSA-PSS hash name",{cause:V})}case"RSASSA-PKCS1-v1_5":return Ca(V),V.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return V.algorithm.name}throw new Ve("unsupported CryptoKey algorithm name",{cause:V})}(L),L,wn(P)));return"".concat(P,".").concat(O)}),function(M,R,L){return k.apply(this,arguments)})(I,T,c))});return function(m,v,w,C){return g.apply(this,arguments)}}()}(s)}(u):io(j(Pe,this).clientSecret);var s}),Sn.apply(this,arguments)}function rs(u){return on.apply(this,arguments)}function on(){return on=(0,D.A)(function*(u){const{configuration:s}=yield qe(Xe,this,rn).call(this),c=function Jn(){return mu()}(),l=yield function so(u){return(s=(0,D.A)(function*(c){return ut(c,"codeVerifier"),Tr(yield crypto.subtle.digest("SHA-256",wn(c)))}),function(c){return s.apply(this,arguments)})(u);var s}(c),h=Ka(oe(oe({},j(Pe,this).authorizationParams),u?.authorizationParams)),g=new URLSearchParams(oe(oe({scope:Xi},h),{},{client_id:j(Pe,this).clientId,code_challenge:l,code_challenge_method:"S256"}));return{authorizationUrl:null!=u&&u.pushedAuthorizationRequests?yield Fa(s,g):yield zo(s,g),codeVerifier:c}}),on.apply(this,arguments)}class Bt extends Ge{constructor(s,c){super(s,c),Object.setPrototypeOf(this,Bt.prototype)}static fromPayload(s){let{error:c,error_description:l}=s;return new Bt(c,l)}}class os extends Bt{constructor(s,c){super(s,c),Object.setPrototypeOf(this,os.prototype)}}class is extends Bt{constructor(s,c){super(s,c),Object.setPrototypeOf(this,is.prototype)}}class qa extends Bt{constructor(s,c){super(s,c),Object.setPrototypeOf(this,qa.prototype)}}class po extends Bt{constructor(s,c){super(s,c),Object.setPrototypeOf(this,po.prototype)}}class Qo extends Bt{constructor(s,c){super(s,c),Object.setPrototypeOf(this,Qo.prototype)}}class Ja{constructor(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e5;this.contexts=new Map,this.ttlMs=s}set(s,c){this.cleanup(),this.contexts.set(s,Object.assign(Object.assign({},c),{createdAt:Date.now()}))}get(s){const c=this.contexts.get(s);if(c){if(!(Date.now()-c.createdAt>this.ttlMs))return c;this.contexts.delete(s)}}remove(s){this.contexts.delete(s)}cleanup(){const s=Date.now();for(const[c,l]of this.contexts)s-l.createdAt>this.ttlMs&&this.contexts.delete(c)}get size(){return this.contexts.size}}class Za{constructor(s,c){this.authJsMfaClient=s,this.auth0Client=c,this.contextManager=new Ja}setMFAAuthDetails(s,c,l,h){this.contextManager.set(s,{scope:c,audience:l,mfaRequirements:h})}getAuthenticators(s){var c=this;return(0,D.A)(function*(){var l,h;const g=c.contextManager.get(s);if(null===(l=g?.mfaRequirements)||void 0===l||!l.challenge||0===g.mfaRequirements.challenge.length)throw new os("invalid_request","challengeType is required and must contain at least one challenge type, please check mfa_required error payload");const m=g.mfaRequirements.challenge.map(v=>v.type);try{return(yield c.authJsMfaClient.listAuthenticators({mfaToken:s})).filter(v=>!!v.type&&m.includes(v.type))}catch(v){throw v instanceof Hu?new os(null===(h=v.cause)||void 0===h?void 0:h.error,v.message):v}})()}enroll(s){var c=this;return(0,D.A)(function*(){var l;const h=function(g){const m=Ao[g.factorType];return Object.assign(Object.assign(Object.assign({mfaToken:g.mfaToken,authenticatorTypes:m.authenticatorTypes},m.oobChannels&&{oobChannels:m.oobChannels}),"phoneNumber"in g&&{phoneNumber:g.phoneNumber}),"email"in g&&{email:g.email})}(s);try{return yield c.authJsMfaClient.enrollAuthenticator(h)}catch(g){throw g instanceof Uu?new is(null===(l=g.cause)||void 0===l?void 0:l.error,g.message):g}})()}challenge(s){var c=this;return(0,D.A)(function*(){var l;try{const h={challengeType:s.challengeType,mfaToken:s.mfaToken};return s.authenticatorId&&(h.authenticatorId=s.authenticatorId),yield c.authJsMfaClient.challengeAuthenticator(h)}catch(h){throw h instanceof Ie?new qa(null===(l=h.cause)||void 0===l?void 0:l.error,h.message):h}})()}getEnrollmentFactors(s){var c=this;return(0,D.A)(function*(){const l=c.contextManager.get(s);if(!l||!l.mfaRequirements)throw new Qo("mfa_context_not_found","MFA context not found for this MFA token. Please retry the original request to get a new MFA token.");return l.mfaRequirements.enroll&&0!==l.mfaRequirements.enroll.length?l.mfaRequirements.enroll:[]})()}verify(s){var c=this;return(0,D.A)(function*(){const l=c.contextManager.get(s.mfaToken);if(!l)throw new po("mfa_context_not_found","MFA context not found for this MFA token. Please retry the original request to get a new MFA token.");const h="otp"in(v=s)&&v.otp?"http://auth0.com/oauth/grant-type/mfa-otp":"oobCode"in v&&v.oobCode?"http://auth0.com/oauth/grant-type/mfa-oob":"recoveryCode"in v&&v.recoveryCode?"http://auth0.com/oauth/grant-type/mfa-recovery-code":void 0;var v;if(!h)throw new po("invalid_request","Unable to determine grant type. Provide one of: otp, oobCode, or recoveryCode.");const g=l.scope,m=l.audience;try{const v=yield c.auth0Client._requestTokenForMfa({grant_type:h,mfaToken:s.mfaToken,scope:g,audience:m,otp:s.otp,oob_code:s.oobCode,binding_code:s.bindingCode,recovery_code:s.recoveryCode});return c.contextManager.remove(s.mfaToken),v}catch(v){if(v instanceof Wr)c.setMFAAuthDetails(v.mfa_token,g,m,v.mfa_requirements);else if(v instanceof po)throw new po(v.error,v.error_description);throw v}})()}}const gr=new Js;class Yd{constructor(s){var c=this;let l,h;if(this.userCache=(new Cd).enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=(0,D.A)(function*(){const I=Array.from(c.activeLockKeys);for(const T of I)yield gr.releaseLock(T);c.activeLockKeys.clear(),window.removeEventListener("pagehide",c._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),s),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),s.authorizationParams)}),typeof window<"u"&&(()=>{if(!Ys())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Ys().subtle)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),s.cache&&s.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),s.cache)h=s.cache;else{if(l=s.cacheLocation||"memory",!Si(l))throw new Error('Invalid cache location "'.concat(l,'"'));h=Si(l)()}this.httpTimeoutMs=s.httpTimeoutInSeconds?1e3*s.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===s.legacySameSiteCookie?ke:Xp,this.orgHintCookieName="auth0.".concat(this.options.clientId,".organization_hint"),this.isAuthenticatedCookieName=(()=>"auth0.".concat(this.options.clientId,".is.authenticated"))(),this.sessionCheckExpiryDays=s.sessionCheckExpiryDays||1;const m=s.useCookiesForTransactions?this.cookieStorage:Di;var v,I,T;this.scope=function(I,T){for(var k=arguments.length,M=new Array(k>2?k-2:0),R=2;R<k;R++)M[R-2]=arguments[R];if("object"!=typeof I)return{default:bi(T,I,...M)};let L={default:bi(T,...M)};return Object.keys(I).forEach(P=>{L[P]=bi(T,I[P],...M)}),L}(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new Jp(m,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||Xc,this.cacheManager=new qp(h,h.allKeys?void 0:new ve(h,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new eg(this.options.clientId):void 0,this.domainUrl=/^https?:\/\//.test(v=this.options.domain)?v:"https://".concat(v),this.tokenIssuer=(T=this.domainUrl,(I=this.options.issuer)?I.startsWith("https://")?I:"https://".concat(I,"/"):"".concat(T,"/"));const w="".concat(this.domainUrl,"/me/"),C=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:w},detailedResponse:!0})}));this.myAccountApi=new ng(C,w),this.authJsClient=new Ga({domain:this.options.domain,clientId:this.options.clientId}),this.mfa=new Za(this.authJsClient.mfa,this),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&"memory"===l&&(this.worker=this.options.workerUrl?new Worker(this.options.workerUrl):new ia)}getConfiguration(){return Object.freeze({domain:this.options.domain,clientId:this.options.clientId})}_url(s){const l=ru(this.options.auth0Client||Yc,!0),h=encodeURIComponent(btoa(JSON.stringify(l)));return"".concat(this.domainUrl).concat(s,"&auth0Client=").concat(h)}_authorizeUrl(s){return this._url("/authorize?".concat(Eo(s)))}_verifyIdToken(s,c,l){var h=this;return(0,D.A)(function*(){const g=yield h.nowProvider();return(u=>{if(!u.id_token)throw new Error("ID token is required but missing");const s=(g=>{const m=g.split("."),[v,w,C]=m;if(3!==m.length||!v||!w||!C)throw new Error("ID token could not be decoded");const I=JSON.parse(ou(w)),T={__raw:g},k={};return Object.keys(I).forEach(M=>{T[M]=I[M],Zp.includes(M)||(k[M]=I[M])}),{encoded:{header:v,payload:w,signature:C},header:JSON.parse(ou(v)),claims:T,user:k}})(u.id_token);if(!s.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(s.claims.iss!==u.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(u.iss,'", found "').concat(s.claims.iss,'"'));if(!s.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==s.header.alg)throw new Error('Signature algorithm of "'.concat(s.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!s.claims.aud||"string"!=typeof s.claims.aud&&!Array.isArray(s.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(s.claims.aud)){if(!s.claims.aud.includes(u.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(u.aud,'" but was not one of "').concat(s.claims.aud.join(", "),'"'));if(s.claims.aud.length>1){if(!s.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(s.claims.azp!==u.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(u.aud,'", found "').concat(s.claims.azp,'"'))}}else if(s.claims.aud!==u.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(u.aud,'" but found "').concat(s.claims.aud,'"'));if(u.nonce){if(!s.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(s.claims.nonce!==u.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(u.nonce,'", found "').concat(s.claims.nonce,'"'))}if(u.max_age&&!So(s.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(null==s.claims.exp||!So(s.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!So(s.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const c=u.leeway||60,l=new Date(u.now||Date.now()),h=new Date(0);if(h.setUTCSeconds(s.claims.exp+c),l>h)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(l,") is after expiration time (").concat(h,")"));if(null!=s.claims.nbf&&So(s.claims.nbf)){const g=new Date(0);if(g.setUTCSeconds(s.claims.nbf-c),l<g)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (".concat(l,") is before ").concat(g))}if(null!=s.claims.auth_time&&So(s.claims.auth_time)){const g=new Date(0);if(g.setUTCSeconds(parseInt(s.claims.auth_time)+u.max_age+c),l>g)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (".concat(l,") is after last auth at ").concat(g))}if(u.organization){const g=u.organization.trim();if(g.startsWith("org_")){const m=g;if(!s.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(m!==s.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(m,'", found "').concat(s.claims.org_id,'"'))}else{const m=g.toLowerCase();if(!s.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(m!==s.claims.org_name)throw new Error('Organization Name (org_name) claim mismatch in the ID token; expected "'.concat(m,'", found "').concat(s.claims.org_name,'"'))}}return s})({iss:h.tokenIssuer,aud:h.options.clientId,id_token:s,nonce:c,organization:l,leeway:h.options.leeway,max_age:(m=h.options.authorizationParams.max_age,"string"!=typeof m?m:parseInt(m,10)||void 0),now:g});var m})()}_processOrgHint(s){s?this.cookieStorage.save(this.orgHintCookieName,s,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(s,c,l){var h=this;return(0,D.A)(function*(){var g;const m=Xs(zr()),v=Xs(zr()),w=zr(),C=yield wi(w),I=Id(C),T=yield null===(g=h.dpop)||void 0===g?void 0:g.calculateThumbprint(),k=(R=h.options,L=h.scope,P=s,O=m,V=v,ne=I,ie=s.redirect_uri||h.options.authorizationParams.redirect_uri||l,z=c?.response_mode,he=T,Object.assign(Object.assign(Object.assign({client_id:R.clientId},R.authorizationParams),P),{scope:ra(L,P.scope,P.audience),response_type:"code",response_mode:z||"query",state:O,nonce:V,redirect_uri:ie||R.authorizationParams.redirect_uri,code_challenge:ne,code_challenge_method:"S256",dpop_jkt:he})),M=h._authorizeUrl(k);var R,L,P,O,V,ne,ie,z,he;return{nonce:v,code_verifier:w,scope:k.scope,audience:k.audience||"default",redirect_uri:k.redirect_uri,state:m,url:M}})()}loginWithPopup(s,c){var l=this;return(0,D.A)(function*(){var h;if(s=s||{},!(c=c||{}).popup&&(c.popup=(()=>{const C=window.screenX+(window.innerWidth-400)/2,I=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left=".concat(C,",top=").concat(I,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))})(),!c.popup))throw new tu;const g=yield l._prepareAuthorizeUrl(s.authorizationParams||{},{response_mode:"web_message"},window.location.origin);c.popup.location.href=g.url;const m=yield(w=Object.assign(Object.assign({},c),{timeoutInSeconds:c.timeoutInSeconds||l.options.authorizeTimeoutInSeconds||60}),new Promise((C,I)=>{let T;const k=setInterval(()=>{w.popup&&w.popup.closed&&(clearInterval(k),clearTimeout(M),window.removeEventListener("message",T,!1),I(new eu(w.popup)))},1e3),M=setTimeout(()=>{clearInterval(k),I(new Qs(w.popup)),window.removeEventListener("message",T,!1)},1e3*(w.timeoutInSeconds||60));T=function(R){if(R.data&&"authorization_response"===R.data.type){if(clearTimeout(M),clearInterval(k),window.removeEventListener("message",T,!1),!1!==w.closePopup&&w.popup.close(),R.data.response.error)return I(Ge.fromPayload(R.data.response));C(R.data.response)}},window.addEventListener("message",T)}));var w;if(g.state!==m.state)throw new Ge("state_mismatch","Invalid state");const v=(null===(h=s.authorizationParams)||void 0===h?void 0:h.organization)||l.options.authorizationParams.organization;yield l._requestToken({audience:g.audience,scope:g.scope,code_verifier:g.code_verifier,grant_type:"authorization_code",code:m.code,redirect_uri:g.redirect_uri},{nonceIn:g.nonce,organization:v})})()}getUser(){var s=this;return(0,D.A)(function*(){var c;const l=yield s._getIdTokenFromCache();return null===(c=l?.decodedToken)||void 0===c?void 0:c.user})()}getIdTokenClaims(){var s=this;return(0,D.A)(function*(){var c;const l=yield s._getIdTokenFromCache();return null===(c=l?.decodedToken)||void 0===c?void 0:c.claims})()}loginWithRedirect(){var s=arguments,c=this;return(0,D.A)(function*(){var l;const h=aa(s.length>0&&void 0!==s[0]?s[0]:{}),{openUrl:g,fragment:m,appState:v}=h,w=it(h,["openUrl","fragment","appState"]),C=(null===(l=w.authorizationParams)||void 0===l?void 0:l.organization)||c.options.authorizationParams.organization,I=yield c._prepareAuthorizeUrl(w.authorizationParams||{}),{url:T}=I,k=it(I,["url"]);c.transactionManager.create(Object.assign(Object.assign(Object.assign({},k),{appState:v,response_type:kn.Code}),C&&{organization:C}));const M=m?"".concat(T,"#").concat(m):T;g?yield g(M):window.location.assign(M)})()}handleRedirectCallback(){var s=arguments,c=this;return(0,D.A)(function*(){const l=(s.length>0&&void 0!==s[0]?s[0]:window.location.href).split("?").slice(1);if(0===l.length)throw new Error("There are no query params available for parsing.");const h=c.transactionManager.get();if(!h)throw new Ge("missing_transaction","Invalid state");c.transactionManager.remove();const g=(m=>{m.indexOf("#")>-1&&(m=m.substring(0,m.indexOf("#")));const v=new URLSearchParams(m);return{state:v.get("state"),code:v.get("code")||void 0,connect_code:v.get("connect_code")||void 0,error:v.get("error")||void 0,error_description:v.get("error_description")||void 0}})(l.join(""));return h.response_type===kn.ConnectCode?c._handleConnectAccountRedirectCallback(g,h):c._handleLoginRedirectCallback(g,h)})()}_handleLoginRedirectCallback(s,c){var l=this;return(0,D.A)(function*(){const{code:h,state:g,error:m,error_description:v}=s;if(m)throw new mi(m,v||m,g,c.appState);if(!c.code_verifier||c.state&&c.state!==g)throw new Ge("state_mismatch","Invalid state");const w=c.organization,C=c.nonce,I=c.redirect_uri;return yield l._requestToken(Object.assign({audience:c.audience,scope:c.scope,code_verifier:c.code_verifier,grant_type:"authorization_code",code:h},I?{redirect_uri:I}:{}),{nonceIn:C,organization:w}),{appState:c.appState,response_type:kn.Code}})()}_handleConnectAccountRedirectCallback(s,c){var l=this;return(0,D.A)(function*(){const{connect_code:h,state:g,error:m,error_description:v}=s;if(m)throw new Zs(m,v||m,c.connection,g,c.appState);if(!h)throw new Ge("missing_connect_code","Missing connect code");if(!(c.code_verifier&&c.state&&c.auth_session&&c.redirect_uri&&c.state===g))throw new Ge("state_mismatch","Invalid state");const w=yield l.myAccountApi.completeAccount({auth_session:c.auth_session,connect_code:h,redirect_uri:c.redirect_uri,code_verifier:c.code_verifier});return Object.assign(Object.assign({},w),{appState:c.appState,response_type:kn.ConnectCode})})()}checkSession(s){var c=this;return(0,D.A)(function*(){if(!c.cookieStorage.get(c.isAuthenticatedCookieName)){if(!c.cookieStorage.get("auth0.is.authenticated"))return;c.cookieStorage.save(c.isAuthenticatedCookieName,!0,{daysUntilExpire:c.sessionCheckExpiryDays,cookieDomain:c.options.cookieDomain}),c.cookieStorage.remove("auth0.is.authenticated")}try{yield c.getTokenSilently(s)}catch{}})()}getTokenSilently(){var s=arguments,c=this;return(0,D.A)(function*(){let l=s.length>0&&void 0!==s[0]?s[0]:{};var h,g;const m=Object.assign(Object.assign({cacheMode:"on"},l),{authorizationParams:Object.assign(Object.assign(Object.assign({},c.options.authorizationParams),l.authorizationParams),{scope:ra(c.scope,null===(h=l.authorizationParams)||void 0===h?void 0:h.scope,(null===(g=l.authorizationParams)||void 0===g?void 0:g.audience)||c.options.authorizationParams.audience)})}),v=yield((w,C)=>{let I=Ci[C];return I||(I=c._getTokenSilently(m).finally(()=>{delete Ci[C],I=null}),Ci[C]=I),I})(0,"".concat(c.options.clientId,"::").concat(m.authorizationParams.audience,"::").concat(m.authorizationParams.scope));return l.detailedResponse?v:v?.access_token})()}_getTokenSilently(s){var c=this;return(0,D.A)(function*(){const{cacheMode:l}=s,h=it(s,["cacheMode"]);if("off"!==l){const w=yield c._getEntryFromCache({scope:h.authorizationParams.scope,audience:h.authorizationParams.audience||"default",clientId:c.options.clientId,cacheMode:l});if(w)return w}if("cache-only"===l)return;const g=(m=c.options.clientId,v=h.authorizationParams.audience||"default","".concat("auth0.lock.getTokenSilently",".").concat(m,".").concat(v));var m,v;if(!(yield lu(()=>gr.acquireLock(g,5e3),10)))throw new Wn;c.activeLockKeys.add(g),1===c.activeLockKeys.size&&window.addEventListener("pagehide",c._releaseLockOnPageHide);try{if("off"!==l){const R=yield c._getEntryFromCache({scope:h.authorizationParams.scope,audience:h.authorizationParams.audience||"default",clientId:c.options.clientId});if(R)return R}const w=c.options.useRefreshTokens?yield c._getTokenUsingRefreshToken(h):yield c._getTokenFromIFrame(h),{id_token:C,token_type:I,access_token:T,oauthTokenScope:k,expires_in:M}=w;return Object.assign(Object.assign({id_token:C,token_type:I,access_token:T},k?{scope:k}:null),{expires_in:M})}finally{yield gr.releaseLock(g),c.activeLockKeys.delete(g),0===c.activeLockKeys.size&&window.removeEventListener("pagehide",c._releaseLockOnPageHide)}})()}getTokenWithPopup(){var s=arguments,c=this;return(0,D.A)(function*(){let l=s.length>0&&void 0!==s[0]?s[0]:{},h=s.length>1&&void 0!==s[1]?s[1]:{};var g,m;const v=Object.assign(Object.assign({},l),{authorizationParams:Object.assign(Object.assign(Object.assign({},c.options.authorizationParams),l.authorizationParams),{scope:ra(c.scope,null===(g=l.authorizationParams)||void 0===g?void 0:g.scope,(null===(m=l.authorizationParams)||void 0===m?void 0:m.audience)||c.options.authorizationParams.audience)})});return h=Object.assign(Object.assign({},gi),h),yield c.loginWithPopup(v,h),(yield c.cacheManager.get(new gt({scope:v.authorizationParams.scope,audience:v.authorizationParams.audience||"default",clientId:c.options.clientId}),void 0,c.options.useMrrt)).access_token})()}isAuthenticated(){var s=this;return(0,D.A)(function*(){return!!(yield s.getUser())})()}_buildLogoutUrl(s){null!==s.clientId?s.clientId=s.clientId||this.options.clientId:delete s.clientId;const c=s.logoutParams||{},{federated:l}=c,h=it(c,["federated"]),g=l?"&federated":"";return this._url("/v2/logout?".concat(Eo(Object.assign({clientId:s.clientId},h))))+g}logout(){var s=arguments,c=this;return(0,D.A)(function*(){let l=s.length>0&&void 0!==s[0]?s[0]:{};var h;const g=aa(l),{openUrl:m}=g,v=it(g,["openUrl"]);null===l.clientId?yield c.cacheManager.clear():yield c.cacheManager.clear(l.clientId||c.options.clientId),c.cookieStorage.remove(c.orgHintCookieName,{cookieDomain:c.options.cookieDomain}),c.cookieStorage.remove(c.isAuthenticatedCookieName,{cookieDomain:c.options.cookieDomain}),c.userCache.remove("@@user@@"),yield null===(h=c.dpop)||void 0===h?void 0:h.clear();const w=c._buildLogoutUrl(v);m?yield m(w):!1!==m&&window.location.assign(w)})()}_getTokenFromIFrame(s){var c=this;return(0,D.A)(function*(){const l=(h=c.options.clientId,"".concat("auth0.lock.getTokenFromIFrame",".").concat(h));var h;if(!(yield lu(()=>gr.acquireLock(l,5e3),10)))throw new Wn;try{const g=Object.assign(Object.assign({},s.authorizationParams),{prompt:"none"}),m=c.cookieStorage.get(c.orgHintCookieName);m&&!g.organization&&(g.organization=m);const{url:v,state:w,nonce:C,code_verifier:I,redirect_uri:T,scope:k,audience:M}=yield c._prepareAuthorizeUrl(g,{response_mode:"web_message"},window.location.origin);if(window.crossOriginIsolated)throw new Ge("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const R=s.timeoutInSeconds||c.options.authorizeTimeoutInSeconds;let L;try{L=new URL(c.domainUrl).origin}catch{L=c.domainUrl}const P=yield function(V,ne){let ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return new Promise((z,he)=>{const Ae=window.document.createElement("iframe");Ae.setAttribute("width","0"),Ae.setAttribute("height","0"),Ae.style.display="none";const Nt=()=>{window.document.body.contains(Ae)&&(window.document.body.removeChild(Ae),window.removeEventListener("message",Ct,!1))};let Ct;const Yt=setTimeout(()=>{he(new Wn),Nt()},1e3*ie);Ct=function(Gt){if(Gt.origin!=ne||!Gt.data||"authorization_response"!==Gt.data.type)return;const tr=Gt.source;tr&&tr.close(),Gt.data.response.error?he(Ge.fromPayload(Gt.data.response)):z(Gt.data.response),clearTimeout(Yt),window.removeEventListener("message",Ct,!1),setTimeout(Nt,2e3)},window.addEventListener("message",Ct,!1),window.document.body.appendChild(Ae),Ae.setAttribute("src",V)})}(v,L,R);if(w!==P.state)throw new Ge("state_mismatch","Invalid state");const O=yield c._requestToken(Object.assign(Object.assign({},s.authorizationParams),{code_verifier:I,code:P.code,grant_type:"authorization_code",redirect_uri:T,timeout:s.authorizationParams.timeout||c.httpTimeoutMs}),{nonceIn:C,organization:g.organization});return Object.assign(Object.assign({},O),{scope:k,oauthTokenScope:O.scope,audience:M})}catch(g){throw"login_required"===g.error&&c.logout({openUrl:!1}),g}finally{yield gr.releaseLock(l)}})()}_getTokenUsingRefreshToken(s){var c=this;return(0,D.A)(function*(){var l,h;const g=yield c.cacheManager.get(new gt({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:c.options.clientId}),void 0,c.options.useMrrt);if(!(g&&g.refresh_token||c.worker)){if(c.options.useRefreshTokensFallback)return yield c._getTokenFromIFrame(s);throw new yi(s.authorizationParams.audience||"default",s.authorizationParams.scope)}const m=s.authorizationParams.redirect_uri||c.options.authorizationParams.redirect_uri||window.location.origin,v="number"==typeof s.timeoutInSeconds?1e3*s.timeoutInSeconds:null,w=((M,R,L,P)=>{var O;if(M&&L&&P){if(R.audience!==L)return R.scope;const V=P.split(" "),ne=(null===(O=R.scope)||void 0===O?void 0:O.split(" "))||[],ie=ne.every(z=>V.includes(z));return V.length>=ne.length&&ie?P:R.scope}return R.scope})(c.options.useMrrt,s.authorizationParams,g?.audience,g?.scope);try{const M=yield c._requestToken(Object.assign(Object.assign(Object.assign({},s.authorizationParams),{grant_type:"refresh_token",refresh_token:g&&g.refresh_token,redirect_uri:m}),v&&{timeout:v}),{scopesToRequest:w});if(M.refresh_token&&g?.refresh_token&&(yield c.cacheManager.updateEntry(g.refresh_token,M.refresh_token)),c.options.useMrrt&&(C=g?.audience,I=g?.scope,!(C===s.authorizationParams.audience&&Ti(s.authorizationParams.scope,I)||Ti(w,M.scope)))){if(c.options.useRefreshTokensFallback)return yield c._getTokenFromIFrame(s);yield c.cacheManager.remove(c.options.clientId,s.authorizationParams.audience,s.authorizationParams.scope);const R=((L,P)=>{const O=L?.split(" ")||[],V=P?.split(" ")||[];return O.filter(ne=>-1==V.indexOf(ne)).join(",")})(w,M.scope);throw new nu(s.authorizationParams.audience||"default",R)}return Object.assign(Object.assign({},M),{scope:s.authorizationParams.scope,oauthTokenScope:M.scope,audience:s.authorizationParams.audience||"default"})}catch(M){if((M.message.indexOf("Missing Refresh Token")>-1||M.message&&M.message.indexOf("invalid refresh token")>-1)&&c.options.useRefreshTokensFallback)return yield c._getTokenFromIFrame(s);throw M instanceof Wr&&c.mfa.setMFAAuthDetails(M.mfa_token,null===(l=s.authorizationParams)||void 0===l?void 0:l.scope,null===(h=s.authorizationParams)||void 0===h?void 0:h.audience,M.mfa_requirements),M}var C,I})()}_saveEntryInCache(s){var c=this;return(0,D.A)(function*(){const{id_token:l,decodedToken:h}=s,g=it(s,["id_token","decodedToken"]);c.userCache.set("@@user@@",{id_token:l,decodedToken:h}),yield c.cacheManager.setIdToken(c.options.clientId,s.id_token,s.decodedToken),yield c.cacheManager.set(g)})()}_getIdTokenFromCache(){var s=this;return(0,D.A)(function*(){const c=s.options.authorizationParams.audience||"default",l=s.scope[c],h=yield s.cacheManager.getIdToken(new gt({clientId:s.options.clientId,audience:c,scope:l})),g=s.userCache.get("@@user@@");return h&&h.id_token===g?.id_token?g:(s.userCache.set("@@user@@",h),h)})()}_getEntryFromCache(s){var c=this;return(0,D.A)(function*(){let{scope:l,audience:h,clientId:g,cacheMode:m}=s;const v=yield c.cacheManager.get(new gt({scope:l,audience:h,clientId:g}),60,c.options.useMrrt,m);if(v&&v.access_token){const{token_type:w,access_token:C,oauthTokenScope:I,expires_in:T}=v,k=yield c._getIdTokenFromCache();return k&&Object.assign(Object.assign({id_token:k.id_token,token_type:w||"Bearer",access_token:C},I?{scope:I}:null),{expires_in:T})}})()}_requestToken(s,c){var l=this;return(0,D.A)(function*(){var h,g;const{nonceIn:m,organization:v,scopesToRequest:w}=c||{},C=yield function Ii(u,s){return zt.apply(this,arguments)}(Object.assign(Object.assign({baseUrl:l.domainUrl,client_id:l.options.clientId,auth0Client:l.options.auth0Client,useFormData:l.options.useFormData,timeout:l.httpTimeoutMs,useMrrt:l.options.useMrrt,dpop:l.dpop},s),{scope:w||s.scope}),l.worker),I=yield l._verifyIdToken(C.id_token,m,v);if("authorization_code"===s.grant_type){const T=yield l._getIdTokenFromCache();null!==(g=null===(h=T?.decodedToken)||void 0===h?void 0:h.claims)&&void 0!==g&&g.sub&&T.decodedToken.claims.sub!==I.claims.sub&&(yield l.cacheManager.clear(l.options.clientId),l.userCache.remove("@@user@@"))}return yield l._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},C),{decodedToken:I,scope:s.scope,audience:s.audience||"default"}),C.scope?{oauthTokenScope:C.scope}:null),{client_id:l.options.clientId})),l.cookieStorage.save(l.isAuthenticatedCookieName,!0,{daysUntilExpire:l.sessionCheckExpiryDays,cookieDomain:l.options.cookieDomain}),l._processOrgHint(v||I.claims.org_id),Object.assign(Object.assign({},C),{decodedToken:I})})()}exchangeToken(s){var c=this;return(0,D.A)(function*(){return c._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:s.subject_token,subject_token_type:s.subject_token_type,scope:ra(c.scope,s.scope,s.audience||c.options.authorizationParams.audience),audience:s.audience||c.options.authorizationParams.audience,organization:s.organization||c.options.authorizationParams.organization})})()}_assertDpop(s){if(!s)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(s){return this._assertDpop(this.dpop),this.dpop.getNonce(s)}setDpopNonce(s,c){return this._assertDpop(this.dpop),this.dpop.setNonce(s,c)}generateDpopProof(s){return this._assertDpop(this.dpop),this.dpop.generateProof(s)}createFetcher(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new tg(s,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:c=>{var l;return this.getTokenSilently({authorizationParams:{scope:null===(l=c?.scope)||void 0===l?void 0:l.join(" "),audience:c?.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(s.dpopNonceId),setDpopNonce:c=>this.setDpopNonce(c,s.dpopNonceId),generateDpopProof:c=>this.generateDpopProof(c)})}connectAccountWithRedirect(s){var c=this;return(0,D.A)(function*(){const{openUrl:l,appState:h,connection:g,scopes:m,authorization_params:v,redirectUri:w=c.options.authorizationParams.redirect_uri||window.location.origin}=s;if(!g)throw new Error("connection is required");const C=Xs(zr()),I=zr(),T=yield wi(I),k=Id(T),{connect_uri:M,connect_params:R,auth_session:L}=yield c.myAccountApi.connectAccount({connection:g,scopes:m,redirect_uri:w,state:C,code_challenge:k,code_challenge_method:"S256",authorization_params:v});c.transactionManager.create({state:C,code_verifier:I,auth_session:L,redirect_uri:w,appState:h,connection:g,response_type:kn.ConnectCode});const P=new URL(M);P.searchParams.set("ticket",R.ticket),l?yield l(P.toString()):window.location.assign(P)})()}_requestTokenForMfa(s,c){var l=this;return(0,D.A)(function*(){const{mfaToken:h}=s,g=it(s,["mfaToken"]);return l._requestToken(Object.assign(Object.assign({},g),{mfa_token:h}),c)})()}}function Yo(){return Yo=(0,D.A)(function*(u){const s=new Yd(u);return yield s.checkSession(),s}),Yo.apply(this,arguments)}class go extends Error{}go.prototype.name="InvalidTokenError";const Ce={domain:"",clientId:"",redirectUri:typeof window<"u"?window.location.origin:"",logoutUri:typeof window<"u"?window.location.origin:"",audience:"",scope:"openid profile email",connection:void 0},Un={TOKEN_STORAGE:"sessionStorage",USER_INFO_STORAGE:"sessionStorage"},$e={ACCESS_TOKEN:"auth0_access_token",USER_INFO:"auth0_user_info"};function hn(u,s="sessionStorage"){return typeof window>"u"?null:("localStorage"===s?localStorage:sessionStorage).getItem(u)}function Ue(u,s,c="sessionStorage"){typeof window>"u"||("localStorage"===c?localStorage:sessionStorage).setItem(u,s)}function Qa(u,s="sessionStorage"){typeof window>"u"||("localStorage"===s?localStorage:sessionStorage).removeItem(u)}function Xd(u){console.log("[AuthConfig] \u{1f50d} DEBUG: configureAuth0() called with config:",{domain:u.domain||"not provided",clientId:u.clientId?"[REDACTED]":"not provided",redirectUri:u.redirectUri||"not provided",logoutUri:u.logoutUri||"not provided",audience:u.audience||"not provided",scope:u.scope||"not provided",connection:u.connection||"not provided"}),Object.assign(Ce,u),console.log("[AuthConfig] \u{1f50d} DEBUG: AUTH0_CONFIG after merge:",{domain:Ce.domain,clientId:Ce.clientId?"[REDACTED]":void 0,redirectUri:Ce.redirectUri,logoutUri:Ce.logoutUri,audience:Ce.audience||"not set",scope:Ce.scope,connection:Ce.connection||"not set"})}let ss=class{eventBus;STANDARD_JWT_CLAIMS=["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at","iss","aud","exp","iat","auth_time","nonce","acr","amr","azp","at_hash","c_hash"];auth0Client=null;initializationPromise;userSubject=new X.t(this.getUserInfoFromStorage());user$=this.userSubject.asObservable();constructor(s){this.eventBus=s,console.log("[AuthService] Initializing Auth0 authentication service"),console.log("[AuthService] \u{1f50d} DEBUG: Constructor called, starting initialization"),this.initializationPromise=this.initializeAuth0()}initializeAuth0(){var s=this;return(0,D.A)(function*(){try{if(console.log("[AuthService] Starting Auth0 client initialization..."),console.log("[AuthService] \u{1f50d} DEBUG: initializeAuth0 called"),!Ce||"object"!=typeof Ce)throw console.error("[AuthService] \u{1f50d} DEBUG: AUTH0_CONFIG validation failed - invalid or undefined"),new Error("[AuthService] AUTH0_CONFIG is not defined or invalid");if(!Ce.domain||!Ce.clientId)throw console.error("[AuthService] \u{1f50d} DEBUG: AUTH0_CONFIG validation failed - missing domain or clientId",{domain:Ce.domain,clientId:Ce.clientId?"[REDACTED]":void 0}),new Error("[AuthService] AUTH0_CONFIG is missing required fields (domain, clientId)");console.log("[AuthService] \u{1f50d} DEBUG: Creating Auth0 client with config:",{domain:Ce.domain,clientId:Ce.clientId?"[REDACTED]":void 0,redirectUri:Ce.redirectUri,scope:Ce.scope,audience:Ce.audience||"not set"}),s.auth0Client=yield function Ku(u){return Yo.apply(this,arguments)}({domain:Ce.domain,clientId:Ce.clientId,authorizationParams:{redirect_uri:Ce.redirectUri,scope:Ce.scope,...Ce.audience&&{audience:Ce.audience}},cacheLocation:"memory",useRefreshTokens:!0}),console.log("[AuthService] Auth0 client initialized successfully"),console.log("[AuthService] \u{1f50d} DEBUG: Auth0 client created successfully")}catch(c){throw console.error("[AuthService] Failed to initialize Auth0 client:",c),console.error("[AuthService] \u{1f50d} DEBUG: initializeAuth0 failed with error:",c),c}})()}ensureInitialized(){var s=this;return(0,D.A)(function*(){if(yield s.initializationPromise,!s.auth0Client)throw new Error("[AuthService] Auth0 client failed to initialize")})()}login(s,c){var l=this;return(0,D.A)(function*(){console.log("[AuthService] \u{1f50d} DEBUG: login() called",{user:s,options:c}),s&&console.log(`[AuthService] Logging in: ${s}`);try{let h;if(yield l.ensureInitialized(),console.log("[AuthService] \u{1f50d} DEBUG: Auth0 client ensured initialized for login"),window.location.search){const m=window.location.search;h={returnTo:m},console.log("[AuthService] Preserving URL parameters through auth flow:",m),console.log("[AuthService] \u{1f50d} DEBUG: Captured URL search params for preservation:",m)}const g={redirect_uri:Ce.redirectUri,scope:Ce.scope,...Ce.audience&&{audience:Ce.audience},...Ce.connection&&{connection:Ce.connection}};c?.invitation&&(g.invitation=c.invitation,console.log("[AuthService] Including invitation parameter:",c.invitation)),c?.organization&&(g.organization=c.organization,console.log("[AuthService] Including organization parameter:",c.organization)),console.log("[AuthService] \u{1f50d} DEBUG: Authorization params prepared:",{redirect_uri:g.redirect_uri,scope:g.scope,audience:g.audience||"not set",connection:g.connection||"not set",invitation:g.invitation||"not set",organization:g.organization||"not set",hasAppState:!!h}),console.log("[AuthService] Starting Auth0 login redirect..."),console.log("[AuthService] \u{1f50d} DEBUG: About to call loginWithRedirect"),yield l.auth0Client.loginWithRedirect({authorizationParams:g,...h&&{appState:h}}),console.log("[AuthService] \u{1f50d} DEBUG: loginWithRedirect completed (this may not be visible due to redirect)")}catch(h){throw console.error("[AuthService] Login failed:",h),console.error("[AuthService] \u{1f50d} DEBUG: login() failed with error:",h),l.emitAuthEvent("login_failure",{error:h instanceof Error?h.message:String(h)}),h}})()}handleCallback(){var s=this;return(0,D.A)(function*(){try{console.log("[AuthService] Processing Auth0 callback..."),console.log("[AuthService] \u{1f50d} DEBUG: handleCallback() called"),console.log("[AuthService] \u{1f50d} DEBUG: Current URL:",window.location.href),console.log("[AuthService] \u{1f50d} DEBUG: URL params:",window.location.search),yield s.ensureInitialized(),console.log("[AuthService] \u{1f50d} DEBUG: Auth0 client ensured initialized for callback");const c=yield s.auth0Client.handleRedirectCallback();console.log("[AuthService] Callback processed successfully"),console.log("[AuthService] \u{1f50d} DEBUG: handleRedirectCallback result:",c),c.appState?console.log("[AuthService] Restored appState from auth flow:",JSON.stringify(c.appState)):console.log("[AuthService] No appState restored (user may not have started from invitation link)"),console.log("[AuthService] \u{1f50d} DEBUG: Fetching user info from Auth0");const l=yield s.auth0Client.getUser();if(!l)return console.warn("[AuthService] No user info returned from Auth0"),console.warn("[AuthService] \u{1f50d} DEBUG: getUser() returned null or undefined"),s.emitAuthEvent("login_failure",{error:"No user info returned from Auth0"}),{success:!1};console.log("[AuthService] \u{1f50d} DEBUG: User info retrieved successfully"),s.logUserClaims(l),s.setUserInfo(l),console.log("[AuthService] \u{1f50d} DEBUG: Fetching access token");const h=yield s.auth0Client.getTokenSilently();return console.log("[AuthService] \u{1f50d} DEBUG: Access token retrieved, length:",h?.length||0),s.setToken(h),s.decodeAndLogToken(h),console.log("[AuthService] Authentication successful"),console.log("[AuthService] \u{1f50d} DEBUG: handleCallback() completed successfully"),s.emitAuthEvent("login_success",{user:l,appState:c.appState}),{success:!0,appState:c.appState}}catch(c){return console.error("[AuthService] Error processing callback:",c),console.error("[AuthService] Error details:",JSON.stringify(c,null,2)),console.error("[AuthService] \u{1f50d} DEBUG: handleCallback() failed with error:",c),console.error("[AuthService] \u{1f50d} DEBUG: Error type:",typeof c),console.error("[AuthService] \u{1f50d} DEBUG: Error stack:",c?.stack),s.emitAuthEvent("login_failure",{error:c instanceof Error?c.message:String(c)}),{success:!1}}})()}decodeAndLogToken(s){try{console.log("=".repeat(80)),console.log("[AuthService] \u{1f513} DECODED ACCESS TOKEN:"),console.log("=".repeat(80));const c=function Ju(u,s){if("string"!=typeof u)throw new go("Invalid token specified: must be a string");s||(s={});const c=!0===s.header?0:1,l=u.split(".")[c];if("string"!=typeof l)throw new go(`Invalid token specified: missing part #${c+1}`);let h;try{h=function qu(u){let s=u.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function Gu(u){return decodeURIComponent(atob(u).replace(/(.)/g,(s,c)=>{let l=c.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}(s)}catch{return atob(s)}}(l)}catch(g){throw new go(`Invalid token specified: invalid base64 for part #${c+1} (${g.message})`)}try{return JSON.parse(h)}catch(g){throw new go(`Invalid token specified: invalid json for part #${c+1} (${g.message})`)}}(s);console.log(JSON.stringify(c,null,2)),console.log("=".repeat(80))}catch(c){console.error("[AuthService] Failed to decode token:",c)}}logUserClaims(s){console.log("=".repeat(80)),console.log("[AuthService] \u{1f50d} AUTH0 ID TOKEN - ALL CLAIMS:"),console.log("=".repeat(80)),this.logStandardClaims(s);const c=this.getCustomClaims(s);this.logClaims("\n\u{1f511} Custom Claims (Auth0):",c,s);const l=this.getAdditionalClaims(s);this.logClaims("\n\u{1f527} Additional Claims:",l,s),console.log("\n\u{1f4e6} Complete User Object (JSON):"),console.log(JSON.stringify(s,null,2)),console.log("=".repeat(80))}logStandardClaims(s){console.log("\n\u{1f4cb} Standard OIDC Claims:"),["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at"].forEach(l=>{console.log(`  \u2022 ${"sub"===l?`${l} (Subject/User ID)`:l}:`,s[l])})}logClaims(s,c,l){console.log(s),0!==c.length?c.forEach(h=>{const g=l[h],m="object"==typeof g?JSON.stringify(g,null,2):g;console.log(`  \u2022 ${h}:`,m)}):console.log("  No custom claims found")}getCustomClaims(s){return Object.keys(s).filter(c=>!this.STANDARD_JWT_CLAIMS.includes(c)&&this.isNamespacedClaim(c))}getAdditionalClaims(s){return Object.keys(s).filter(c=>!this.STANDARD_JWT_CLAIMS.includes(c)&&!this.isNamespacedClaim(c))}isNamespacedClaim(s){return s.startsWith("http://")||s.startsWith("https://")}logout(){var s=this;return(0,D.A)(function*(){console.log("[AuthService] \u{1f50d} DEBUG: logout() called"),Qa($e.ACCESS_TOKEN,Un.TOKEN_STORAGE),Qa($e.USER_INFO,Un.USER_INFO_STORAGE),console.log("[AuthService] \u{1f50d} DEBUG: Storage cleared (token and user info removed)"),s.userSubject.next(null),s.emitAuthEvent("logout",null),console.log("[AuthService] User logged out, clearing Auth0 session");try{yield s.ensureInitialized(),console.log("[AuthService] \u{1f50d} DEBUG: About to call Auth0 logout, returnTo:",Ce.logoutUri),yield s.auth0Client.logout({logoutParams:{returnTo:Ce.logoutUri}}),console.log("[AuthService] \u{1f50d} DEBUG: Auth0 logout completed (this may not be visible due to redirect)")}catch(c){console.error("[AuthService] Error during Auth0 logout:",c),console.error("[AuthService] \u{1f50d} DEBUG: logout() failed with error:",c)}})()}getToken(){var s=this;return(0,D.A)(function*(){console.log("[AuthService] \u{1f50d} DEBUG: getToken() called");const c=hn($e.ACCESS_TOKEN,Un.TOKEN_STORAGE);if(c)return console.log("[AuthService] \u{1f50d} DEBUG: Token found in storage, length:",c.length),c;console.log("[AuthService] \u{1f50d} DEBUG: Token not in storage, fetching from Auth0");try{yield s.ensureInitialized();const l=yield s.auth0Client.getTokenSilently();return console.log("[AuthService] \u{1f50d} DEBUG: Token retrieved from Auth0, length:",l?.length||0),s.setToken(l),l}catch(l){return console.error("[AuthService] Error getting token from Auth0:",l),console.error("[AuthService] \u{1f50d} DEBUG: getToken() failed:",l),null}})()}getTokenSync(){return hn($e.ACCESS_TOKEN,Un.TOKEN_STORAGE)}setToken(s){console.log("[AuthService] \u{1f50d} DEBUG: setToken() called, storing token in storage"),Ue($e.ACCESS_TOKEN,s,Un.TOKEN_STORAGE),this.emitAuthEvent("token_updated",{token:s}),console.log("[AuthService] \u{1f50d} DEBUG: Token stored and token_updated event emitted")}isAuthenticated(){var s=this;return(0,D.A)(function*(){console.log("[AuthService] \u{1f50d} DEBUG: isAuthenticated() called");try{yield s.ensureInitialized();const c=yield s.auth0Client.isAuthenticated();return console.log("[AuthService] \u{1f50d} DEBUG: isAuthenticated() result from Auth0:",c),c}catch(c){console.error("[AuthService] Error checking authentication status:",c);const l=!!hn($e.ACCESS_TOKEN,Un.TOKEN_STORAGE);return console.error("[AuthService] \u{1f50d} DEBUG: isAuthenticated() failed, falling back to storage check:",l),l}})()}isAuthenticatedSync(){return!!hn($e.ACCESS_TOKEN,Un.TOKEN_STORAGE)}getUser(){return this.userSubject.value}getUserData(){const s=this.getUser();if(!s)return null;const c=this.extractClaimValue(s,"role","user"),l=this.extractClaimValue(s,["org","organization"],"default");return{id:s.sub,name:s.name||s.email||"User",email:s.email||"",role:c,org:l}}extractClaimValue(s,c,l){const h=Array.isArray(c)?c:[c];for(const m of h){const v=s[m];if(v)return v}const g=this.getCustomClaims(s);for(const m of h){const v=g.find(w=>w.toLowerCase().includes(m.toLowerCase()));if(v&&s[v]){const w=s[v];return Array.isArray(w)?w[0]:w}}return l}getUserInfoFromStorage(){const s=hn($e.USER_INFO,Un.USER_INFO_STORAGE);return s?JSON.parse(s):null}setUserInfo(s){console.log("[AuthService] \u{1f50d} DEBUG: setUserInfo() called"),Ue($e.USER_INFO,JSON.stringify(s),Un.USER_INFO_STORAGE),this.userSubject.next(s),console.log("[AuthService] \u{1f4be} User info stored in sessionStorage:"),console.log("  Standard claims:",{sub:s.sub,name:s.name,email:s.email,email_verified:s.email_verified});const c=this.getCustomClaims(s);c.length>0&&(console.log("  Custom claims stored:"),c.forEach(l=>{console.log(`    \u2022 ${l}:`,s[l])})),console.log("[AuthService] \u{1f50d} DEBUG: User info stored in storage and userSubject updated"),this.emitAuthEvent("user_info_updated",s)}emitAuthEvent(s,c){const l={type:`auth:${s}`,payload:c,timestamp:(new Date).toISOString()};console.log("[AuthService] \u{1f50d} DEBUG: emitAuthEvent() called, event type:",l.type),this.eventBus.sendEvent(JSON.stringify(l)),console.log("[AuthService] Auth event emitted:",l.type)}};ss=q([(0,de._qm)(),F("design:paramtypes",[Ze])],ss);let Ya=null;function Zu(){return Ya||(Ya=new ss(Be())),Ya}},467:(ot,ge,W)=>{function D(le,X,K,$,de,Ee,ue){try{var q=le[Ee](ue),F=q.value}catch(Y){return void K(Y)}q.done?X(F):Promise.resolve(F).then($,de)}function Z(le){return function(){var X=this,K=arguments;return new Promise(function($,de){var Ee=le.apply(X,K);function ue(F){D(Ee,$,de,ue,q,"next",F)}function q(F){D(Ee,$,de,ue,q,"throw",F)}ue(void 0)})}}W.d(ge,{A:()=>Z})}}]);