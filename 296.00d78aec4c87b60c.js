(self.webpackChunkshell=self.webpackChunkshell||[]).push([[296,915],{1913:(ne,P,y)=>{Object.defineProperty(P,"__esModule",{value:!0}),y(1635).__exportStar(y(5766),P)},7915:(ne,P,y)=>{y.r(P),y.d(P,{API_CONFIG:()=>p,AUTH0_CONFIG:()=>A,AuthService:()=>$,CoreServicesComponent:()=>Q,CoreServicesService:()=>N,DummyDataService:()=>Z,EventBusService:()=>J,MfeLoaderService:()=>re,ProductCategory:()=>H,RoleService:()=>B,STORAGE_CONFIG:()=>w,STORAGE_KEYS:()=>C,SalesStatus:()=>L,SseControlService:()=>h,SseFromEventService:()=>u,UserProfileService:()=>T,UserRole:()=>d,authInterceptor:()=>I,getStorage:()=>O,getStorageItem:()=>M,hasRequiredRole:()=>q,removeStorageItem:()=>k,setStorageItem:()=>D});var m=y(4304);let N=(()=>{class l{constructor(){}static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var E=y(467),_=y(5883),F=y(2943);const A={domain:"dev-26sow24tone5na8a.us.auth0.com",clientId:"EdkPy5co65jESIAT8T9SBy5X4cmeolhl",redirectUri:"https://opensourcekd.github.io/i17e/auth-callback",logoutUri:"https://opensourcekd.github.io/i17e",scope:"openid profile email",audience:"https://something"},w={TOKEN_STORAGE:"sessionStorage",USER_INFO_STORAGE:"sessionStorage",AUTH_STATE_STORAGE:"sessionStorage",PREFERENCES_STORAGE:"localStorage"},C={ACCESS_TOKEN:"auth0_access_token",ID_TOKEN:"auth0_id_token",REFRESH_TOKEN:"auth0_refresh_token",USER_INFO:"auth0_user_info",OAUTH_STATE:"oauth_state",CODE_VERIFIER:"code_verifier",CURRENT_USER:"current_user",DEV_MIMIC_USER:"dev_mimic_user"};function O(l){return"sessionStorage"===l?sessionStorage:localStorage}function D(l,U,e="sessionStorage"){O(e).setItem(l,U)}function M(l,U="sessionStorage"){return O(U).getItem(l)}function k(l,U="sessionStorage"){O(U).removeItem(l)}var V=y(8072),K=y(7555),Y=y.n(K);let J=(()=>{class l{constructor(){this.emitter=Y()(),console.log("[EventBusService] Service initialized");const e=new Event("EventBusServiceCreated");this.onePlusNEvents=new _.ReplaySubject(100),this.onePlusNEvents.next(e.type),this.emitter.on("*",n=>{console.log("[EventBusService] Event received and forwarded to ReplaySubject:",n),this.onePlusNEvents.next(n)}),console.log("[EventBusService] Event listener registered for all events")}sendEvent(e){console.log("[EventBusService] sendEvent() called with:",e),this.emitter.emit(e),console.log("[EventBusService] Event emitted successfully")}static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),$=(()=>{class l{constructor(e,n){this.http=e,this.eventBus=n,this.id="auth of pokemon",this.STANDARD_JWT_CLAIMS=["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at","iss","aud","exp","iat","auth_time","nonce","acr","amr","azp","at_hash","c_hash"],this.auth0Client=null,this.userSubject=new _.BehaviorSubject(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable(),console.log("[AuthService] Initializing Auth0 authentication service"),this.initializationPromise=this.initializeAuth0()}initializeAuth0(){var e=this;return(0,E.A)(function*(){try{console.log("[AuthService] Starting Auth0 client initialization..."),e.auth0Client=yield(0,F.createAuth0Client)({domain:A.domain,clientId:A.clientId,authorizationParams:{redirect_uri:A.redirectUri,scope:A.scope,...A.audience&&{audience:A.audience}},cacheLocation:"memory",useRefreshTokens:!0}),console.log("[AuthService] Auth0 client initialized successfully")}catch(n){throw console.error("[AuthService] Failed to initialize Auth0 client:",n),n}})()}ensureInitialized(){var e=this;return(0,E.A)(function*(){if(yield e.initializationPromise,!e.auth0Client)throw new Error("[AuthService] Auth0 client failed to initialize")})()}login(e,n){var t=this;return(0,E.A)(function*(){e&&console.log(`[AuthService] Logging in: ${e}`);try{let i;if(yield t.ensureInitialized(),!window.location.pathname.includes("auth-callback")&&window.location.search){const a=window.location.search;i={returnTo:a},console.log("[AuthService] Preserving URL parameters through auth flow:",a)}const s={redirect_uri:A.redirectUri,scope:A.scope,...A.audience&&{audience:A.audience},...A.connection&&{connection:A.connection}};n?.invitation&&(s.invitation=n.invitation,console.log("[AuthService] Including invitation parameter:",n.invitation)),n?.organization&&(s.organization=n.organization,console.log("[AuthService] Including organization parameter:",n.organization)),console.log("[AuthService] Starting Auth0 login redirect..."),yield t.auth0Client.loginWithRedirect({authorizationParams:s,...i&&{appState:i}})}catch(r){throw console.error("[AuthService] Login failed:",r),r}})()}handleCallback(){var e=this;return(0,E.A)(function*(){try{console.log("[AuthService] Processing Auth0 callback..."),yield e.ensureInitialized();const n=yield e.auth0Client.handleRedirectCallback();console.log("[AuthService] Callback processed successfully"),n.appState?console.log("[AuthService] Restored appState from auth flow:",JSON.stringify(n.appState)):console.log("[AuthService] No appState restored (user may not have started from invitation link)");const t=yield e.auth0Client.getUser();if(!t)return console.warn("[AuthService] No user info returned from Auth0"),{success:!1};e.logUserClaims(t),e.setUserInfo(t);const r=yield e.auth0Client.getTokenSilently();return e.setToken(r),console.log("[AuthService] Authentication successful"),{success:!0,appState:n.appState}}catch(n){return console.error("[AuthService] Error processing callback:",n),console.error("[AuthService] Error details:",JSON.stringify(n,null,2)),{success:!1}}})()}logUserClaims(e){console.log("=".repeat(80)),console.log("[AuthService] \u{1f50d} AUTH0 ID TOKEN - ALL CLAIMS:"),console.log("=".repeat(80)),this.logStandardClaims(e);const n=this.getCustomClaims(e);this.logClaims("\n\u{1f511} Custom Claims (Auth0):",n,e);const t=this.getAdditionalClaims(e);this.logClaims("\n\u{1f527} Additional Claims:",t,e),console.log("\n\u{1f4e6} Complete User Object (JSON):"),console.log(JSON.stringify(e,null,2)),console.log("=".repeat(80))}logStandardClaims(e){console.log("\n\u{1f4cb} Standard OIDC Claims:"),["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at"].forEach(t=>{console.log(`  \u2022 ${"sub"===t?`${t} (Subject/User ID)`:t}:`,e[t])})}logClaims(e,n,t){console.log(e),0!==n.length?n.forEach(r=>{const o=t[r],i="object"==typeof o?JSON.stringify(o,null,2):o;console.log(`  \u2022 ${r}:`,i)}):console.log("  No custom claims found")}getCustomClaims(e){return Object.keys(e).filter(n=>!this.STANDARD_JWT_CLAIMS.includes(n)&&this.isNamespacedClaim(n))}getAdditionalClaims(e){return Object.keys(e).filter(n=>!this.STANDARD_JWT_CLAIMS.includes(n)&&!this.isNamespacedClaim(n))}isNamespacedClaim(e){return e.startsWith("http://")||e.startsWith("https://")}logout(){var e=this;return(0,E.A)(function*(){k(C.ACCESS_TOKEN,w.TOKEN_STORAGE),k(C.USER_INFO,w.USER_INFO_STORAGE),e.userSubject.next(null),e.emitAuthEvent("logout",null),console.log("[AuthService] User logged out, clearing Auth0 session");try{yield e.ensureInitialized(),yield e.auth0Client.logout({logoutParams:{returnTo:A.logoutUri}})}catch(n){console.error("[AuthService] Error during Auth0 logout:",n)}})()}getToken(){var e=this;return(0,E.A)(function*(){const n=M(C.ACCESS_TOKEN,w.TOKEN_STORAGE);if(n)return n;try{yield e.ensureInitialized();const t=yield e.auth0Client.getTokenSilently();return e.setToken(t),t}catch(t){return console.error("[AuthService] Error getting token from Auth0:",t),null}})()}getTokenSync(){return M(C.ACCESS_TOKEN,w.TOKEN_STORAGE)}setToken(e){D(C.ACCESS_TOKEN,e,w.TOKEN_STORAGE),this.emitAuthEvent("token_updated",{token:e})}isAuthenticated(){var e=this;return(0,E.A)(function*(){try{return yield e.ensureInitialized(),yield e.auth0Client.isAuthenticated()}catch(n){return console.error("[AuthService] Error checking authentication status:",n),!!M(C.ACCESS_TOKEN,w.TOKEN_STORAGE)}})()}isAuthenticatedSync(){return!!M(C.ACCESS_TOKEN,w.TOKEN_STORAGE)}getUser(){return this.userSubject.value}getUserData(){const e=this.getUser();if(!e)return null;const n=this.extractClaimValue(e,"role","user"),t=this.extractClaimValue(e,["org","organization"],"default");return{id:e.sub,name:e.name||e.email||"User",email:e.email||"",role:n,org:t}}extractClaimValue(e,n,t){const r=Array.isArray(n)?n:[n];for(const i of r){const s=e[i];if(s)return s}const o=this.getCustomClaims(e);for(const i of r){const s=o.find(a=>a.toLowerCase().includes(i.toLowerCase()));if(s&&e[s]){const a=e[s];return Array.isArray(a)?a[0]:a}}return t}getUserInfoFromStorage(){const e=M(C.USER_INFO,w.USER_INFO_STORAGE);return e?JSON.parse(e):null}setUserInfo(e){D(C.USER_INFO,JSON.stringify(e),w.USER_INFO_STORAGE),this.userSubject.next(e),console.log("[AuthService] \u{1f4be} User info stored in sessionStorage:"),console.log("  Standard claims:",{sub:e.sub,name:e.name,email:e.email,email_verified:e.email_verified});const n=this.getCustomClaims(e);n.length>0&&(console.log("  Custom claims stored:"),n.forEach(t=>{console.log(`    \u2022 ${t}:`,e[t])})),this.emitAuthEvent("user_info_updated",e)}emitAuthEvent(e,n){const t={type:`auth:${e}`,payload:n,timestamp:(new Date).toISOString()};this.eventBus.sendEvent(JSON.stringify(t)),console.log("[AuthService] Auth event emitted:",t.type)}static{this.\u0275fac=function(n){return new(n||l)(m.\u0275\u0275inject(V.HttpClient),m.\u0275\u0275inject(J))}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),Q=(()=>{class l{static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275cmp=m.\u0275\u0275defineComponent({type:l,selectors:[["org-core-services"]],standalone:!0,features:[m.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(n,t){1&n&&(m.\u0275\u0275elementStart(0,"p"),m.\u0275\u0275text(1," core-services works! "),m.\u0275\u0275elementEnd())}})}}return l})();var d=function(l){return l.SUPER_ADMIN="super-admin",l.ORG_ADMIN="org-admin",l.TEAM_LEAD="team-lead",l.SALES_EXECUTIVE="sales-executive",l}(d||{});function q(l,U){const e={[d.SUPER_ADMIN]:4,[d.ORG_ADMIN]:3,[d.TEAM_LEAD]:2,[d.SALES_EXECUTIVE]:1};return e[l]>=e[U]}let B=(()=>{class l{constructor(){this.currentUserSubject=new _.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable(),console.log("[RoleService] Service initialized"),this.loadInitialUser()}setUserFromProfile(e){console.log("[RoleService] Setting user from API profile:",e);const n=this.mapApiRoleToUserRole(e.roles),t={id:e.userId,name:e.name||e.email||"User",email:e.email||"",role:n};console.log("[RoleService] Mapped user with role from API:",t),this.setCurrentUser(t)}mapApiRoleToUserRole(e){return e&&0!==e.length?this.mapStringToUserRole(e[0].name):(console.warn("[RoleService] No roles found in API response, defaulting to SALES_EXECUTIVE"),d.SALES_EXECUTIVE)}setUserFromAuth(e){console.log("[RoleService] Setting user from Auth0 auth:",e);const n=this.mapUserInfoToUser(e);console.log("[RoleService] Mapped user with role:",n),this.setCurrentUser(n)}mapUserInfoToUser(e){const n=this.extractRoleFromToken(e);return{id:e.sub,name:e.name||e.email||"User",email:e.email||"",role:n}}extractRoleFromToken(e){if(e.role)return this.mapStringToUserRole(e.role);if(e.org_and_roles){const r=this.extractRoleFromOrgAndRoles(e.org_and_roles);if(r)return console.log("[RoleService] Extracted role from org_and_roles:",r),r}const t=Object.keys(e).filter(r=>r.startsWith("http://")||r.startsWith("https://")).find(r=>r.toLowerCase().includes("role"));if(t&&e[t]){const r=e[t],o=Array.isArray(r)?r[0]:r;return this.mapStringToUserRole(o)}return console.warn("[RoleService] No role found in token, falling back to email pattern"),this.determineRoleFromEmail(e.email||"")}extractRoleFromOrgAndRoles(e){if(!e||"object"!=typeof e)return null;const n=[];for(const r in e){const o=e[r];Array.isArray(o)&&o.forEach(i=>{const s=this.mapStringToUserRole(i);n.push(s)})}if(0===n.length)return null;const t=[d.SUPER_ADMIN,d.ORG_ADMIN,d.TEAM_LEAD,d.SALES_EXECUTIVE];for(const r of t)if(n.includes(r))return console.log("[RoleService] Selected highest privilege role:",r),r;return n[0]}mapStringToUserRole(e){const n=e.toLowerCase().replace(/[-_\s]/g,"");return{superadmin:d.SUPER_ADMIN,super:d.SUPER_ADMIN,admin:d.SUPER_ADMIN,orgadmin:d.ORG_ADMIN,organizationadmin:d.ORG_ADMIN,manager:d.ORG_ADMIN,teamlead:d.TEAM_LEAD,lead:d.TEAM_LEAD,salesexecutive:d.SALES_EXECUTIVE,sales:d.SALES_EXECUTIVE,executive:d.SALES_EXECUTIVE}[n]||d.SALES_EXECUTIVE}determineRoleFromEmail(e){const n=e.toLowerCase();return[{patterns:["admin","super"],role:d.SUPER_ADMIN},{patterns:["manager","org"],role:d.ORG_ADMIN},{patterns:["lead","team"],role:d.TEAM_LEAD}].find(({patterns:o})=>o.some(i=>n.includes(i)))?.role??d.SALES_EXECUTIVE}loadInitialUser(){const e=this.getDevMimicUser();if(e)return console.log("[RoleService] Using dev mimic user:",e),void this.currentUserSubject.next(e)}getDevMimicUser(){try{const e=localStorage.getItem("dev_mimic_user");if(e){const n=JSON.parse(e);if(n.id&&n.name&&n.role)return n}}catch(e){console.error("[RoleService] Error parsing dev mimic user:",e)}return null}setDevMimicUser(e){e?(localStorage.setItem("dev_mimic_user",JSON.stringify(e)),this.currentUserSubject.next(e),console.log("[RoleService] Dev mimic user set:",e)):(localStorage.removeItem("dev_mimic_user"),this.loadDummyUser(),console.log("[RoleService] Dev mimic user cleared"))}loadDummyUser(){console.log("[RoleService] Loading user from session storage");const e=sessionStorage.getItem("current_user");if(e){const n=JSON.parse(e);console.log("[RoleService] User loaded from session:",n),this.currentUserSubject.next(n)}else{const n={id:"user-1",name:"John Admin",email:"john.admin@company.com",role:d.ORG_ADMIN};console.log("[RoleService] No saved user found, using default:",n),this.setCurrentUser(n)}}setCurrentUser(e){console.log("[RoleService] Setting current user:",e),this.currentUserSubject.next(e),e?(sessionStorage.setItem("current_user",JSON.stringify(e)),console.log("[RoleService] User saved to session storage")):(sessionStorage.removeItem("current_user"),console.log("[RoleService] User removed from session storage"))}getCurrentUser(){const e=this.currentUserSubject.value;return console.log("[RoleService] getCurrentUser() called, returning:",e),e}getCurrentUserRole(){const e=this.currentUserSubject.value?.role||null;return console.log("[RoleService] getCurrentUserRole() called, returning:",e),e}hasRole(e){const n=this.getCurrentUserRole();if(!n)return console.log("[RoleService] hasRole() - No current role, access denied"),!1;const t=q(n,e);return console.log(`[RoleService] hasRole() - Checking if ${n} has ${e}:`,t),t}canViewOthersData(){const e=this.getCurrentUserRole(),n=e===d.SUPER_ADMIN||e===d.ORG_ADMIN||e===d.TEAM_LEAD;return console.log(`[RoleService] canViewOthersData() - Role: ${e}, Can view:`,n),n}getViewableUsers(){const e=this.getCurrentUser();if(!e)return[];const n=this.getAllUsers();return this.isTeamLeadOrHigher()?n.filter(t=>t.role===d.SALES_EXECUTIVE||t.id===e.id):n.filter(t=>t.id===e.id)}hasAnyRole(e){const n=this.getCurrentUser();return!!n&&e.includes(n.role)}isAdmin(){return this.hasAnyRole([d.SUPER_ADMIN,d.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([d.SUPER_ADMIN,d.ORG_ADMIN,d.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:d.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:d.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:d.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:d.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:d.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:d.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var L=function(l){return l.COMPLETED="completed",l.PENDING="pending",l.CANCELLED="cancelled",l}(L||{}),H=function(l){return l.ELECTRONICS="Electronics",l.SOFTWARE="Software",l.SERVICES="Services",l.HARDWARE="Hardware",l}(H||{});let Z=(()=>{class l{constructor(){this.salesExecutivesSubject=new _.BehaviorSubject(this.generateSalesExecutives()),this.salesExecutives$=this.salesExecutivesSubject.asObservable(),this.salesRecordsSubject=new _.BehaviorSubject(this.generateSalesRecords()),this.salesRecords$=this.salesRecordsSubject.asObservable(),this.incentiveRulesSubject=new _.BehaviorSubject(this.generateIncentiveRules()),this.incentiveRules$=this.incentiveRulesSubject.asObservable(),this.incentivesEarnedSubject=new _.BehaviorSubject(this.generateIncentivesEarned()),this.incentivesEarned$=this.incentivesEarnedSubject.asObservable(),console.log("[DummyDataService] Service initialized"),console.log("[DummyDataService] Generated data:",{salesExecutives:this.salesExecutivesSubject.value.length,salesRecords:this.salesRecordsSubject.value.length,incentiveRules:this.incentiveRulesSubject.value.length,incentivesEarned:this.incentivesEarnedSubject.value.length})}generateSalesExecutives(){return console.log("[DummyDataService] Generating sales executives"),[{id:"user-1",name:"John Admin",email:"john.admin@company.com",teamId:"team-1"},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",teamId:"team-1"},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",teamId:"team-1"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",teamId:"team-1"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",teamId:"team-1"}]}generateSalesRecords(){console.log("[DummyDataService] Generating sales records");const e=[],n=this.generateSalesExecutives(),t=["Product A","Product B","Product C","Product D"],r=[L.COMPLETED,L.PENDING,L.CANCELLED];for(let o=0;o<50;o++){const i=n[o%n.length],s=Math.floor(o/10),a=new Date;a.setMonth(a.getMonth()-s),e.push({id:`sale-${o+1}`,salesExecutiveId:i.id,salesExecutiveName:i.name,date:a,productName:t[o%t.length],productCategory:H.SOFTWARE,amount:Math.floor(5e4*Math.random())+1e4,commission:Math.floor(5e3*Math.random()),quantity:Math.floor(10*Math.random())+1,status:r[o%r.length],clientName:`Client ${o+1}`,region:["North","South","East","West"][o%4]})}return e}generateIncentiveRules(){return console.log("[DummyDataService] Generating incentive rules"),[{id:"rule-1",name:"Basic Sales Incentive",description:"5% incentive on all sales",type:"percentage",value:5,isActive:!0,createdBy:"admin",createdAt:new Date("2024-01-01")},{id:"rule-2",name:"High Value Sales Bonus",description:"10% incentive on sales above $50,000",type:"percentage",value:10,minSalesAmount:5e4,isActive:!0,createdBy:"admin",createdAt:new Date("2024-02-01")},{id:"rule-3",name:"Product A Special",description:"Fixed $500 bonus for Product A sales",type:"fixed",value:500,productCategory:"Product A",isActive:!0,createdBy:"team-lead-1",createdAt:new Date("2024-03-01")},{id:"rule-4",name:"Tiered Volume Incentive",description:"15% incentive on sales above $100,000",type:"tiered",value:15,minSalesAmount:1e5,isActive:!1,createdBy:"admin",createdAt:new Date("2024-04-01")}]}generateIncentivesEarned(){console.log("[DummyDataService] Generating incentives earned");const e=[],n=this.generateSalesExecutives(),t=this.generateIncentiveRules(),r=["pending","approved","paid"];for(let o=0;o<30;o++){const i=n[o%n.length],s=t[o%t.length],a=Math.floor(o/10),c=new Date;c.setMonth(c.getMonth()-a),e.push({id:`incentive-${o+1}`,salesExecutiveId:i.id,salesExecutiveName:i.name,ruleId:s.id,ruleName:s.name,salesRecordId:`sale-${o+1}`,amount:Math.floor(5e3*Math.random())+500,earnedDate:c,status:r[o%3]})}return e}getSalesRecordsForExecutive(e){console.log("[DummyDataService] getSalesRecordsForExecutive() called for:",e);const n=this.salesRecordsSubject.value.filter(t=>t.salesExecutiveId===e);return console.log("[DummyDataService] Found",n.length,"sales records for executive:",e),n}getIncentivesForExecutive(e){console.log("[DummyDataService] getIncentivesForExecutive() called for:",e);const n=this.incentivesEarnedSubject.value.filter(t=>t.salesExecutiveId===e);return console.log("[DummyDataService] Found",n.length,"incentives for executive:",e),n}getReportDataForExecutive(e){console.log("[DummyDataService] getReportDataForExecutive() called for:",e);const n=this.salesExecutivesSubject.value.find(c=>c.id===e),t=this.getSalesRecordsForExecutive(e),r=this.getIncentivesForExecutive(e),o=t.filter(c=>"completed"===c.status).reduce((c,g)=>c+g.amount,0),i=r.filter(c=>"pending"!==c.status).reduce((c,g)=>c+g.amount,0),s=[];for(let c=5;c>=0;c--){const g=new Date;g.setMonth(g.getMonth()-c);const j=g.toISOString().substring(0,7),f=t.filter(v=>v.date.toISOString().substring(0,7)===j&&"completed"===v.status).reduce((v,X)=>v+X.amount,0),R=r.filter(v=>v.earnedDate.toISOString().substring(0,7)===j&&"pending"!==v.status).reduce((v,X)=>v+X.amount,0);s.push({month:j,sales:f,incentives:R})}const a={salesExecutiveId:e,salesExecutiveName:n?.name||"Unknown",totalSales:o,totalIncentives:i,period:"Last 6 months",breakdown:s};return console.log("[DummyDataService] Report data generated:",a),a}getSalesExecutives(){const e=this.salesExecutivesSubject.value;return console.log("[DummyDataService] getSalesExecutives() called, returning",e.length,"executives"),e}getIncentiveRules(){const e=this.incentiveRulesSubject.value;return console.log("[DummyDataService] getIncentiveRules() called, returning",e.length,"rules"),e}addIncentiveRule(e){console.log("[DummyDataService] addIncentiveRule() called with:",e),this.incentiveRulesSubject.next([...this.incentiveRulesSubject.value,e]),console.log("[DummyDataService] Rule added successfully, total rules:",this.incentiveRulesSubject.value.length)}updateIncentiveRule(e,n){console.log("[DummyDataService] updateIncentiveRule() called for rule:",e,"with updates:",n);const r=this.incentiveRulesSubject.value.map(o=>o.id===e?{...o,...n}:o);this.incentiveRulesSubject.next(r),console.log("[DummyDataService] Rule updated successfully")}deleteIncentiveRule(e){console.log("[DummyDataService] deleteIncentiveRule() called for rule:",e);const t=this.incentiveRulesSubject.value.filter(r=>r.id!==e);this.incentiveRulesSubject.next(t),console.log("[DummyDataService] Rule deleted successfully, remaining rules:",this.incentiveRulesSubject.value.length)}static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var ee=y(1913);let re=(()=>{class l{constructor(){this.mfeConfigs=[],this.loadedMfesSubject=new _.BehaviorSubject(new Set),this.loadedMfes$=this.loadedMfesSubject.asObservable(),this.loadingMfesSubject=new _.BehaviorSubject(new Set),this.loadingMfes$=this.loadingMfesSubject.asObservable(),console.log("[MfeLoaderService] Service initialized")}setConfigs(e){console.log("[MfeLoaderService] setConfigs() called with",e.length,"configurations"),this.mfeConfigs=e.sort((n,t)=>t.priority-n.priority),console.log("[MfeLoaderService] Configurations sorted by priority:",this.mfeConfigs.map(n=>({name:n.name,priority:n.priority})))}getConfigs(){return console.log("[MfeLoaderService] getConfigs() called, returning",this.mfeConfigs.length,"configurations"),this.mfeConfigs}getConfigsForRole(e){console.log("[MfeLoaderService] getConfigsForRole() called for role:",e);const n=this.mfeConfigs.filter(t=>t.allowedRoles.includes(e));return console.log("[MfeLoaderService] Found",n.length,"configurations for role:",e,n.map(t=>t.name)),n}getConfigByName(e){console.log("[MfeLoaderService] getConfigByName() called for:",e);const n=this.mfeConfigs.find(t=>t.name===e);return n?console.log("[MfeLoaderService] Found configuration for:",e):console.warn("[MfeLoaderService] Configuration not found for:",e),n}preloadPriorityMfes(e){var n=this;return(0,E.A)(function*(){console.log("[MfeLoaderService] preloadPriorityMfes() called for role:",e);const r=n.getConfigsForRole(e).filter(i=>i.priority>=5);console.log("[MfeLoaderService] Preloading",r.length,"priority MFEs:",r.map(i=>({name:i.name,priority:i.priority})));const o=r.map(i=>n.loadMfe(i));yield Promise.all(o),console.log("[MfeLoaderService] Preloading complete")})()}loadMfe(e){var n=this;return(0,E.A)(function*(){const t=n.loadingMfesSubject.value,r=n.loadedMfesSubject.value;if(r.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} already loaded`);else if(t.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} is already loading`);else try{const o=new Set(t);o.add(e.name),n.loadingMfesSubject.next(o),console.log(`[MfeLoaderService] Loading MFE ${e.name} (priority: ${e.priority})`),console.log("[MfeLoaderService] MFE config:",{name:e.name,url:e.url,exposedModule:e.exposedModule,remoteName:e.remoteName});const i=yield(0,ee.loadRemoteModule)({type:"module",remoteEntry:e.url,exposedModule:e.exposedModule}),s=new Set(r);s.add(e.name),n.loadedMfesSubject.next(s);const a=new Set(n.loadingMfesSubject.value);return a.delete(e.name),n.loadingMfesSubject.next(a),console.log(`[MfeLoaderService] Successfully loaded MFE ${e.name}`),console.log("[MfeLoaderService] Currently loaded MFEs:",Array.from(n.loadedMfesSubject.value)),i}catch(o){console.error(`[MfeLoaderService] Error loading MFE ${e.name}:`,o),console.error("[MfeLoaderService] Failed config:",{name:e.name,url:e.url,exposedModule:e.exposedModule});const i=new Set(n.loadingMfesSubject.value);throw i.delete(e.name),n.loadingMfesSubject.next(i),o}})()}isMfeLoaded(e){const n=this.loadedMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoaded(${e}):`,n),n}isMfeLoading(e){const n=this.loadingMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoading(${e}):`,n),n}static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var G=y(6883);let u=(()=>{class l{constructor(e){this.zone=e}listen(){const e=new EventSource("https://stream.wikimedia.org/v2/stream/recentchange");return(0,_.fromEvent)(e,"message").pipe((0,G.map)(n=>{let t;return this.zone.run(()=>t=n.data),t}))}static{this.\u0275fac=function(n){return new(n||l)(m.\u0275\u0275inject(m.NgZone))}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),h=(()=>{class l{constructor(e){this.zone=e}start(e){this.eventSource=new EventSource(e);const n=this.eventSource;return new _.Observable(t=>{const r=(0,_.fromEvent)(n,"message").subscribe(o=>{this.zone.run(()=>t.next(o.data))});return n.onerror=o=>{this.zone.run(()=>t.error(o))},()=>{r.unsubscribe(),n.close()}})}stop(){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0)}static{this.\u0275fac=function(n){return new(n||l)(m.\u0275\u0275inject(m.NgZone))}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const p={baseUrl:"https://tmzuktmjy7.execute-api.us-east-1.amazonaws.com"};let T=(()=>{class l{constructor(e){this.http=e,this.profileSubject=new _.BehaviorSubject(null),this.profile$=this.profileSubject.asObservable(),console.log("[UserProfileService] Service initialized")}fetchUserProfile(){return console.log("[UserProfileService] Fetching user profile from API"),this.http.get(`${p.baseUrl}/auth/me`).pipe((0,G.map)(e=>e.success&&e.data?(console.log("[UserProfileService] Profile loaded successfully"),this.profileSubject.next(e.data),e.data):null),(0,G.catchError)(e=>(console.error("[UserProfileService] Error fetching profile:",e),this.profileSubject.next(null),(0,_.of)(null))))}getCurrentProfile(){return this.profileSubject.value}getPrimaryOrganization(){return this.profileSubject.value?.organizations?.[0]||null}getPrimaryRole(){return this.profileSubject.value?.roles?.[0]||null}getRoleName(){return this.getPrimaryRole()?.name||null}getOrganizationDisplayName(){return this.getPrimaryOrganization()?.displayName||null}clearProfile(){this.profileSubject.next(null)}static{this.\u0275fac=function(n){return new(n||l)(m.\u0275\u0275inject(V.HttpClient))}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const I=(l,U)=>{const n=(0,m.inject)($).getTokenSync();return!n||S(l.url)?U(l):U(l.clone({setHeaders:{Authorization:`Bearer ${n}`}}))},S=l=>(!p?.baseUrl||!l.startsWith(p.baseUrl))&&["/oauth","auth0.com","/authorize","/token"].some(e=>l.includes(e))},5766:(ne,P,y)=>{y.r(P),y.d(P,{getManifest:()=>q,initFederation:()=>B,loadManifest:()=>H,loadRemoteEntry:()=>D,loadRemoteModule:()=>J,setManifest:()=>Q});var m=y(467);let N={};const E={},_={};let F=!1;function w(){return(w=(0,m.A)(function*(u,h){return(yield E[u].get(h))()})).apply(this,arguments)}function C(u,h){return O.apply(this,arguments)}function O(){return(O=(0,m.A)(function*(u,h){return _[h]||(F||(yield y.I("default"),F=!0),yield u.init(y.S.default),_[h]=!0),u})).apply(this,arguments)}function D(u,h){return M.apply(this,arguments)}function M(){return M=(0,m.A)(function*(u,h){if("string"==typeof u)return yield K(u,h);if("script"===u.type){const p=u;return yield K(p.remoteEntry,p.remoteName)}"module"===u.type&&(yield function k(u){return V.apply(this,arguments)}(u.remoteEntry))}),M.apply(this,arguments)}function V(){return(V=(0,m.A)(function*(u){return E[u]?Promise.resolve():yield import(u).then(h=>{C(h,u),E[u]=h})})).apply(this,arguments)}function K(u,h){return Y.apply(this,arguments)}function Y(){return(Y=(0,m.A)(function*(u,h){return new Promise((p,T)=>{if(E[h])return void p();const I=document.createElement("script");I.src=u,I.onerror=T,I.onload=()=>{const S=window[h];C(S,h),E[h]=S,p()},document.body.appendChild(I)})})).apply(this,arguments)}function J(u,h){return $.apply(this,arguments)}function $(){return $=(0,m.A)(function*(u,h){let p,T,I,S;if(S="string"==typeof u?{type:"manifest",remoteName:u,exposedModule:h}:u,!S.type){const l=Object.keys(N).length>0;S.type=l?"manifest":"script"}if("manifest"===S.type){const l=N[S.remoteName];if(!l)throw new Error("Manifest does not contain "+S.remoteName);S={type:l.type,exposedModule:S.exposedModule,remoteEntry:l.remoteEntry,remoteName:"script"===l.type?S.remoteName:void 0},I=l.remoteEntry}else I=S.remoteEntry;return"script"===S.type?(p={type:"script",remoteEntry:S.remoteEntry,remoteName:S.remoteName},T=S.remoteName):"module"===S.type&&(p={type:"module",remoteEntry:S.remoteEntry},T=S.remoteEntry),I&&(yield D(p)),yield function A(u,h){return w.apply(this,arguments)}(T,S.exposedModule)}),$.apply(this,arguments)}function Q(u){return d.apply(this,arguments)}function d(){return(d=(0,m.A)(function*(u,h=!1){N=ee(u),h||(yield re())})).apply(this,arguments)}function q(){return N}function B(u){return L.apply(this,arguments)}function L(){return(L=(0,m.A)(function*(u,h=!1){return"string"==typeof u?H(u,h):Q(u,h)})).apply(this,arguments)}function H(u){return Z.apply(this,arguments)}function Z(){return(Z=(0,m.A)(function*(u,h=!1){const p=yield fetch(u);if(!p.ok)throw Error("could not load configFile: "+u);N=ee(yield p.json()),h||(yield re())})).apply(this,arguments)}function ee(u){const h={};for(const p in u){const T=u[p];let I;I="string"==typeof T?{remoteEntry:T,type:"module"}:{...T,type:T.type||"module"},h[p]=I}return h}function re(){return G.apply(this,arguments)}function G(){return(G=(0,m.A)(function*(){const u=[];for(const h in N){const p=N[h];u.push(D("module"===p.type?{type:"module",remoteEntry:p.remoteEntry}:{type:"script",remoteEntry:p.remoteEntry,remoteName:h}))}yield Promise.all(u)})).apply(this,arguments)}},467:(ne,P,y)=>{function m(E,_,F,A,w,C,O){try{var D=E[C](O),M=D.value}catch(k){return void F(k)}D.done?_(M):Promise.resolve(M).then(A,w)}function N(E){return function(){var _=this,F=arguments;return new Promise(function(A,w){var C=E.apply(_,F);function O(M){m(C,A,w,O,D,"next",M)}function D(M){m(C,A,w,O,D,"throw",M)}O(void 0)})}}y.d(P,{A:()=>N})},1635:(ne,P,y)=>{y.r(P),y.d(P,{__addDisposableResource:()=>S,__assign:()=>E,__asyncDelegator:()=>H,__asyncGenerator:()=>L,__asyncValues:()=>Z,__await:()=>B,__awaiter:()=>k,__classPrivateFieldGet:()=>p,__classPrivateFieldIn:()=>I,__classPrivateFieldSet:()=>T,__createBinding:()=>K,__decorate:()=>F,__disposeResources:()=>U,__esDecorate:()=>w,__exportStar:()=>Y,__extends:()=>N,__generator:()=>V,__importDefault:()=>h,__importStar:()=>u,__makeTemplateObject:()=>ee,__metadata:()=>M,__param:()=>A,__propKey:()=>O,__read:()=>$,__rest:()=>_,__rewriteRelativeImportExtension:()=>e,__runInitializers:()=>C,__setFunctionName:()=>D,__spread:()=>Q,__spreadArray:()=>q,__spreadArrays:()=>d,__values:()=>J,default:()=>n});var m=function(t,r){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])})(t,r)};function N(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}m(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}var E=function(){return E=Object.assign||function(r){for(var o,i=1,s=arguments.length;i<s;i++)for(var a in o=arguments[i])Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a]);return r},E.apply(this,arguments)};function _(t,r){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(o[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(o[i[s]]=t[i[s]])}return o}function F(t,r,o,i){var c,s=arguments.length,a=s<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,r,o,i);else for(var g=t.length-1;g>=0;g--)(c=t[g])&&(a=(s<3?c(a):s>3?c(r,o,a):c(r,o))||a);return s>3&&a&&Object.defineProperty(r,o,a),a}function A(t,r){return function(o,i){r(o,i,t)}}function w(t,r,o,i,s,a){function c(te){if(void 0!==te&&"function"!=typeof te)throw new TypeError("Function expected");return te}for(var v,g=i.kind,j="getter"===g?"get":"setter"===g?"set":"value",f=!r&&t?i.static?t:t.prototype:null,R=r||(f?Object.getOwnPropertyDescriptor(f,i.name):{}),X=!1,b=o.length-1;b>=0;b--){var x={};for(var z in i)x[z]="access"===z?{}:i[z];for(var z in i.access)x.access[z]=i.access[z];x.addInitializer=function(te){if(X)throw new TypeError("Cannot add initializers after decoration has completed");a.push(c(te||null))};var W=(0,o[b])("accessor"===g?{get:R.get,set:R.set}:R[j],x);if("accessor"===g){if(void 0===W)continue;if(null===W||"object"!=typeof W)throw new TypeError("Object expected");(v=c(W.get))&&(R.get=v),(v=c(W.set))&&(R.set=v),(v=c(W.init))&&s.unshift(v)}else(v=c(W))&&("field"===g?s.unshift(v):R[j]=v)}f&&Object.defineProperty(f,i.name,R),X=!0}function C(t,r,o){for(var i=arguments.length>2,s=0;s<r.length;s++)o=i?r[s].call(t,o):r[s].call(t);return i?o:void 0}function O(t){return"symbol"==typeof t?t:"".concat(t)}function D(t,r,o){return"symbol"==typeof r&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:o?"".concat(o," ",r):r})}function M(t,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,r)}function k(t,r,o,i){return new(o||(o=Promise))(function(a,c){function g(R){try{f(i.next(R))}catch(v){c(v)}}function j(R){try{f(i.throw(R))}catch(v){c(v)}}function f(R){R.done?a(R.value):function s(a){return a instanceof o?a:new o(function(c){c(a)})}(R.value).then(g,j)}f((i=i.apply(t,r||[])).next())})}function V(t,r){var i,s,a,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=g(0),c.throw=g(1),c.return=g(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function g(f){return function(R){return function j(f){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(o=0)),o;)try{if(i=1,s&&(a=2&f[0]?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[2&f[0],a.value]),f[0]){case 0:case 1:a=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,s=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===f[0]||2===f[0])){o=0;continue}if(3===f[0]&&(!a||f[1]>a[0]&&f[1]<a[3])){o.label=f[1];break}if(6===f[0]&&o.label<a[1]){o.label=a[1],a=f;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(f);break}a[2]&&o.ops.pop(),o.trys.pop();continue}f=r.call(t,o)}catch(R){f=[6,R],s=0}finally{i=a=0}if(5&f[0])throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}([f,R])}}}var K=Object.create?function(t,r,o,i){void 0===i&&(i=o);var s=Object.getOwnPropertyDescriptor(r,o);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(t,i,s)}:function(t,r,o,i){void 0===i&&(i=o),t[i]=r[o]};function Y(t,r){for(var o in t)"default"!==o&&!Object.prototype.hasOwnProperty.call(r,o)&&K(r,t,o)}function J(t){var r="function"==typeof Symbol&&Symbol.iterator,o=r&&t[r],i=0;if(o)return o.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function $(t,r){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var s,c,i=o.call(t),a=[];try{for(;(void 0===r||r-- >0)&&!(s=i.next()).done;)a.push(s.value)}catch(g){c={error:g}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(c)throw c.error}}return a}function Q(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat($(arguments[r]));return t}function d(){for(var t=0,r=0,o=arguments.length;r<o;r++)t+=arguments[r].length;var i=Array(t),s=0;for(r=0;r<o;r++)for(var a=arguments[r],c=0,g=a.length;c<g;c++,s++)i[s]=a[c];return i}function q(t,r,o){if(o||2===arguments.length)for(var a,i=0,s=r.length;i<s;i++)(a||!(i in r))&&(a||(a=Array.prototype.slice.call(r,0,i)),a[i]=r[i]);return t.concat(a||Array.prototype.slice.call(r))}function B(t){return this instanceof B?(this.v=t,this):new B(t)}function L(t,r,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=o.apply(t,r||[]),a=[];return s=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",function c(b){return function(x){return Promise.resolve(x).then(b,v)}}),s[Symbol.asyncIterator]=function(){return this},s;function g(b,x){i[b]&&(s[b]=function(z){return new Promise(function(W,te){a.push([b,z,W,te])>1||j(b,z)})},x&&(s[b]=x(s[b])))}function j(b,x){try{!function f(b){b.value instanceof B?Promise.resolve(b.value.v).then(R,v):X(a[0][2],b)}(i[b](x))}catch(z){X(a[0][3],z)}}function R(b){j("next",b)}function v(b){j("throw",b)}function X(b,x){b(x),a.shift(),a.length&&j(a[0][0],a[0][1])}}function H(t){var r,o;return r={},i("next"),i("throw",function(s){throw s}),i("return"),r[Symbol.iterator]=function(){return this},r;function i(s,a){r[s]=t[s]?function(c){return(o=!o)?{value:B(t[s](c)),done:!1}:a?a(c):c}:a}}function Z(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t[Symbol.asyncIterator];return r?r.call(t):(t=J(t),o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o);function i(a){o[a]=t[a]&&function(c){return new Promise(function(g,j){!function s(a,c,g,j){Promise.resolve(j).then(function(f){a({value:f,done:g})},c)}(g,j,(c=t[a](c)).done,c.value)})}}}function ee(t,r){return Object.defineProperty?Object.defineProperty(t,"raw",{value:r}):t.raw=r,t}var re=Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r},G=function(t){return(G=Object.getOwnPropertyNames||function(r){var o=[];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[o.length]=i);return o})(t)};function u(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var o=G(t),i=0;i<o.length;i++)"default"!==o[i]&&K(r,t,o[i]);return re(r,t),r}function h(t){return t&&t.__esModule?t:{default:t}}function p(t,r,o,i){if("a"===o&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?t!==r||!i:!r.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?i:"a"===o?i.call(t):i?i.value:r.get(t)}function T(t,r,o,i,s){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?t!==r||!s:!r.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?s.call(t,o):s?s.value=o:r.set(t,o),o}function I(t,r){if(null===r||"object"!=typeof r&&"function"!=typeof r)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?r===t:t.has(r)}function S(t,r,o){if(null!=r){if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Object expected.");var i,s;if(o){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=r[Symbol.asyncDispose]}if(void 0===i){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=r[Symbol.dispose],o&&(s=i)}if("function"!=typeof i)throw new TypeError("Object not disposable.");s&&(i=function(){try{s.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:r,dispose:i,async:o})}else o&&t.stack.push({async:!0});return r}var l="function"==typeof SuppressedError?SuppressedError:function(t,r,o){var i=new Error(o);return i.name="SuppressedError",i.error=t,i.suppressed=r,i};function U(t){function r(a){t.error=t.hasError?new l(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var o,i=0;return function s(){for(;o=t.stack.pop();)try{if(!o.async&&1===i)return i=0,t.stack.push(o),Promise.resolve().then(s);if(o.dispose){var a=o.dispose.call(o.value);if(o.async)return i|=2,Promise.resolve(a).then(s,function(c){return r(c),s()})}else i|=1}catch(c){r(c)}if(1===i)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}function e(t,r){return"string"==typeof t&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(o,i,s,a,c){return i?r?".jsx":".js":!s||a&&c?s+a+"."+c.toLowerCase()+"js":o}):t}const n={__extends:N,__assign:E,__rest:_,__decorate:F,__param:A,__esDecorate:w,__runInitializers:C,__propKey:O,__setFunctionName:D,__metadata:M,__awaiter:k,__generator:V,__createBinding:K,__exportStar:Y,__values:J,__read:$,__spread:Q,__spreadArrays:d,__spreadArray:q,__await:B,__asyncGenerator:L,__asyncDelegator:H,__asyncValues:Z,__makeTemplateObject:ee,__importStar:u,__importDefault:h,__classPrivateFieldGet:p,__classPrivateFieldSet:T,__classPrivateFieldIn:I,__addDisposableResource:S,__disposeResources:U,__rewriteRelativeImportExtension:e}}}]);