(self.webpackChunkshell=self.webpackChunkshell||[]).push([[49],{49:(Z,E,d)=>{d.r(E),d.d(E,{bootstrap:()=>Y});var P=d(1194),S=d(467),f=d(3319),y=d(5315),v=d(3793),h=d(2485),j=d(7412),e=d(5565),m=d(9903);let C=(()=>{class r{constructor(){this.currentUserSubject=new h.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable(),this.loadDummyUser()}loadDummyUser(){const t=sessionStorage.getItem("current_user");t?this.currentUserSubject.next(JSON.parse(t)):this.setCurrentUser({id:"1",name:"John Doe",email:"john.doe@example.com",role:m.g.ORG_ADMIN})}setCurrentUser(t){this.currentUserSubject.next(t),t?sessionStorage.setItem("current_user",JSON.stringify(t)):sessionStorage.removeItem("current_user")}getCurrentUser(){return this.currentUserSubject.value}getCurrentUserRole(){return this.currentUserSubject.value?.role||null}hasRole(t){const n=this.getCurrentUserRole();return!!n&&(0,m.W)(n,t)}canViewOthersData(){const t=this.getCurrentUserRole();return t===m.g.SUPER_ADMIN||t===m.g.ORG_ADMIN||t===m.g.TEAM_LEAD}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),k=(()=>{class r{constructor(){this.salesExecutivesSubject=new h.BehaviorSubject(this.generateSalesExecutives()),this.salesExecutives$=this.salesExecutivesSubject.asObservable(),this.salesRecordsSubject=new h.BehaviorSubject(this.generateSalesRecords()),this.salesRecords$=this.salesRecordsSubject.asObservable(),this.incentiveRulesSubject=new h.BehaviorSubject(this.generateIncentiveRules()),this.incentiveRules$=this.incentiveRulesSubject.asObservable(),this.incentivesEarnedSubject=new h.BehaviorSubject(this.generateIncentivesEarned()),this.incentivesEarned$=this.incentivesEarnedSubject.asObservable()}generateSalesExecutives(){return[{id:"1",name:"John Doe",email:"john.doe@example.com",teamId:"team1"},{id:"2",name:"Jane Smith",email:"jane.smith@example.com",teamId:"team1"},{id:"3",name:"Bob Johnson",email:"bob.johnson@example.com",teamId:"team2"},{id:"4",name:"Alice Williams",email:"alice.williams@example.com",teamId:"team2"},{id:"5",name:"Charlie Brown",email:"charlie.brown@example.com",teamId:"team1"}]}generateSalesRecords(){const t=[],n=this.generateSalesExecutives(),o=["Product A","Product B","Product C","Product D"],s=["completed","pending","cancelled"];for(let a=0;a<50;a++){const c=n[a%n.length],u=Math.floor(a/10),i=new Date;i.setMonth(i.getMonth()-u),t.push({id:`sale-${a+1}`,salesExecutiveId:c.id,salesExecutiveName:c.name,date:i,productName:o[a%o.length],amount:Math.floor(5e4*Math.random())+1e4,quantity:Math.floor(10*Math.random())+1,status:s[a%3]})}return t}generateIncentiveRules(){return[{id:"rule-1",name:"Basic Sales Incentive",description:"5% incentive on all sales",type:"percentage",value:5,isActive:!0,createdBy:"admin",createdAt:new Date("2024-01-01")},{id:"rule-2",name:"High Value Sales Bonus",description:"10% incentive on sales above $50,000",type:"percentage",value:10,minSalesAmount:5e4,isActive:!0,createdBy:"admin",createdAt:new Date("2024-02-01")},{id:"rule-3",name:"Product A Special",description:"Fixed $500 bonus for Product A sales",type:"fixed",value:500,productCategory:"Product A",isActive:!0,createdBy:"team-lead-1",createdAt:new Date("2024-03-01")},{id:"rule-4",name:"Tiered Volume Incentive",description:"15% incentive on sales above $100,000",type:"tiered",value:15,minSalesAmount:1e5,isActive:!1,createdBy:"admin",createdAt:new Date("2024-04-01")}]}generateIncentivesEarned(){const t=[],n=this.generateSalesExecutives(),o=this.generateIncentiveRules(),s=["pending","approved","paid"];for(let a=0;a<30;a++){const c=n[a%n.length],u=o[a%o.length],i=Math.floor(a/10),l=new Date;l.setMonth(l.getMonth()-i),t.push({id:`incentive-${a+1}`,salesExecutiveId:c.id,salesExecutiveName:c.name,ruleId:u.id,ruleName:u.name,salesRecordId:`sale-${a+1}`,amount:Math.floor(5e3*Math.random())+500,earnedDate:l,status:s[a%3]})}return t}getSalesRecordsForExecutive(t){return this.salesRecordsSubject.value.filter(n=>n.salesExecutiveId===t)}getIncentivesForExecutive(t){return this.incentivesEarnedSubject.value.filter(n=>n.salesExecutiveId===t)}getReportDataForExecutive(t){const n=this.salesExecutivesSubject.value.find(i=>i.id===t),o=this.getSalesRecordsForExecutive(t),s=this.getIncentivesForExecutive(t),a=o.filter(i=>"completed"===i.status).reduce((i,l)=>i+l.amount,0),c=s.filter(i=>"pending"!==i.status).reduce((i,l)=>i+l.amount,0),u=[];for(let i=5;i>=0;i--){const l=new Date;l.setMonth(l.getMonth()-i);const x=l.toISOString().substring(0,7),K=o.filter(g=>g.date.toISOString().substring(0,7)===x&&"completed"===g.status).reduce((g,I)=>g+I.amount,0),X=s.filter(g=>g.earnedDate.toISOString().substring(0,7)===x&&"pending"!==g.status).reduce((g,I)=>g+I.amount,0);u.push({month:x,sales:K,incentives:X})}return{salesExecutiveId:t,salesExecutiveName:n?.name||"Unknown",totalSales:a,totalIncentives:c,period:"Last 6 months",breakdown:u}}getSalesExecutives(){return this.salesExecutivesSubject.value}getIncentiveRules(){return this.incentiveRulesSubject.value}addIncentiveRule(t){this.incentiveRulesSubject.next([...this.incentiveRulesSubject.value,t])}updateIncentiveRule(t,n){const s=this.incentiveRulesSubject.value.map(a=>a.id===t?{...a,...n}:a);this.incentiveRulesSubject.next(s)}deleteIncentiveRule(t){const o=this.incentiveRulesSubject.value.filter(s=>s.id!==t);this.incentiveRulesSubject.next(o)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var R=d(1913);let _=(()=>{class r{constructor(){this.mfeConfigs=[],this.loadedMfesSubject=new h.BehaviorSubject(new Set),this.loadedMfes$=this.loadedMfesSubject.asObservable(),this.loadingMfesSubject=new h.BehaviorSubject(new Set),this.loadingMfes$=this.loadingMfesSubject.asObservable()}setConfigs(t){this.mfeConfigs=t.sort((n,o)=>o.priority-n.priority)}getConfigs(){return this.mfeConfigs}getConfigsForRole(t){return this.mfeConfigs.filter(n=>n.allowedRoles.includes(t))}getConfigByName(t){return this.mfeConfigs.find(n=>n.name===t)}preloadPriorityMfes(t){var n=this;return(0,S.A)(function*(){const a=n.getConfigsForRole(t).filter(c=>c.priority>=5).map(c=>n.loadMfe(c));yield Promise.all(a)})()}loadMfe(t){var n=this;return(0,S.A)(function*(){const o=n.loadingMfesSubject.value,s=n.loadedMfesSubject.value;if(s.has(t.name))console.log(`[MfeLoaderService] MFE ${t.name} already loaded`);else if(o.has(t.name))console.log(`[MfeLoaderService] MFE ${t.name} is already loading`);else try{const a=new Set(o);a.add(t.name),n.loadingMfesSubject.next(a),console.log(`[MfeLoaderService] Loading MFE ${t.name} (priority: ${t.priority})`);const c=yield(0,R.loadRemoteModule)({type:"module",remoteEntry:t.url,exposedModule:t.exposedModule}),u=new Set(s);u.add(t.name),n.loadedMfesSubject.next(u);const i=new Set(n.loadingMfesSubject.value);return i.delete(t.name),n.loadingMfesSubject.next(i),console.log(`[MfeLoaderService] Successfully loaded MFE ${t.name}`),c}catch(a){console.error(`[MfeLoaderService] Error loading MFE ${t.name}:`,a);const c=new Set(n.loadingMfesSubject.value);throw c.delete(t.name),n.loadingMfesSubject.next(c),a}})()}isMfeLoaded(t){return this.loadedMfesSubject.value.has(t)}isMfeLoading(t){return this.loadingMfesSubject.value.has(t)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var O=d(8662);function F(r,p){if(1&r&&(e.\u0275\u0275elementStart(0,"option",14),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=p.$implicit;e.\u0275\u0275property("value",t.id),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(t.name)}}function U(r,p){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"div",10)(2,"label",11),e.\u0275\u0275text(3,"View data for:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",12),e.\u0275\u0275text(5," Selecting a user will display their incentive data. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"select",13),e.\u0275\u0275twoWayListener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const s=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(s.selectedSalesExecutiveId,o)||(s.selectedSalesExecutiveId=o),e.\u0275\u0275resetView(o)}),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onSalesExecutiveChange())}),e.\u0275\u0275elementStart(7,"option",14),e.\u0275\u0275text(8,"My Data"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,F,2,2,"option",15),e.\u0275\u0275elementEnd()()()}if(2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275twoWayProperty("ngModel",t.selectedSalesExecutiveId),e.\u0275\u0275advance(),e.\u0275\u0275property("value",t.currentUser.id),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.salesExecutives)}}function D(r,p){if(1&r&&(e.\u0275\u0275elementStart(0,"span",16),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate2(" ",t.currentUser.name," (",t.currentUser.role,") ")}}function L(r,p){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.logout())}),e.\u0275\u0275text(1,"Logout"),e.\u0275\u0275elementEnd()}}function N(r,p){if(1&r){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.login())}),e.\u0275\u0275text(1,"Login"),e.\u0275\u0275elementEnd()}}function T(r,p){if(1&r&&(e.\u0275\u0275elementStart(0,"a",21),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&r){const t=p.$implicit;e.\u0275\u0275property("routerLink","/"+t.route),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",t.displayName," ")}}function V(r,p){if(1&r&&(e.\u0275\u0275elementStart(0,"nav",19),e.\u0275\u0275template(1,T,2,2,"a",20),e.\u0275\u0275elementEnd()),2&r){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",t.availableMfes)}}let $=(()=>{class r{constructor(t,n,o,s){this.roleService=t,this.dummyDataService=n,this.mfeLoader=o,this.auth=s,this.currentUser=null,this.availableMfes=[],this.salesExecutives=[],this.selectedSalesExecutiveId="",this.canViewOthers=!1}ngOnInit(){this.roleService.currentUser$.subscribe(t=>{this.currentUser=t,t&&(this.selectedSalesExecutiveId=t.id,this.canViewOthers=this.roleService.canViewOthersData(),this.updateAvailableMfes(),this.loadSalesExecutives())})}updateAvailableMfes(){this.availableMfes=this.currentUser?this.mfeLoader.getConfigsForRole(this.currentUser.role):[]}loadSalesExecutives(){this.canViewOthers&&(this.salesExecutives=this.dummyDataService.getSalesExecutives())}onSalesExecutiveChange(){sessionStorage.setItem("selected_sales_executive_id",this.selectedSalesExecutiveId),window.dispatchEvent(new CustomEvent("salesExecutiveChanged",{detail:{salesExecutiveId:this.selectedSalesExecutiveId}}))}logout(){this.auth.logout(),this.roleService.setCurrentUser(null)}login(){this.auth.login()}static{this.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(C),e.\u0275\u0275directiveInject(k),e.\u0275\u0275directiveInject(_),e.\u0275\u0275directiveInject(O.AuthService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-header"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:10,vars:5,consts:[[1,"app-header"],[1,"header-left"],[1,"app-title"],["class","header-center",4,"ngIf"],[1,"header-right"],["class","user-info",4,"ngIf"],["class","btn-logout",3,"click",4,"ngIf"],["class","btn-login",3,"click",4,"ngIf"],["class","app-nav",4,"ngIf"],[1,"header-center"],[1,"user-selector"],["for","salesExecSelect"],["id","salesExecSelectDesc",1,"visually-hidden"],["id","salesExecSelect","aria-describedby","salesExecSelectDesc",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"user-info"],[1,"btn-logout",3,"click"],[1,"btn-login",3,"click"],[1,"app-nav"],["routerLinkActive","active","class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"h1",2),e.\u0275\u0275text(3,"Incentive Management System"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,U,10,3,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275template(6,D,2,2,"span",5)(7,L,2,0,"button",6)(8,N,2,0,"button",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(9,V,2,1,"nav",8)),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",o.currentUser&&o.canViewOthers),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",o.currentUser),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",o.currentUser),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!o.currentUser),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",o.currentUser))},dependencies:[y.CommonModule,y.NgForOf,y.NgIf,v.FormsModule,v.NgSelectOption,v.\u0275NgSelectMultipleOption,v.SelectControlValueAccessor,v.NgControlStatus,v.NgModel,f.RouterLink,f.RouterLinkActive],styles:[".app-header[_ngcontent-%COMP%]{background:#fff;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 8px #0000001a}.header-left[_ngcontent-%COMP%]{flex:1}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:var(--gray-900);font-weight:600}.header-center[_ngcontent-%COMP%]{flex:2;display:flex;justify-content:center}.user-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--gray-700);font-weight:500}.user-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--gray-400);border-radius:.375rem;font-size:.875rem;background:#fff;cursor:pointer;min-width:200px}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.header-right[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end;align-items:center;gap:1rem}.user-info[_ngcontent-%COMP%]{color:var(--gray-700);font-size:.875rem;font-weight:500}.btn-logout[_ngcontent-%COMP%], .btn-login[_ngcontent-%COMP%]{background:var(--hot-red);color:#fff;border:none;padding:.5rem 1.5rem;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .2s ease}.btn-logout[_ngcontent-%COMP%]:hover, .btn-login[_ngcontent-%COMP%]:hover{background:var(--orange-red)}.btn-login[_ngcontent-%COMP%]{background:var(--bright-blue)}.btn-login[_ngcontent-%COMP%]:hover{background:var(--electric-violet)}.app-nav[_ngcontent-%COMP%]{background:var(--gray-900);padding:0;display:flex;gap:0}.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:1rem 1.5rem;font-size:.875rem;font-weight:500;transition:background .2s ease;border-bottom:3px solid transparent}.nav-link[_ngcontent-%COMP%]:hover{background:var(--gray-700)}.nav-link.active[_ngcontent-%COMP%]{background:var(--bright-blue);border-bottom-color:var(--electric-violet)}"]})}}return r})(),B=(()=>{class r{constructor(){this.currentYear=(new Date).getFullYear()}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-footer"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[[1,"app-footer"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"footer",0)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\xa9 ",o.currentYear," Incentive Management System. All rights reserved."))},styles:[".app-footer[_ngcontent-%COMP%]{background:var(--gray-900);color:#fff;padding:1rem 2rem;text-align:center;font-size:.875rem;margin-top:auto}.app-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})}}return r})();var b=d(1663);let H=(()=>{class r{constructor(t){this.http=t}login(){window.location.href="http://localhost:4000/auth/login"}logout(){window.location.href="http://localhost:4000/auth/logout"}getUserProfile(){return this.http.get("http://localhost:4000/auth/me",{withCredentials:!0})}static{this.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275inject(b.HttpClient))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),G=(()=>{class r{constructor(t,n,o,s,a,c){this.auth2=t,this.auth=n,this.route=o,this.router=s,this.roleService=a,this.mfeLoader=c,this.title="Incentive Management System",this.mfeLoader.setConfigs(j.R)}ngOnInit(){var t=this;return(0,S.A)(function*(){let n=null,o=null,s=null;const a=yield(0,h.firstValueFrom)(t.route.queryParams);if(a&&Object.keys(a).length>0)n=a.code??null,o=a.state??null,s=a.error??null;else{const c=new URLSearchParams(window.location.search);n=c.get("code"),o=c.get("state"),s=c.get("error")}})()}static{this.\u0275fac=function(n){return new(n||r)(e.\u0275\u0275directiveInject(H),e.\u0275\u0275directiveInject(O.AuthService),e.\u0275\u0275directiveInject(f.ActivatedRoute),e.\u0275\u0275directiveInject(f.Router),e.\u0275\u0275directiveInject(C),e.\u0275\u0275directiveInject(_))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-root"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:5,vars:0,consts:[[1,"app-container"],[1,"app-content"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-header"),e.\u0275\u0275elementStart(2,"main",1),e.\u0275\u0275element(3,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"app-footer"),e.\u0275\u0275elementEnd())},dependencies:[f.RouterOutlet,y.CommonModule,v.FormsModule,$,B],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.app-content[_ngcontent-%COMP%]{flex:1;padding:2rem;background:#f5f5f5}']})}}return r})();function M(r){return()=>{const p=(0,e.inject)(C),t=(0,e.inject)(f.Router),n=p.getCurrentUser();return n?!!r.includes(n.role)||(console.warn(`[RoleGuard] User role ${n.role} not allowed, redirecting to home`),t.navigate(["/"]),!1):(console.warn("[RoleGuard] No user found, redirecting to home"),t.navigate(["/"]),!1)}}const W=M([m.g.SUPER_ADMIN,m.g.ORG_ADMIN,m.g.TEAM_LEAD]),A=(M([m.g.SUPER_ADMIN,m.g.ORG_ADMIN]),M([m.g.SUPER_ADMIN,m.g.ORG_ADMIN,m.g.TEAM_LEAD,m.g.SALES_EXECUTIVE])),z=["container"];let w=(()=>{class r{constructor(){this.name=""}ngAfterViewInit(){var t=this;return(0,S.A)(function*(){const n=j.A.map(({remoteName:s,exposedModule:a})=>({remoteName:s,exposedModule:a})).find(({remoteName:s})=>s===t.name);if(!n)return;const o=yield(0,R.loadRemoteModule)(n);t.remoteContainer.createComponent(o.AppComponent)})()}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-mfe-wrapper"]],viewQuery:function(n,o){if(1&n&&e.\u0275\u0275viewQuery(z,7,e.ViewContainerRef),2&n){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(o.remoteContainer=s.first)}},inputs:{name:"name"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:0,consts:[["container",""]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"mfe-wrapper works!"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainer(2,null,0))},dependencies:[y.CommonModule],changeDetection:0})}}return r})();const J=[{path:"rules",component:(()=>{class r{constructor(){this.mfeName="crudRules"}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-rules-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",o.mfeName))},dependencies:[w],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return r})(),canActivate:[W]},{path:"sales",component:(()=>{class r{constructor(){this.mfeName="mySales"}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-sales-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",o.mfeName))},dependencies:[w],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return r})(),canActivate:[A]},{path:"reports",component:(()=>{class r{constructor(){this.mfeName="myReport"}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:r,selectors:[["app-reports-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(n,o){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",o.mfeName))},dependencies:[w],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return r})(),canActivate:[A]},{path:"**",redirectTo:"",pathMatch:"full"}],Q=(r,p)=>new h.Observable(t=>{let n;return(0,S.A)(function*(){const{urlWithParams:s}=r,c=yield caches.open("http"),u=yield c.match(s);if(u){let i;console.log("Serve from Cache for",s);try{i=yield u.clone().json()}catch{i=yield u.clone().text()}return t.next(new b.HttpResponse({body:i,status:u.status||200,url:r.urlWithParams})),void t.complete()}var i;n=p(r).subscribe({next:(i=(0,S.A)(function*(l){if(console.log("Cache miss for ",s),t.next(l),l instanceof b.HttpResponse&&l.ok){const x=new Response(JSON.stringify(l.body),{headers:{"Content-Type":"application/json"},status:l.status,statusText:l.statusText});yield c.put(r.urlWithParams,x)}}),function(x){return i.apply(this,arguments)}),error:i=>t.error(i),complete:()=>t.complete()})})(),()=>n?.unsubscribe()});function Y(){return(0,P.bootstrapApplication)(G,{providers:[(0,f.provideRouter)(J),(0,b.provideHttpClient)((0,b.withFetch)(),(0,b.withInterceptors)([Q]))]})}}}]);