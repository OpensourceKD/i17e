(self.webpackChunkshell=self.webpackChunkshell||[]).push([[279,660],{4412:(ft,ge,B)=>{B.d(ge,{t:()=>q});var D=B(1413);class q extends D.B{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const J=super._subscribe(Y);return!J.closed&&Y.next(this._value),J}getValue(){const{hasError:Y,thrownError:J,_value:z}=this;if(Y)throw J;return this._throwIfClosed(),z}next(Y){super.next(this._value=Y)}}},1985:(ft,ge,B)=>{B.d(ge,{c:()=>je});var D=B(7707),q=B(8359),de=B(3494),Y=B(1203),J=B(1026),z=B(8071),Ne=B(9786);let je=(()=>{class te{constructor(he){he&&(this._subscribe=he)}lift(he){const We=new te;return We.source=this,We.operator=he,We}subscribe(he,We,an){const Pe=function F(te){return te&&te instanceof D.vU||function Z(te){return te&&(0,z.T)(te.next)&&(0,z.T)(te.error)&&(0,z.T)(te.complete)}(te)&&(0,q.Uv)(te)}(he)?he:new D.Ms(he,We,an);return(0,Ne.Y)(()=>{const{operator:at,source:Jt}=this;Pe.add(at?at.call(Pe,Jt):Jt?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(he){try{return this._subscribe(he)}catch(We){he.error(We)}}forEach(he,We){return new(We=we(We))((an,Pe)=>{const at=new D.Ms({next:Jt=>{try{he(Jt)}catch(Un){Pe(Un),at.unsubscribe()}},error:Pe,complete:an});this.subscribe(at)})}_subscribe(he){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(he)}[de.s](){return this}pipe(...he){return(0,Y.m)(he)(this)}toPromise(he){return new(he=we(he))((We,an)=>{let Pe;this.subscribe(at=>Pe=at,at=>an(at),()=>We(Pe))})}}return te.create=mt=>new te(mt),te})();function we(te){var mt;return null!==(mt=te??J.$.Promise)&&void 0!==mt?mt:Promise}},1413:(ft,ge,B)=>{B.d(ge,{B:()=>Ne});var D=B(1985),q=B(8359);const Y=(0,B(1853).L)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=B(7908),z=B(9786);let Ne=(()=>{class we extends D.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const te=new je(this,this);return te.operator=F,te}_throwIfClosed(){if(this.closed)throw new Y}next(F){(0,z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(F)}})}error(F){(0,z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:te}=this;for(;te.length;)te.shift().error(F)}})}complete(){(0,z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:te,isStopped:mt,observers:he}=this;return te||mt?q.Kn:(this.currentObservers=null,he.push(F),new q.yU(()=>{this.currentObservers=null,(0,J.o)(he,F)}))}_checkFinalizedStatuses(F){const{hasError:te,thrownError:mt,isStopped:he}=this;te?F.error(mt):he&&F.complete()}asObservable(){const F=new D.c;return F.source=this,F}}return we.create=(Z,F)=>new je(Z,F),we})();class je extends Ne{constructor(Z,F){super(),this.destination=Z,this.source=F}next(Z){var F,te;null===(te=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===te||te.call(F,Z)}error(Z){var F,te;null===(te=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===te||te.call(F,Z)}complete(){var Z,F;null===(F=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===F||F.call(Z)}_subscribe(Z){var F,te;return null!==(te=null===(F=this.source)||void 0===F?void 0:F.subscribe(Z))&&void 0!==te?te:q.Kn}}},7707:(ft,ge,B)=>{B.d(ge,{Ms:()=>an,vU:()=>te});var D=B(8071),q=B(8359),de=B(1026),Y=B(5334),J=B(5343);const z=we("C",void 0,void 0);function we(ht,X,Te){return{kind:ht,value:X,error:Te}}var Z=B(9270),F=B(9786);class te extends q.yU{constructor(X){super(),this.isStopped=!1,X?(this.destination=X,(0,q.Uv)(X)&&X.add(this)):this.destination=Un}static create(X,Te,Ct){return new an(X,Te,Ct)}next(X){this.isStopped?Jt(function je(ht){return we("N",ht,void 0)}(X),this):this._next(X)}error(X){this.isStopped?Jt(function Ne(ht){return we("E",void 0,ht)}(X),this):(this.isStopped=!0,this._error(X))}complete(){this.isStopped?Jt(z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(X){this.destination.next(X)}_error(X){try{this.destination.error(X)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const mt=Function.prototype.bind;function he(ht,X){return mt.call(ht,X)}class We{constructor(X){this.partialObserver=X}next(X){const{partialObserver:Te}=this;if(Te.next)try{Te.next(X)}catch(Ct){Pe(Ct)}}error(X){const{partialObserver:Te}=this;if(Te.error)try{Te.error(X)}catch(Ct){Pe(Ct)}else Pe(X)}complete(){const{partialObserver:X}=this;if(X.complete)try{X.complete()}catch(Te){Pe(Te)}}}class an extends te{constructor(X,Te,Ct){let cn;if(super(),(0,D.T)(X)||!X)cn={next:X??void 0,error:Te??void 0,complete:Ct??void 0};else{let yn;this&&de.$.useDeprecatedNextContext?(yn=Object.create(X),yn.unsubscribe=()=>this.unsubscribe(),cn={next:X.next&&he(X.next,yn),error:X.error&&he(X.error,yn),complete:X.complete&&he(X.complete,yn)}):cn=X}this.destination=new We(cn)}}function Pe(ht){de.$.useDeprecatedSynchronousErrorHandling?(0,F.l)(ht):(0,Y.m)(ht)}function Jt(ht,X){const{onStoppedNotification:Te}=de.$;Te&&Z.f.setTimeout(()=>Te(ht,X))}const Un={closed:!0,next:J.l,error:function at(ht){throw ht},complete:J.l}},8359:(ft,ge,B)=>{B.d(ge,{Kn:()=>z,yU:()=>J,Uv:()=>Ne});var D=B(8071);const de=(0,B(1853).L)(we=>function(F){we(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((te,mt)=>`${mt+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var Y=B(7908);class J{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const he of F)he.remove(this);else F.remove(this);const{initialTeardown:te}=this;if((0,D.T)(te))try{te()}catch(he){Z=he instanceof de?he.errors:[he]}const{_finalizers:mt}=this;if(mt){this._finalizers=null;for(const he of mt)try{je(he)}catch(We){Z=Z??[],We instanceof de?Z=[...Z,...We.errors]:Z.push(We)}}if(Z)throw new de(Z)}}add(Z){var F;if(Z&&Z!==this)if(this.closed)je(Z);else{if(Z instanceof J){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(Z)}}_hasParent(Z){const{_parentage:F}=this;return F===Z||Array.isArray(F)&&F.includes(Z)}_addParent(Z){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(Z),F):F?[F,Z]:Z}_removeParent(Z){const{_parentage:F}=this;F===Z?this._parentage=null:Array.isArray(F)&&(0,Y.o)(F,Z)}remove(Z){const{_finalizers:F}=this;F&&(0,Y.o)(F,Z),Z instanceof J&&Z._removeParent(this)}}J.EMPTY=(()=>{const we=new J;return we.closed=!0,we})();const z=J.EMPTY;function Ne(we){return we instanceof J||we&&"closed"in we&&(0,D.T)(we.remove)&&(0,D.T)(we.add)&&(0,D.T)(we.unsubscribe)}function je(we){(0,D.T)(we)?we():we.unsubscribe()}},1026:(ft,ge,B)=>{B.d(ge,{$:()=>D});const D={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4360:(ft,ge,B)=>{B.d(ge,{_:()=>q});var D=B(7707);function q(Y,J,z,Ne,je){return new de(Y,J,z,Ne,je)}class de extends D.vU{constructor(J,z,Ne,je,we,Z){super(J),this.onFinalize=we,this.shouldUnsubscribe=Z,this._next=z?function(F){try{z(F)}catch(te){J.error(te)}}:super._next,this._error=je?function(F){try{je(F)}catch(te){J.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(F){J.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:z}=this;super.unsubscribe(),!z&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},5964:(ft,ge,B)=>{B.d(ge,{p:()=>de});var D=B(9974),q=B(4360);function de(Y,J){return(0,D.N)((z,Ne)=>{let je=0;z.subscribe((0,q._)(Ne,we=>Y.call(J,we,je++)&&Ne.next(we)))})}},6354:(ft,ge,B)=>{B.d(ge,{T:()=>de});var D=B(9974),q=B(4360);function de(Y,J){return(0,D.N)((z,Ne)=>{let je=0;z.subscribe((0,q._)(Ne,we=>{Ne.next(Y.call(J,we,je++))}))})}},9270:(ft,ge,B)=>{B.d(ge,{f:()=>D});const D={setTimeout(q,de,...Y){const{delegate:J}=D;return J?.setTimeout?J.setTimeout(q,de,...Y):setTimeout(q,de,...Y)},clearTimeout(q){const{delegate:de}=D;return(de?.clearTimeout||clearTimeout)(q)},delegate:void 0}},3494:(ft,ge,B)=>{B.d(ge,{s:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},7908:(ft,ge,B)=>{function D(q,de){if(q){const Y=q.indexOf(de);0<=Y&&q.splice(Y,1)}}B.d(ge,{o:()=>D})},1853:(ft,ge,B)=>{function D(q){const Y=q(J=>{Error.call(J),J.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}B.d(ge,{L:()=>D})},9786:(ft,ge,B)=>{B.d(ge,{Y:()=>de,l:()=>Y});var D=B(1026);let q=null;function de(J){if(D.$.useDeprecatedSynchronousErrorHandling){const z=!q;if(z&&(q={errorThrown:!1,error:null}),J(),z){const{errorThrown:Ne,error:je}=q;if(q=null,Ne)throw je}}else J()}function Y(J){D.$.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=J)}},3669:(ft,ge,B)=>{function D(q){return q}B.d(ge,{D:()=>D})},8071:(ft,ge,B)=>{function D(q){return"function"==typeof q}B.d(ge,{T:()=>D})},9974:(ft,ge,B)=>{B.d(ge,{N:()=>de,S:()=>q});var D=B(8071);function q(Y){return(0,D.T)(Y?.lift)}function de(Y){return J=>{if(q(J))return J.lift(function(z){try{return Y(z,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(ft,ge,B)=>{function D(){}B.d(ge,{l:()=>D})},1203:(ft,ge,B)=>{B.d(ge,{F:()=>q,m:()=>de});var D=B(3669);function q(...Y){return de(Y)}function de(Y){return 0===Y.length?D.D:1===Y.length?Y[0]:function(z){return Y.reduce((Ne,je)=>je(Ne),z)}}},5334:(ft,ge,B)=>{B.d(ge,{m:()=>de});var D=B(1026),q=B(9270);function de(Y){q.f.setTimeout(()=>{const{onUnhandledError:J}=D.$;if(!J)throw Y;J(Y)})}},4438:(ft,ge,B)=>{function D(e,t){return Object.is(e,t)}B.d(ge,{iLQ:()=>pd,sZ2:()=>hl,o8S:()=>xr,BIS:()=>lE,gRc:()=>PI,Ql9:()=>mx,Ocv:()=>Ex,Z63:()=>Pn,aKT:()=>rc,uvJ:()=>Qe,zcH:()=>Br,bkB:()=>Cr,$GK:()=>be,_qm:()=>Ab,nKC:()=>me,zZn:()=>Kt,_q3:()=>zp,MKu:()=>$p,xe9:()=>Vp,Co$:()=>Mv,Vns:()=>pi,SKi:()=>st,Agw:()=>pl,PLl:()=>nm,sFG:()=>nS,_9s:()=>bh,czy:()=>Sl,C4Q:()=>Ic,NYb:()=>cx,giA:()=>_I,RxE:()=>dI,c1b:()=>zl,gXe:()=>Gn,L39:()=>bN,EWP:()=>DN,Ol2:()=>Vh,w6W:()=>KS,Rfq:()=>Si,WQX:()=>ne,QuC:()=>cr,EmA:()=>Fo,N4e:()=>Jd,vPA:()=>lv,O8t:()=>CN,H3F:()=>fI,H8p:()=>Or,KH2:()=>Ks,TgB:()=>si,wOt:()=>$,WHO:()=>yI,e01:()=>vI,H5H:()=>pp,Zy3:()=>Nr,mq5:()=>P_,JZv:()=>pt,TL3:()=>nN,LfX:()=>kr,plB:()=>vo,jNT:()=>Op,zjR:()=>wI,TL$:()=>cE,Tbb:()=>yt,Vt3:()=>Oh,GFd:()=>Av,OA$:()=>po,Jv_:()=>Uw,aNF:()=>Bw,R7$:()=>Ym,BMQ:()=>Xh,AVh:()=>ip,wni:()=>gw,VBU:()=>Tu,FsC:()=>Ca,jDH:()=>He,G2t:()=>Ai,$C:()=>Vi,EJ8:()=>Sa,rXU:()=>bs,nrm:()=>lp,eu8:()=>hp,k0s:()=>od,j41:()=>rd,RV6:()=>N_,xGo:()=>wg,KVO:()=>et,kS0:()=>al,bIt:()=>yp,lsd:()=>vw,XpG:()=>iw,Y8G:()=>rp,mGM:()=>yw,Njj:()=>Ju,eBV:()=>qa,n$t:()=>Am,DNE:()=>Uh,EFF:()=>Aw,JRh:()=>Ip,SpI:()=>ud,Lme:()=>bp,DH7:()=>jw,mxI:()=>Dp,R50:()=>Ep,GBs:()=>mw});let q=null,de=!1,Y=1;const J=Symbol("SIGNAL");function z(e){const t=q;return q=e,t}const Z={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function F(e){if(de)throw new Error("");if(null===q)return;q.consumerOnSignalRead(e);const t=q.nextProducerIndex++;Ct(q),t<q.producerNode.length&&q.producerNode[t]!==e&&Te(q)&&X(q.producerNode[t],q.producerIndexOfThis[t]),q.producerNode[t]!==e&&(q.producerNode[t]=e,q.producerIndexOfThis[t]=Te(q)?ht(e,q,t):0),q.producerLastReadVersion[t]=e.version}function mt(e){if((!Te(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Y)){if(!e.producerMustRecompute(e)&&!Jt(e))return e.dirty=!1,void(e.lastCleanEpoch=Y);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Y}}function he(e){if(void 0===e.liveConsumerNode)return;const t=de;de=!0;try{for(const n of e.liveConsumerNode)n.dirty||an(n)}finally{de=t}}function We(){return!1!==q?.consumerAllowSignalWrites}function an(e){e.dirty=!0,he(e),e.consumerMarkedDirty?.(e)}function Pe(e){return e&&(e.nextProducerIndex=0),z(e)}function at(e,t){if(z(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Te(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)X(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Jt(e){Ct(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(mt(n),r!==n.version))return!0}return!1}function Un(e){if(Ct(e),Te(e))for(let t=0;t<e.producerNode.length;t++)X(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ht(e,t,n){if(cn(e),0===e.liveConsumerNode.length&&yn(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=ht(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function X(e,t){if(cn(e),1===e.liveConsumerNode.length&&yn(e))for(let r=0;r<e.producerNode.length;r++)X(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];Ct(o),o.producerIndexOfThis[r]=t}}function Te(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Ct(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function cn(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function yn(e){return void 0!==e.producerNode}const Eo=Symbol("UNSET"),Xs=Symbol("COMPUTING"),wi=Symbol("ERRORED"),Ad={...Z,value:Eo,dirty:!0,error:null,equal:D,producerMustRecompute:e=>e.value===Eo||e.value===Xs,producerRecomputeValue(e){if(e.value===Xs)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Xs;const n=Pe(e);let r;try{r=e.computation()}catch(o){r=wi,e.error=o}finally{at(e,n)}t!==Eo&&t!==wi&&r!==wi&&e.equal(t,r)?e.value=t:(e.value=r,e.version++)}};let ea=function eu(){throw new Error};function Ze(){ea()}let $r=null;function Ii(e,t){We()||Ze(),e.equal(e.value,t)||(e.value=t,function bi(e){e.version++,function te(){Y++}(),he(e),$r?.()}(e))}const ra={...Z,equal:D,value:void 0};var Md=B(4412),Ei=B(1413),To=B(8359),ou=B(6354);const ia="https://g.co/ng/security#xss";class $ extends Error{constructor(t,n){super(Nr(t,n)),this.code=t}}function Nr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function Zt(e){return{toString:e}.toString()}const un="__annotations__",Kr="__parameters__",qr="__prop__metadata__";function aa(e,t,n,r,o){return Zt(()=>{const i=Ci(t);function a(...d){if(this instanceof a)return i.call(this,...d),this;const f=new a(...d);return function(y){return o&&o(y,...d),(y.hasOwnProperty(un)?y[un]:Object.defineProperty(y,un,{value:[]})[un]).push(f),r&&r(y),y}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}function Ci(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}function Jr(e,t,n){return Zt(()=>{const r=Ci(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const a=new o(...i);return d.annotation=a,d;function d(f,p,y){const _=f.hasOwnProperty(Kr)?f[Kr]:Object.defineProperty(f,Kr,{value:[]})[Kr];for(;_.length<=y;)_.push(null);return(_[y]=_[y]||[]).push(a),f}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const pt=globalThis;function Fe(e){for(let t in e)if(e[t]===Fe)return t;throw Error("Could not find renamed property on target object.")}function Nd(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function yt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(yt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ca(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const kd=Fe({__forward_ref__:Fe});function Si(e){return e.__forward_ref__=Si,e.toString=function(){return yt(this())},e}function ue(e){return Zr(e)?e():e}function Zr(e){return"function"==typeof e&&e.hasOwnProperty(kd)&&e.__forward_ref__===Si}function He(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ai(e){return{providers:e.providers||[],imports:e.imports||[]}}function Mi(e){return uu(e,xo)||uu(e,du)}function kr(e){return null!==Mi(e)}function uu(e,t){return e.hasOwnProperty(t)?e[t]:null}function Mo(e){return e&&(e.hasOwnProperty(No)||e.hasOwnProperty(la))?e[No]:null}const xo=Fe({\u0275prov:Fe}),No=Fe({\u0275inj:Fe}),du=Fe({ngInjectableDef:Fe}),la=Fe({ngInjectorDef:Fe});class me{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=He({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function pa(e){return e&&!!e.\u0275providers}const rr=Fe({\u0275cmp:Fe}),ga=Fe({\u0275dir:Fe}),ma=Fe({\u0275pipe:Fe}),hu=Fe({\u0275mod:Fe}),Wn=Fe({\u0275fac:Fe}),Qr=Fe({__NG_ELEMENT_ID__:Fe}),ct=Fe({__NG_ENV_ID__:Fe});function pe(e){return"string"==typeof e?e:null==e?"":String(e)}function ie(e,t){throw new $(-201,!1)}var be=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(be||{});let ya;function Yr(){return ya}function Mt(e){const t=ya;return ya=e,t}function Ni(e,t,n){const r=Mi(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&be.Optional?null:void 0!==t?t:void ie()}const Ae={},Ut="__NG_DI_FLAG__",Xr="ngTempTokenPath",wn=/\n/gm,mu="__source";let eo;function kn(e){const t=eo;return eo=e,t}function yu(e,t=be.Default){if(void 0===eo)throw new $(-203,!1);return null===eo?Ni(e,void 0,t):eo.get(e,t&be.Optional?null:void 0,t)}function et(e,t=be.Default){return(Yr()||yu)(ue(e),t)}function ne(e,t=be.Default){return et(e,le(t))}function le(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function _a(e){const t=[];for(let n=0;n<e.length;n++){const r=ue(e[n]);if(Array.isArray(r)){if(0===r.length)throw new $(900,!1);let o,i=be.Default;for(let a=0;a<r.length;a++){const d=r[a],f=ki(d);"number"==typeof f?-1===f?o=d.token:i|=f:o=d}t.push(et(o,i))}else t.push(et(r))}return t}function or(e,t){return e[Ut]=t,e.prototype[Ut]=t,e}function ki(e){return e[Ut]}const Vd=or(Jr("Inject",e=>({token:e})),-1),Po=or(Jr("Optional"),8),ir=or(Jr("Self"),2),tt=or(Jr("SkipSelf"),4),wu=or(Jr("Host"),1);function sr(e,t){return e.hasOwnProperty(Wn)?e[Wn]:null}function ar(e,t){e.forEach(n=>Array.isArray(n)?ar(n,t):t(n))}function Oo(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Wt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function zt(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function $t(e,t,n){let r=$n(e,t);return r>=0?e[1|r]=n:(r=~r,function Iu(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Rr(e,t){const n=$n(e,t);if(n>=0)return e[1|n]}function $n(e,t){return function Pi(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),a=e[i<<n];if(t===a)return i<<n;a>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const Rn={},ke=[],Pn=new me(""),Eu=new me("",-1),wa=new me("");class no{get(t,n=Ae){if(n===Ae){const r=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw r.name="NullInjectorError",r}return n}}var ro=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ro||{}),Gn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Gn||{}),Kn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Kn||{});function Ia(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function Lo(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],a=n[r++],d=n[r++];e.setAttribute(t,a,d,i)}else{const i=o,a=n[++r];Oi(i)?e.setProperty(t,i,a):e.setAttribute(t,i,a),r++}}return r}function oo(e){return 3===e||4===e||6===e}function Oi(e){return 64===e.charCodeAt(0)}function io(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Du(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Du(e,t,n,r,o){let i=0,a=e.length;if(-1===t)a=-1;else for(;i<e.length;){const d=e[i++];if("number"==typeof d){if(d===t){a=-1;break}if(d>t){a=i-1;break}}}for(;i<e.length;){const d=e[i];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==a&&(e.splice(a,0,t),i=a+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}const Li="ng-template";function so(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==Ia(t[o+1].toLowerCase(),n,0))return!0}else if(jo(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===n)return!0}return!1}function jo(e){return 4===e.type&&e.value!==Li}function Bd(e,t,n){return t===(4!==e.type||n?e.value:Li)}function Wd(e,t,n){let r=4;const o=e.attrs,i=null!==o?function ba(e){for(let t=0;t<e.length;t++)if(oo(e[t]))return t;return e.length}(o):0;let a=!1;for(let d=0;d<t.length;d++){const f=t[d];if("number"!=typeof f){if(!a)if(4&r){if(r=2|1&r,""!==f&&!Bd(e,f,n)||""===f&&1===t.length){if(Yt(r))return!1;a=!0}}else if(8&r){if(null===o||!so(e,o,f,n)){if(Yt(r))return!1;a=!0}}else{const p=t[++d],y=Cu(f,o,jo(e),n);if(-1===y){if(Yt(r))return!1;a=!0;continue}if(""!==p){let _;if(_=y>i?"":o[y+1].toLowerCase(),2&r&&p!==_){if(Yt(r))return!1;a=!0}}}}else{if(!a&&!Yt(r)&&!Yt(f))return!1;if(a&&Yt(f))continue;a=!1,r=f|1&r}}return Yt(r)||a}function Yt(e){return!(1&e)}function Cu(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const a=t[o];if(a===e)return o;if(3===a||6===a)i=!0;else{if(1===a||2===a){let d=t[++o];for(;"string"==typeof d;)d=t[++o];continue}if(4===a)break;if(0===a){o+=4;continue}}o+=i?1:2}return-1}return function Ea(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Su(e,t,n=!1){for(let r=0;r<t.length;r++)if(Wd(e,t[r],n))return!0;return!1}function ji(e,t){return e?":not("+t.trim()+")":t}function Gd(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let a=e[n];if("string"==typeof a)if(2&r){const d=e[++n];o+="["+a+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?o+="."+a:4&r&&(o+=" "+a);else""!==o&&!Yt(a)&&(t+=ji(i,o),o=""),r=a,i=i||!Yt(r);n++}return""!==o&&(t+=ji(i,o)),t}function Tu(e){return Zt(()=>{const t=ao(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ro.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Gn.Emulated,styles:e.styles||ke,_:null,schemas:e.schemas||null,tView:null,id:""};Ta(n);const r=e.dependencies;return n.directiveDefs=Ui(r,!1),n.pipeDefs=Ui(r,!0),n.id=function Aa(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Fi(e){return ve(e)||Be(e)}function De(e){return null!==e}function Vi(e){return Zt(()=>({type:e.type,bootstrap:e.bootstrap||ke,declarations:e.declarations||ke,imports:e.imports||ke,exports:e.exports||ke,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Hi(e,t){if(null==e)return Rn;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,a,d=Kn.None;Array.isArray(o)?(d=o[0],i=o[1],a=o[2]??i):(i=o,a=o),t?(n[i]=d!==Kn.None?[r,d]:r,t[i]=a):n[i]=r}return n}function Ca(e){return Zt(()=>{const t=ao(e);return Ta(t),t})}function Sa(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ve(e){return e[rr]||null}function Be(e){return e[ga]||null}function _t(e){return e[ma]||null}function cr(e){const t=ve(e)||Be(e)||_t(e);return null!==t&&t.standalone}function Ft(e,t){const n=e[hu]||null;if(!n&&!0===t)throw new Error(`Type ${yt(e)} does not have '\u0275mod' property.`);return n}function ao(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Rn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ke,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hi(e.inputs,t),outputs:Hi(e.outputs),debugInfo:null}}function Ta(e){e.features?.forEach(t=>t(e))}function Ui(e,t){if(!e)return null;const n=t?_t:Fi;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(De)}function Fo(e){return{\u0275providers:e}}function Pr(...e){return{\u0275providers:Ma(0,e),\u0275fromNgModule:!0}}function Ma(e,...t){const n=[],r=new Set;let o;const i=a=>{n.push(a)};return ar(t,a=>{const d=a;Bi(d,i,[],r)&&(o||=[],o.push(d))}),void 0!==o&&Au(o,i),n}function Au(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Vo(o,i=>{t(i,r)})}}function Bi(e,t,n,r){if(!(e=ue(e)))return!1;let o=null,i=Mo(e);const a=!i&&ve(e);if(i||a){if(a&&!a.standalone)return!1;o=e}else{const f=e.ngModule;if(i=Mo(f),!i)return!1;o=f}const d=r.has(o);if(a){if(d)return!1;if(r.add(o),a.dependencies){const f="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const p of f)Bi(p,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!d){let p;r.add(o);try{ar(i.imports,y=>{Bi(y,t,n,r)&&(p||=[],p.push(y))})}finally{}void 0!==p&&Au(p,t)}if(!d){const p=sr(o)||(()=>new o);t({provide:o,useFactory:p,deps:ke},o),t({provide:wa,useValue:o,multi:!0},o),t({provide:Pn,useValue:()=>et(o),multi:!0},o)}const f=i.providers;if(null!=f&&!d){const p=e;Vo(f,y=>{t(y,p)})}}}return o!==e&&void 0!==e.providers}function Vo(e,t){for(let n of e)pa(n)&&(n=n.\u0275providers),Array.isArray(n)?Vo(n,t):t(n)}const Na=Fe({provide:String,useValue:Fe});function Wi(e){return null!==e&&"object"==typeof e&&Na in e}function qn(e){return"function"==typeof e}const Or=new me(""),gt={},In={};let Ho;function Uo(){return void 0===Ho&&(Ho=new no),Ho}class Qe{}class Xe extends Qe{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wo(t,a=>this.processProvider(a)),this.records.set(Eu,Lr(void 0,this)),o.has("environment")&&this.records.set(Qe,Lr(void 0,this));const i=this.records.get(Or);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(wa,ke,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=z(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=kn(this),r=Mt(void 0);try{return t()}finally{kn(n),Mt(r)}}get(t,n=Ae,r=be.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ct))return t[ct](this);r=le(r);const i=kn(this),a=Mt(void 0);try{if(!(r&be.SkipSelf)){let f=this.records.get(t);if(void 0===f){const p=function uo(e){return"function"==typeof e||"object"==typeof e&&e instanceof me}(t)&&Mi(t);f=p&&this.injectableDefInScope(p)?Lr(Bo(t),gt):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(r&be.Self?Uo():this.parent).get(t,n=r&be.Optional&&n===Ae?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[Xr]=d[Xr]||[]).unshift(yt(t)),i)throw d;return function vu(e,t,n,r){const o=e[Xr];throw t[mu]&&o.unshift(t[mu]),e.message=function _u(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=yt(t);if(Array.isArray(t))o=t.map(yt).join(" -> ");else if("object"==typeof t){let i=[];for(let a in t)if(t.hasOwnProperty(a)){let d=t[a];i.push(a+":"+("string"==typeof d?JSON.stringify(d):yt(d)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(wn,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Xr]=null,e}(d,t,"R3InjectorError",this.source)}throw d}finally{Mt(a),kn(i)}}resolveInjectorInitializers(){const t=z(null),n=kn(this),r=Mt(void 0);try{const i=this.get(Pn,ke,be.Self);for(const a of i)a()}finally{kn(n),Mt(r),z(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(yt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(t){let n=qn(t=ue(t))?t:ue(t&&t.provide);const r=function Pa(e){return Wi(e)?Lr(void 0,e.useValue):Lr(Oa(e),gt)}(t);if(!qn(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Lr(void 0,gt,!0),o.factory=()=>_a(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=z(null);try{return n.value===gt&&(n.value=In,n.value=n.factory()),"object"==typeof n.value&&n.value&&function On(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ue(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Bo(e){const t=Mi(e),n=null!==t?t.factory:sr(e);if(null!==n)return n;if(e instanceof me)throw new $(204,!1);if(e instanceof Function)return function Ra(e){if(e.length>0)throw new $(204,!1);const n=function lu(e){return e&&(e[xo]||e[du])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new $(204,!1)}function Oa(e,t,n){let r;if(qn(e)){const o=ue(e);return sr(o)||Bo(o)}if(Wi(e))r=()=>ue(e.useValue);else if(function co(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(..._a(e.deps||[]));else if(function ka(e){return!(!e||!e.useExisting)}(e))r=()=>et(ue(e.useExisting));else{const o=ue(e&&(e.useClass||e.provide));if(!function xu(e){return!!e.deps}(e))return sr(o)||Bo(o);r=()=>new o(..._a(e.deps))}return r}function Lr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Wo(e,t){for(const n of e)Array.isArray(n)?Wo(n,t):n&&pa(n)?Wo(n.\u0275providers,t):t(n)}function Jd(e,t){e instanceof Xe&&e.assertNotDestroyed();const r=kn(e),o=Mt(void 0);try{return t()}finally{kn(r),Mt(o)}}function ze(e){const t=pt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const $i={\u0275\u0275defineInjectable:He,\u0275\u0275defineInjector:Ai,\u0275\u0275inject:et,\u0275\u0275invalidFactoryDep:function Bt(e){throw new $(202,!1)},resolveForwardRef:ue},zo=Function;function Jn(e){return"function"==typeof e}const Ru=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,Zd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Qd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Yd=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class ja{constructor(t){this._reflect=t||pt.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let r;r=zt(typeof t>"u"?n.length:t.length);for(let o=0;o<r.length;o++)r[o]=typeof t>"u"?[]:t[o]&&t[o]!=Object?[t[o]]:[],n&&null!=n[o]&&(r[o]=r[o].concat(n[o]));return r}_ownParameters(t,n){if(function Gi(e){return Ru.test(e)||Yd.test(e)||Zd.test(e)&&!Qd.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const o=t.ctorParameters;if(o&&o!==n.ctorParameters){const d="function"==typeof o?o():o,f=d.map(y=>y&&y.type),p=d.map(y=>y&&$o(y.decorators));return this._zipTypesAndAnnotations(f,p)}const i=t.hasOwnProperty(Kr)&&t[Kr],a=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return a||i?this._zipTypesAndAnnotations(a,i):zt(t.length)}parameters(t){if(!Jn(t))return[];const n=bn(t);let r=this._ownParameters(t,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let r=t.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return t.decorators&&t.decorators!==n.decorators?$o(t.decorators):t.hasOwnProperty(un)?t[un]:null}annotations(t){if(!Jn(t))return[];const n=bn(t),r=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let r=t.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const r=t.propDecorators,o={};return Object.keys(r).forEach(i=>{o[i]=$o(r[i])}),o}return t.hasOwnProperty(qr)?t[qr]:null}propMetadata(t){if(!Jn(t))return{};const n=bn(t),r={};if(n!==Object){const i=this.propMetadata(n);Object.keys(i).forEach(a=>{r[a]=i[a]})}const o=this._ownPropMetadata(t,n);return o&&Object.keys(o).forEach(i=>{const a=[];r.hasOwnProperty(i)&&a.push(...r[i]),a.push(...o[i]),r[i]=a}),r}ownPropMetadata(t){return Jn(t)&&this._ownPropMetadata(t,bn(t))||{}}hasLifecycleHook(t,n){return t instanceof zo&&n in t.prototype}}function $o(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function bn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const qe=0,H=1,re=2,Je=3,Xt=4,Nt=5,St=6,ur=7,Ce=8,ut=9,$e=10,ce=11,lr=12,Fa=13,en=14,Ue=15,En=16,Ht=17,Zn=18,lo=19,Go=20,nt=21,Tt=22,ln=23,Q=25,Ki=1,Gt=7,fr=9,rt=10;var qo=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(qo||{});function lt(e){return Array.isArray(e)&&"object"==typeof e[Ki]}function kt(e){return Array.isArray(e)&&!0===e[Ki]}function Jo(e){return!!(4&e.flags)}function hr(e){return e.componentOffset>-1}function Zo(e){return!(1&~e.flags)}function tn(e){return!!e.template}function fo(e){return!!(512&e[re])}class Va{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wu(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function po(){return Qi}function Qi(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ha),Yi}function Yi(){const e=Ua(this),t=e?.current;if(t){const n=e.previous;if(n===Rn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ha(e,t,n,r,o){const i=this.declaredInputs[r],a=Ua(e)||function Ba(e,t){return e[zu]=t}(e,{previous:Rn,current:null}),d=a.current||(a.current={}),f=a.previous,p=f[i];d[i]=new Va(p&&p.currentValue,n,f===Rn),Wu(e,t,o,n)}po.ngInherit=!0;const zu="__ngSimpleChanges__";function Ua(e){return e[zu]||null}const Dn=function(e,t,n){};function Se(e){for(;Array.isArray(e);)e=e[qe];return e}function gr(e,t){return Se(t[e])}function dt(e,t){return Se(t[e.index])}function dn(e,t){return e.data[t]}function wt(e,t){const n=t[e];return lt(n)?n:n[qe]}function za(e){return!(128&~e[re])}function fn(e,t){return null==t?null:e[t]}function mr(e){e[Ht]=0}function ei(e){1024&e[re]||(e[re]|=1024,za(e)&&Oe(e))}function Cn(e){return!!(9216&e[re]||e[ln]?.dirty)}function vr(e){e[$e].changeDetectionScheduler?.notify(8),64&e[re]&&(e[re]|=1024),Cn(e)&&Oe(e)}function Oe(e){e[$e].changeDetectionScheduler?.notify(0);let t=Ln(e);for(;null!==t&&!(8192&t[re])&&(t[re]|=8192,za(t));)t=Ln(t)}function _r(e,t){if(!(256&~e[re]))throw new $(911,!1);null===e[nt]&&(e[nt]=[]),e[nt].push(t)}function Ln(e){const t=e[Je];return kt(t)?t[Je]:t}const se={lFrame:go(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let $u=!1;function Ku(){return se.bindingsEnabled}function M(){return se.lFrame.lView}function Ie(){return se.lFrame.tView}function qa(e){return se.lFrame.contextLView=e,e[Ce]}function Ju(e){return se.lFrame.contextLView=null,e}function Ve(){let e=Ir();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ir(){return se.lFrame.currentTNode}function Sn(e,t){const n=se.lFrame;n.currentTNode=e,n.isParent=t}function os(){return se.lFrame.isParent}function is(){se.lFrame.isParent=!1}function ss(){return $u}function Xu(e){$u=e}function nn(){return se.lFrame.bindingIndex++}function An(e){const t=se.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ja(e,t){const n=se.lFrame;n.bindingIndex=n.bindingRootIndex=e,Er(t)}function Er(e){se.lFrame.currentDirectiveIndex=e}function Qa(){return se.lFrame.currentQueryIndex}function cs(e){se.lFrame.currentQueryIndex=e}function ri(e){const t=e[H];return 2===t.type?t.declTNode:1===t.type?e[Nt]:null}function el(e,t,n){if(n&be.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&be.Host||(o=ri(i),null===o||(i=i[en],10&o.type))););if(null===o)return!1;t=o,e=i}const r=se.lFrame=us();return r.currentTNode=t,r.lView=e,!0}function Ya(e){const t=us(),n=e[H];se.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function us(){const e=se.lFrame,t=null===e?null:e.child;return null===t?go(e):t}function go(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function tl(){const e=se.lFrame;return se.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const nl=tl;function Xa(){const e=tl();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ge(){return se.lFrame.selectedIndex}function Vt(e){se.lFrame.selectedIndex=e}function Le(){const e=se.lFrame;return dn(e.tView,e.selectedIndex)}let rl=!0;function u(){return rl}function s(e){rl=e}function l(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:d,ngAfterViewInit:f,ngAfterViewChecked:p,ngOnDestroy:y}=i;a&&(e.contentHooks??=[]).push(-n,a),d&&((e.contentHooks??=[]).push(n,d),(e.contentCheckHooks??=[]).push(n,d)),f&&(e.viewHooks??=[]).push(-n,f),p&&((e.viewHooks??=[]).push(n,p),(e.viewCheckHooks??=[]).push(n,p)),null!=y&&(e.destroyHooks??=[]).push(n,y)}}function h(e,t,n){v(e,t,3,n)}function g(e,t,n,r){(3&e[re])===n&&v(e,t,n,r)}function m(e,t){let n=e[re];(3&n)===t&&(n&=16383,n+=1,e[re]=n)}function v(e,t,n,r){const i=r??-1,a=t.length-1;let d=0;for(let f=void 0!==r?65535&e[Ht]:0;f<a;f++)if("number"==typeof t[f+1]){if(d=t[f],null!=r&&d>=r)break}else t[f]<0&&(e[Ht]+=65536),(d<i||-1==i)&&(C(e,n,t,f),e[Ht]=(4294901760&e[Ht])+f+2),f++}function w(e,t){Dn(4,e,t);const n=z(null);try{t.call(e)}finally{z(n),Dn(5,e,t)}}function C(e,t,n,r){const o=n[r]<0,i=n[r+1],d=e[o?-n[r]:n[r]];o?e[re]>>14<e[Ht]>>16&&(3&e[re])===t&&(e[re]+=16384,w(d,i)):w(d,i)}const I=-1;class T{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const oe={};class V{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=le(r);const o=this.injector.get(t,oe,r);return o!==oe||n===oe?o:this.parentInjector.get(t,n,r)}}function ye(e){return e!==I}function Ee(e){return 32767&e}function it(e,t){let n=function rn(e){return e>>16}(e),r=t;for(;n>0;)r=r[en],n--;return r}let Pt=!0;function Vn(e){const t=Pt;return Pt=e,t}const oi=255,fg=5;let pb=0;const Dr={};function ol(e,t){const n=hg(e,t);if(-1!==n)return n;const r=t[H];r.firstCreatePass&&(e.injectorIndex=t.length,af(r.data,e),af(t,null),af(r.blueprint,null));const o=il(e,t),i=e.injectorIndex;if(ye(o)){const a=Ee(o),d=it(o,t),f=d[H].data;for(let p=0;p<8;p++)t[i+p]=d[a+p]|f[a+p]}return t[i+8]=o,i}function af(e,t){e.push(0,0,0,0,0,0,0,0,t)}function hg(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function il(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Ig(o),null===r)return I;if(n++,o=o[en],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return I}function cf(e,t,n){!function gb(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Qr)&&(r=n[Qr]),null==r&&(r=n[Qr]=pb++);const o=r&oi;t.data[e+(o>>fg)]|=1<<o}(e,t,n)}function pg(e,t,n){if(n&be.Optional||void 0!==e)return e;ie()}function gg(e,t,n,r){if(n&be.Optional&&void 0===r&&(r=null),!(n&(be.Self|be.Host))){const o=e[ut],i=Mt(void 0);try{return o?o.get(t,r,n&be.Optional):Ni(t,r,n&be.Optional)}finally{Mt(i)}}return pg(r,0,n)}function mg(e,t,n,r=be.Default,o){if(null!==e){if(2048&t[re]&&!(r&be.Self)){const a=function wb(e,t,n,r,o){let i=e,a=t;for(;null!==i&&null!==a&&2048&a[re]&&!(512&a[re]);){const d=yg(i,a,n,r|be.Self,Dr);if(d!==Dr)return d;let f=i.parent;if(!f){const p=a[Go];if(p){const y=p.get(n,Dr,r);if(y!==Dr)return y}f=Ig(a),a=a[en]}i=f}return o}(e,t,n,r,Dr);if(a!==Dr)return a}const i=yg(e,t,n,r,Dr);if(i!==Dr)return i}return gg(t,n,r,o)}function yg(e,t,n,r,o){const i=function vb(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Qr)?e[Qr]:void 0;return"number"==typeof t?t>=0?t&oi:_b:t}(n);if("function"==typeof i){if(!el(t,e,r))return r&be.Host?pg(o,0,r):gg(t,n,r,o);try{let a;if(a=i(r),null!=a||r&be.Optional)return a;ie()}finally{nl()}}else if("number"==typeof i){let a=null,d=hg(e,t),f=I,p=r&be.Host?t[Ue][Nt]:null;for((-1===d||r&be.SkipSelf)&&(f=-1===d?il(e,t):t[d+8],f!==I&&_g(r,!1)?(a=t[H],d=Ee(f),t=it(f,t)):d=-1);-1!==d;){const y=t[H];if(vg(i,d,y.data)){const _=yb(d,t,n,a,r,p);if(_!==Dr)return _}f=t[d+8],f!==I&&_g(r,t[H].data[d+8]===p)&&vg(i,d,t)?(a=y,d=Ee(f),t=it(f,t)):d=-1}}return o}function yb(e,t,n,r,o,i){const a=t[H],d=a.data[e+8],y=sl(d,a,n,null==r?hr(d)&&Pt:r!=a&&!!(3&d.type),o&be.Host&&i===d);return null!==y?ii(t,a,y,d):Dr}function sl(e,t,n,r,o){const i=e.providerIndexes,a=t.data,d=1048575&i,f=e.directiveStart,y=i>>20,b=o?d+y:e.directiveEnd;for(let E=r?d:d+y;E<b;E++){const S=a[E];if(E<f&&n===S||E>=f&&S.type===n)return E}if(o){const E=a[f];if(E&&tn(E)&&E.type===n)return f}return null}function ii(e,t,n,r){let o=e[n];const i=t.data;if(function k(e){return e instanceof T}(o)){const a=o;a.resolving&&function Ye(e,t){throw t&&t.join(" > "),new $(-200,e)}(function Re(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():pe(e)}(i[n]));const d=Vn(a.canSeeViewProviders);a.resolving=!0;const p=a.injectImpl?Mt(a.injectImpl):null;el(e,r,be.Default);try{o=e[n]=a.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function c(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const a=Qi(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==p&&Mt(p),Vn(d),a.resolving=!1,nl()}}return o}function vg(e,t,n){return!!(n[t+(e>>fg)]&1<<e)}function _g(e,t){return!(e&be.Self||e&be.Host&&t)}class Ot{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return mg(this._tNode,this._lView,t,le(r),n)}}function _b(){return new Ot(Ve(),M())}function wg(e){return Zt(()=>{const t=e.prototype.constructor,n=t[Wn]||uf(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[Wn]||uf(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function uf(e){return Zr(e)?()=>{const t=uf(ue(e));return t&&t()}:sr(e)}function Ig(e){const t=e[H],n=t.type;return 2===n?t.declTNode:1===n?e[Nt]:null}function al(e){return function mb(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(oo(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(Ve(),e)}const Ib=Jr("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>al(e)}));let bg=null;function cl(e){return Eg(function lf(){return bg=bg||new ja}().parameters(e))}function Eg(e){return e.map(t=>function bb(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const o=Object.getPrototypeOf(r);if(r instanceof Po||"Optional"===o.ngMetadataName)t.optional=!0;else if(r instanceof tt||"SkipSelf"===o.ngMetadataName)t.skipSelf=!0;else if(r instanceof ir||"Self"===o.ngMetadataName)t.self=!0;else if(r instanceof wu||"Host"===o.ngMetadataName)t.host=!0;else if(r instanceof Vd)t.token=r.token;else if(r instanceof Ib){if(void 0===r.attributeName)throw new $(204,!1);t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}const Db=Fe({provide:String,useValue:Fe});function Dg(e){return void 0!==e.useClass}function Cg(e){return void 0!==e.useFactory}const Ab=aa("Injectable",void 0,void 0,void 0,(e,t)=>function Eb(e,t){let n=null,r=null;e.hasOwnProperty(xo)||Object.defineProperty(e,xo,{get:()=>(null===n&&(n=ze().compileInjectable($i,`ng:///${e.name}/\u0275prov.js`,function Tb(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Dg(n)||Cg(n))&&void 0!==n.deps&&(r.deps=Eg(n.deps)),Dg(n)?r.useClass=n.useClass:function Cb(e){return Db in e}(n)?r.useValue=n.useValue:Cg(n)?r.useFactory=n.useFactory:function Sb(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(Wn)||Object.defineProperty(e,Wn,{get:()=>{if(null===r){const o=ze();r=o.compileFactory($i,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:cl(e),target:o.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t));function Sg(e,t=null,n=null,r){const o=Tg(e,t,n,r);return o.resolveInjectorInitializers(),o}function Tg(e,t=null,n=null,r,o=new Set){const i=[n||ke,Pr(e)];return r=r||("object"==typeof e?void 0:yt(e)),new Xe(i,t||Uo(),r||null,o)}class Kt{static{this.THROW_IF_NOT_FOUND=Ae}static{this.NULL=new no}static create(t,n){if(Array.isArray(t))return Sg({name:""},n,t,"");{const r=t.name??"";return Sg({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=He({token:Kt,providedIn:"any",factory:()=>et(Eu)})}static{this.__NG_ELEMENT_ID__=-1}}new me("").__NG_ELEMENT_ID__=e=>{const t=Ve();if(null===t)throw new $(204,!1);if(2&t.type)return t.value;if(e&be.Optional)return null;throw new $(204,!1)};function df(e){return e.ngOriginalError}const Mg=!0;let nc=(()=>{class e{static{this.__NG_ELEMENT_ID__=Nb}static{this.__NG_ENV_ID__=n=>n}}return e})();class xb extends nc{constructor(t){super(),this._lView=t}onDestroy(t){return _r(this._lView,t),()=>function ot(e,t){if(null===e[nt])return;const n=e[nt].indexOf(t);-1!==n&&e[nt].splice(n,1)}(this._lView,t)}}function Nb(){return new xb(M())}let si=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Md.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=He({token:e,providedIn:"root",factory:()=>new e})}}return e})();const Cr=class kb extends Ei.B{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,function La(){return void 0!==Yr()||null!=function to(){return eo}()}()&&(this.destroyRef=ne(nc,{optional:!0})??void 0,this.pendingTasks=ne(si,{optional:!0})??void 0)}emit(t){const n=z(null);try{super.next(t)}finally{z(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),a=r;if(t&&"object"==typeof t){const f=t;o=f.next?.bind(f),i=f.error?.bind(f),a=f.complete?.bind(f)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),a&&(a=this.wrapInTimeout(a)));const d=super.subscribe({next:o,error:i,complete:a});return t instanceof To.yU&&t.add(d),d}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function ul(...e){}function xg(e){let t,n;function r(){e=ul;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Ng(e){return queueMicrotask(()=>e()),()=>{e=ul}}const ff="isAngularZone",ll=ff+"_ID";let Rb=0;class st{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cr(!1),this.onMicrotaskEmpty=new Cr(!1),this.onStable=new Cr(!1),this.onError=new Cr(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Mg}=t;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&r,a.shouldCoalesceRunChangeDetection=o,a.callbackScheduled=!1,a.scheduleInRootZone=i,function Lb(e){const t=()=>{!function Ob(e){function t(){xg(()=>{e.callbackScheduled=!1,pf(e),e.isCheckStableRunning=!0,hf(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),pf(e))}(e)},n=Rb++;e._inner=e._inner.fork({name:"angular",properties:{[ff]:!0,[ll]:n,[ll+n]:!0},onInvokeTask:(r,o,i,a,d,f)=>{if(function jb(e){return Pg(e,"__ignore_ng_zone__")}(f))return r.invokeTask(i,a,d,f);try{return kg(e),r.invokeTask(i,a,d,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),Rg(e)}},onInvoke:(r,o,i,a,d,f,p)=>{try{return kg(e),r.invoke(i,a,d,f,p)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Fb(e){return Pg(e,"__scheduler_tick__")}(f)&&t(),Rg(e)}},onHasTask:(r,o,i,a)=>{r.hasTask(i,a),o===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,pf(e),hf(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,o,i,a)=>(r.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(ff)}static assertInAngularZone(){if(!st.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(st.isInAngularZone())throw new $(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+o,t,Pb,ul,ul);try{return i.runTask(a,n,r)}finally{i.cancelTask(a)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const Pb={};function hf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function kg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Rg(e){e._nesting--,hf(e)}class gf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cr,this.onMicrotaskEmpty=new Cr,this.onStable=new Cr,this.onError=new Cr}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function Pg(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class Br{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&df(t);for(;n&&df(n);)n=df(n);return n||null}}const Hb=new me("",{providedIn:"root",factory:()=>{const e=ne(st),t=ne(Br);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Ub(){return ps(Ve(),M())}function ps(e,t){return new rc(dt(e,t))}let rc=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Ub}}return e})();function Lg(e){return e instanceof rc?e.nativeElement:e}function Bb(){return this._results[Symbol.iterator]()}class mf{get changes(){return this._changes??=new Cr}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=mf.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Bb)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function xt(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Hd(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function ic(e){return!(128&~e.flags)}const vf=new Map;let zb=0;function _f(e){vf.delete(e[lo])}const dl="__ngContext__";function qt(e,t){lt(t)?(e[dl]=t[lo],function Gb(e){vf.set(e[lo],e)}(t)):e[dl]=t}function Gg(e){return qg(e[lr])}function Kg(e){return qg(e[Xt])}function qg(e){for(;null!==e&&!kt(e);)e=e[Xt];return e}let If;function cE(e){If=e}const hl=new me("",{providedIn:"root",factory:()=>uE}),uE="ng",nm=new me(""),pl=new me("",{providedIn:"platform",factory:()=>"unknown"}),lE=new me("",{providedIn:"root",factory:()=>function mo(){if(void 0!==If)return If;if(typeof document<"u")return document;throw new $(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let rm=()=>null;function Af(e,t,n=!1){return rm(e,t,n)}const dm=new me("",{providedIn:"root",factory:()=>!1});let bl;function mm(e){return function Pf(){if(void 0===bl&&(bl=null,pt.trustedTypes))try{bl=pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return bl}()?.createScriptURL(e)||e}class ym{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ia})`}}function yo(e){return e instanceof ym?e.changingThisBreaksApplicationSecurity:e}function fc(e,t){const n=function ME(e){return e instanceof ym&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ia})`)}return n===t}const RE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var _s=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(_s||{});function Sm(e){const t=pc();return t?t.sanitize(_s.URL,e)||"":fc(e,"URL")?yo(e):function Of(e){return(e=String(e)).match(RE)?e:"unsafe:"+e}(pe(e))}function Tm(e){const t=pc();if(t)return mm(t.sanitize(_s.RESOURCE_URL,e)||"");if(fc(e,"ResourceURL"))return mm(yo(e));throw new $(904,!1)}function Am(e,t,n){return function qE(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Tm:Sm}(t,n)(e)}function pc(){const e=M();return e&&e[$e].sanitizer}const JE=/^>|^->|<!--|-->|--!>|<!-$/g,ZE=/(<|>)/g,QE="\u200b$1\u200b";function Mn(e){return e instanceof Function?e():e}var Sl=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Sl||{});let Uf;function Bf(e,t){return Uf(e,t)}function Is(e,t,n,r,o){if(null!=r){let i,a=!1;kt(r)?i=r:lt(r)&&(a=!0,r=r[qe]);const d=Se(r);0===e&&null!==n?null==o?Um(t,n,d):ci(t,n,d,o||null,!0):1===e&&null!==n?ci(t,n,d,o||null,!0):2===e?function mc(e,t,n){e.removeChild(null,t,n)}(t,d,a):3===e&&t.destroyNode(d),null!=i&&function yD(e,t,n,r,o){const i=n[Gt];i!==Se(n)&&Is(t,e,r,i,o);for(let d=rt;d<n.length;d++){const f=n[d];xl(f[H],f,e,t,r,i)}}(t,e,i,n,o)}}function zf(e,t){return e.createComment(function Mm(e){return e.replace(JE,t=>t.replace(ZE,QE))}(t))}function Tl(e,t,n){return e.createElement(t,n)}function Fm(e,t){t[$e].changeDetectionScheduler?.notify(9),xl(e,t,t[ce],2,null,null)}function Vm(e,t){const n=e[fr],r=t[Je];(lt(r)||t[Ue]!==r[Je][Ue])&&(e[re]|=qo.HasTransplantedViews),null===n?e[fr]=[t]:n.push(t)}function $f(e,t){const n=e[fr],r=n.indexOf(t);n.splice(r,1)}function gc(e,t){if(e.length<=rt)return;const n=rt+t,r=e[n];if(r){const o=r[En];null!==o&&o!==e&&$f(o,r),t>0&&(e[n-1][Xt]=r[Xt]);const i=Wt(e,rt+t);!function uD(e,t){Fm(e,t),t[qe]=null,t[Nt]=null}(r[H],r);const a=i[Zn];null!==a&&a.detachView(i[H]),r[Je]=null,r[Xt]=null,r[re]&=-129}return r}function Al(e,t){if(!(256&t[re])){const n=t[ce];n.destroyNode&&xl(e,t,n,3,null,null),function dD(e){let t=e[lr];if(!t)return Gf(e[H],e);for(;t;){let n=null;if(lt(t))n=t[lr];else{const r=t[rt];r&&(n=r)}if(!n){for(;t&&!t[Xt]&&t!==e;)lt(t)&&Gf(t[H],t),t=t[Je];null===t&&(t=e),lt(t)&&Gf(t[H],t),n=t&&t[Xt]}t=n}}(t)}}function Gf(e,t){if(256&t[re])return;const n=z(null);try{t[re]&=-129,t[re]|=256,t[ln]&&Un(t[ln]),function pD(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof T)){const i=n[r+1];if(Array.isArray(i))for(let a=0;a<i.length;a+=2){const d=o[i[a]],f=i[a+1];Dn(4,d,f);try{f.call(d)}finally{Dn(5,d,f)}}else{Dn(4,o,i);try{i.call(o)}finally{Dn(5,o,i)}}}}}(e,t),function hD(e,t){const n=e.cleanup,r=t[ur];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const a=n[i+3];a>=0?r[a]():r[-a].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[ur]=null);const o=t[nt];if(null!==o){t[nt]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[H].type&&t[ce].destroy();const r=t[En];if(null!==r&&kt(t[Je])){r!==t[Je]&&$f(r,t);const o=t[Zn];null!==o&&o.detachView(e)}_f(t)}finally{z(n)}}function Kf(e,t,n){return function Hm(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[qe];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===Gn.None||i===Gn.Emulated)return null}return dt(r,n)}}(e,t.parent,n)}function ci(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Um(e,t,n){e.appendChild(t,n)}function Bm(e,t,n,r,o){null!==r?ci(e,t,n,r,o):Um(e,t,n)}function qf(e,t){return e.parentNode(t)}let Jf,$m=function zm(e,t,n){return 40&e.type?dt(e,n):null};function Ml(e,t,n,r){const o=Kf(e,r,t),i=t[ce],d=function Wm(e,t,n){return $m(e,t,n)}(r.parent||t[Nt],r,t);if(null!=o)if(Array.isArray(n))for(let f=0;f<n.length;f++)Bm(i,o,n[f],d,!1);else Bm(i,o,n,d,!1);void 0!==Jf&&Jf(i,r,t,n,o)}function ui(e,t){if(null!==t){const n=t.type;if(3&n)return dt(t,e);if(4&n)return Zf(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ui(e,r);{const o=e[t.index];return kt(o)?Zf(-1,o):Se(o)}}if(128&n)return ui(e,t.next);if(32&n)return Bf(t,e)()||Se(e[t.index]);{const r=Km(e,t);return null!==r?Array.isArray(r)?r[0]:ui(Ln(e[Ue]),r):ui(e,t.next)}}return null}function Km(e,t){return null!==t?e[Ue][Nt].projection[t.projection]:null}function Zf(e,t){const n=rt+e+1;if(n<t.length){const r=t[n],o=r[H].firstChild;if(null!==o)return ui(r,o)}return t[Gt]}function Qf(e,t,n,r,o,i,a){for(;null!=n;){if(128===n.type){n=n.next;continue}const d=r[n.index],f=n.type;if(a&&0===t&&(d&&qt(Se(d),r),n.flags|=2),32&~n.flags)if(8&f)Qf(e,t,n.child,r,o,i,!1),Is(t,e,o,d,i);else if(32&f){const p=Bf(n,r);let y;for(;y=p();)Is(t,e,o,y,i);Is(t,e,o,d,i)}else 16&f?Jm(e,t,r,n,o,i):Is(t,e,o,d,i);n=a?n.projectionNext:n.next}}function xl(e,t,n,r,o,i){Qf(n,r,e.firstChild,t,o,i,!1)}function Jm(e,t,n,r,o,i){const a=n[Ue],f=a[Nt].projection[r.projection];if(Array.isArray(f))for(let p=0;p<f.length;p++)Is(t,e,o,f[p],i);else{let p=f;const y=a[Je];ic(r)&&(p.flags|=128),Qf(e,t,p,y,o,i,!0)}}function Zm(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Qm(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&Lo(e,t,r),null!==o&&Zm(e,t,o),null!==i&&function _D(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}const _e={};function Ym(e=1){Xm(Ie(),M(),Ge()+e,!1)}function Xm(e,t,n,r){if(!r)if(3&~t[re]){const i=e.preOrderHooks;null!==i&&g(t,i,0,n)}else{const i=e.preOrderCheckHooks;null!==i&&h(t,i,n)}Vt(n)}function bs(e,t=be.Default){const n=M();return null===n?et(e,t):mg(Ve(),n,ue(e),t)}function ey(e,t,n,r,o,i){const a=z(null);try{let d=null;o&Kn.SignalBased&&(d=t[r][J]),null!==d&&void 0!==d.transformFn&&(i=d.transformFn(i)),o&Kn.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(t,i)),null!==e.setInput?e.setInput(t,d,i,n,r):Wu(t,d,r,i)}finally{z(a)}}function Nl(e,t,n,r,o,i,a,d,f,p,y){const _=t.blueprint.slice();return _[qe]=o,_[re]=204|r,(null!==p||e&&2048&e[re])&&(_[re]|=2048),mr(_),_[Je]=_[en]=e,_[Ce]=n,_[$e]=a||e&&e[$e],_[ce]=d||e&&e[ce],_[ut]=f||e&&e[ut]||null,_[Nt]=i,_[lo]=function $b(){return zb++}(),_[St]=y,_[Go]=p,_[Ue]=2==t.type?e[Ue]:_,_}function li(e,t,n,r,o){let i=e.data[t];if(null===i)i=function Yf(e,t,n,r,o){const i=Ir(),a=os(),f=e.data[t]=function AD(e,t,n,r,o,i){let a=t?t.injectorIndex:-1,d=0;return function Hr(){return null!==se.skipHydrationRootTNode}()&&(d|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=f),null!==i&&(a?null==i.child&&null!==f.parent&&(i.child=f):null===i.next&&(i.next=f,f.prev=i)),f}(e,t,n,r,o),function br(){return se.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const a=function Ur(){const e=se.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===a?-1:a.injectorIndex}return Sn(i,!0),i}function yc(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function ty(e,t,n,r,o){const i=Ge(),a=2&r;try{Vt(-1),a&&t.length>Q&&Xm(e,t,Q,!1),Dn(a?2:0,o),n(r,o)}finally{Vt(i),Dn(a?3:1,o)}}function Xf(e,t,n){if(Jo(t)){const r=z(null);try{const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const d=e.data[a];d.contentQueries&&d.contentQueries(1,n[a],a)}}finally{z(r)}}}function eh(e,t,n){Ku()&&(function OD(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;hr(n)&&function BD(e,t,n){const r=dt(t,e),o=ny(n);let a=16;n.signals?a=4096:n.onPush&&(a=64);const d=kl(e,Nl(e,o,null,a,r,t,null,e[$e].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=d}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||ol(n,t),qt(r,t);const a=n.initialInputs;for(let d=o;d<i;d++){const f=e.data[d],p=ii(t,e,d,n);qt(p,t),null!==a&&WD(0,d-o,p,f,0,a),tn(f)&&(wt(n.index,t)[Ce]=ii(t,e,d,n))}}(e,t,n,dt(n,t)),!(64&~n.flags)&&ay(e,t,n))}function th(e,t,n=dt){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const a=r[i+1],d=-1===a?n(t,e):e[a];e[o++]=d}}}function ny(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=nh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function nh(e,t,n,r,o,i,a,d,f,p,y){const _=Q+r,b=_+o,E=function bD(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:_e);return n}(_,b),S="function"==typeof p?p():p;return E[H]={type:e,blueprint:E,template:n,queries:null,viewQuery:d,declTNode:t,data:E.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:f,consts:S,incompleteFirstPass:!1,ssrId:y}}let ry=()=>null;function oy(e,t,n,r,o){for(let i in t){if(!t.hasOwnProperty(i))continue;const a=t[i];if(void 0===a)continue;r??={};let d,f=Kn.None;Array.isArray(a)?(d=a[0],f=a[1]):d=a;let p=i;if(null!==o){if(!o.hasOwnProperty(i))continue;p=o[i]}0===e?iy(r,n,p,d,f):iy(r,n,p,d)}return r}function iy(e,t,n,r,o){let i;e.hasOwnProperty(n)?(i=e[n]).push(t,r):i=e[n]=[t,r],void 0!==o&&i.push(o)}function pn(e,t,n,r,o,i,a,d){const f=dt(t,n);let y,p=t.inputs;!d&&null!=p&&(y=p[r])?(ah(e,n,y,r,o),hr(t)&&function ND(e,t){const n=wt(t,e);16&n[re]||(n[re]|=64)}(n,t.index)):3&t.type&&(r=function xD(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=a?a(o,t.value||"",r):o,i.setProperty(f,r,o))}function rh(e,t,n,r){if(Ku()){const o=null===r?null:{"":-1},i=function jD(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const a=n[i];if(Su(t,a.selectors,!1))if(r||(r=[]),tn(a))if(null!==a.findHostDirectiveDefs){const d=[];o=o||new Map,a.findHostDirectiveDefs(a,d,o),r.unshift(...d,a),oh(e,t,d.length)}else r.unshift(a),oh(e,t,0);else o=o||new Map,a.findHostDirectiveDefs?.(a,r,o),r.push(a)}return null===r?null:[r,o]}(e,n);let a,d;null===i?a=d=null:[a,d]=i,null!==a&&sy(e,t,n,a,o,d),o&&function FD(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new $(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=io(n.mergedAttrs,n.attrs)}function sy(e,t,n,r,o,i){for(let p=0;p<r.length;p++)cf(ol(n,t),e,r[p].type);!function HD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let p=0;p<r.length;p++){const y=r[p];y.providersResolver&&y.providersResolver(y)}let a=!1,d=!1,f=yc(e,t,r.length,null);for(let p=0;p<r.length;p++){const y=r[p];n.mergedAttrs=io(n.mergedAttrs,y.hostAttrs),UD(e,n,t,f,y),VD(f,y,o),null!==y.contentQueries&&(n.flags|=4),(null!==y.hostBindings||null!==y.hostAttrs||0!==y.hostVars)&&(n.flags|=64);const _=y.type.prototype;!a&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),a=!0),!d&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),f++}!function MD(e,t,n){const o=t.directiveEnd,i=e.data,a=t.attrs,d=[];let f=null,p=null;for(let y=t.directiveStart;y<o;y++){const _=i[y],b=n?n.get(_):null,S=b?b.outputs:null;f=oy(0,_.inputs,y,f,b?b.inputs:null),p=oy(1,_.outputs,y,p,S);const N=null===f||null===a||jo(t)?null:zD(f,y,a);d.push(N)}null!==f&&(f.hasOwnProperty("class")&&(t.flags|=8),f.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=d,t.inputs=f,t.outputs=p}(e,n,i)}function ay(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,a=function Za(){return se.lFrame.currentDirectiveIndex}();try{Vt(i);for(let d=r;d<o;d++){const f=e.data[d],p=t[d];Er(d),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&LD(f,p)}}finally{Vt(-1),Er(a)}}function LD(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function oh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function VD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;tn(t)&&(n[""]=e)}}function UD(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=sr(o.type)),a=new T(i,tn(o),bs);e.blueprint[r]=a,n[r]=a,function RD(e,t,n,r,o){const i=o.hostBindings;if(i){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const d=~t.index;(function PD(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=d&&a.push(d),a.push(n,r,i)}}(e,t,r,yc(e,n,o.hostVars,_e),o)}function Sr(e,t,n,r,o,i){const a=dt(e,t);!function ih(e,t,n,r,o,i,a){if(null==i)e.removeAttribute(t,o,n);else{const d=null==a?pe(i):a(i,r||"",o);e.setAttribute(t,o,d,n)}}(t[ce],a,i,e.value,n,r,o)}function WD(e,t,n,r,o,i){const a=i[t];if(null!==a)for(let d=0;d<a.length;)ey(r,n,a[d++],a[d++],a[d++],a[d++])}function zD(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const a=e[i];for(let d=0;d<a.length;d+=3)if(a[d]===t){r.push(i,a[d+1],a[d+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function cy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function uy(e,t){const n=e.contentQueries;if(null!==n){const r=z(null);try{for(let o=0;o<n.length;o+=2){const a=n[o+1];if(-1!==a){const d=e.data[a];cs(n[o]),d.contentQueries(2,t[a],a)}}}finally{z(r)}}}function kl(e,t){return e[lr]?e[Fa][Xt]=t:e[lr]=t,e[Fa]=t,t}function sh(e,t,n){cs(0);const r=z(null);try{t(e,n)}finally{z(r)}}function ly(e){return e[ur]??=[]}function dy(e){return e.cleanup??=[]}function Rl(e,t){const n=e[ut],r=n?n.get(Br,null):null;r&&r.handleError(t)}function ah(e,t,n,r,o){for(let i=0;i<n.length;){const a=n[i++],d=n[i++],f=n[i++];ey(e.data[a],t[a],r,d,f,o)}}function zr(e,t,n){const r=gr(t,e);!function jm(e,t,n){e.setValue(t,n)}(e[ce],r,n)}function $D(e,t){const n=wt(t,e),r=n[H];!function GD(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[qe];null!==o&&null===n[St]&&(n[St]=Af(o,n[ut])),ch(r,n,n[Ce])}function ch(e,t,n){Ya(t);try{const r=e.viewQuery;null!==r&&sh(1,r,n);const o=e.template;null!==o&&ty(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Zn]?.finishViewCreation(e),e.staticContentQueries&&uy(e,t),e.staticViewQueries&&sh(2,e.viewQuery,n);const i=e.components;null!==i&&function KD(e,t){for(let n=0;n<t.length;n++)$D(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[re]&=-5,Xa()}}function di(e,t){return!t||null===t.firstChild||ic(e)}function vc(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=t[n.index];null!==i&&r.push(Se(i)),kt(i)&&py(i,r);const a=n.type;if(8&a)vc(e,t,n.child,r);else if(32&a){const d=Bf(n,t);let f;for(;f=d();)r.push(f)}else if(16&a){const d=Km(t,n);if(Array.isArray(d))r.push(...d);else{const f=Ln(t[Ue]);vc(f[H],f,d,r,!0)}}n=o?n.projectionNext:n.next}return r}function py(e,t){for(let n=rt;n<e.length;n++){const r=e[n],o=r[H].firstChild;null!==o&&vc(r[H],r,o,t)}e[Gt]!==e[qe]&&t.push(e[Gt])}let gy=[];const QD={...Z,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Oe(e.lView)},consumerOnSignalRead(){this.lView[ln]=this}},XD={...Z,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Ln(e.lView);for(;t&&!my(t[H]);)t=Ln(t);t&&ei(t)},consumerOnSignalRead(){this.lView[ln]=this}};function my(e){return 2!==e.type}const eC=100;function Pl(e,t=!0,n=0){const r=e[$e],o=r.rendererFactory;o.begin?.();try{!function tC(e,t){const n=ss();try{Xu(!0),lh(e,t);let r=0;for(;Cn(e);){if(r===eC)throw new $(103,!1);r++,lh(e,1)}}finally{Xu(n)}}(e,n)}catch(a){throw t&&Rl(e,a),a}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function nC(e,t,n,r){const o=t[re];if(!(256&~o))return;t[$e].inlineEffectRunner?.flush(),Ya(t);let d=!0,f=null,p=null;my(e)?(p=function qD(e){return e[ln]??function JD(e){const t=gy.pop()??Object.create(QD);return t.lView=e,t}(e)}(t),f=Pe(p)):null===function Ne(){return q}()?(d=!1,p=function YD(e){const t=e[ln]??Object.create(XD);return t.lView=e,t}(t),f=Pe(p)):t[ln]&&(Un(t[ln]),t[ln]=null);try{mr(t),function as(e){return se.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ty(e,t,n,2,r);const y=!(3&~o);if(y){const E=e.preOrderCheckHooks;null!==E&&h(t,E,null)}else{const E=e.preOrderHooks;null!==E&&g(t,E,0,null),m(t,0)}if(function rC(e){for(let t=Gg(e);null!==t;t=Kg(t)){if(!(t[re]&qo.HasTransplantedViews))continue;const n=t[fr];for(let r=0;r<n.length;r++)ei(n[r])}}(t),vy(t,0),null!==e.contentQueries&&uy(e,t),y){const E=e.contentCheckHooks;null!==E&&h(t,E)}else{const E=e.contentHooks;null!==E&&g(t,E,1),m(t,1)}!function ID(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Vt(~o);else{const i=o,a=n[++r],d=n[++r];Ja(a,i),d(2,t[i])}}}finally{Vt(-1)}}(e,t);const _=e.components;null!==_&&wy(t,_,0);const b=e.viewQuery;if(null!==b&&sh(2,b,r),y){const E=e.viewCheckHooks;null!==E&&h(t,E)}else{const E=e.viewHooks;null!==E&&g(t,E,2),m(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Tt]){for(const E of t[Tt])E();t[Tt]=null}t[re]&=-73}catch(y){throw Oe(t),y}finally{null!==p&&(at(p,f),d&&function ZD(e){e.lView[ln]!==e&&(e.lView=null,gy.push(e))}(p)),Xa()}}function vy(e,t){for(let n=Gg(e);null!==n;n=Kg(n))for(let r=rt;r<n.length;r++)_y(n[r],t)}function oC(e,t,n){_y(wt(t,e),n)}function _y(e,t){za(e)&&lh(e,t)}function lh(e,t){const r=e[H],o=e[re],i=e[ln];let a=!!(0===t&&16&o);if(a||=!!(64&o&&0===t),a||=!!(1024&o),a||=!(!i?.dirty||!Jt(i)),a||=!1,i&&(i.dirty=!1),e[re]&=-9217,a)nC(r,e,r.template,e[Ce]);else if(8192&o){vy(e,1);const d=r.components;null!==d&&wy(e,d,1)}}function wy(e,t,n){for(let r=0;r<t.length;r++)oC(e,t[r],n)}function _c(e,t){const n=ss()?64:1088;for(e[$e].changeDetectionScheduler?.notify(t);e;){e[re]|=n;const r=Ln(e);if(fo(e)&&!r)return e;e=r}return null}class wc{get rootNodes(){const t=this._lView,n=t[H];return vc(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ce]}set context(t){this._lView[Ce]=t}get destroyed(){return!(256&~this._lView[re])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Je];if(kt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(gc(t,r),Wt(n,r))}this._attachedToViewContainer=!1}Al(this._lView[H],this._lView)}onDestroy(t){_r(this._lView,t)}markForCheck(){_c(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){vr(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,Pl(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=fo(this._lView),n=this._lView[En];null!==n&&!t&&$f(n,this._lView),Fm(this._lView[H],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=t;const n=fo(this._lView),r=this._lView[En];null!==r&&!n&&Vm(r,this._lView),vr(this._lView)}}let Ic=(()=>{class e{static{this.__NG_ELEMENT_ID__=aC}}return e})();const iC=Ic,sC=class extends iC{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function Es(e,t,n,r){const o=z(null);try{const i=t.tView,f=Nl(e,i,n,4096&e[re]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);f[En]=e[t.index];const y=e[Zn];return null!==y&&(f[Zn]=y.createEmbeddedView(i)),ch(i,f,n),f}finally{z(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new wc(o)}};function aC(){return Ol(Ve(),M())}function Ol(e,t){return 4&e.type?new sC(t,e,ps(e,t)):null}class Ss{}const Mc=new me("",{providedIn:"root",factory:()=>!1}),By=new me(""),Ih=new me("");class XC{}class Wy{}class tS{resolveComponentFactory(t){throw function eS(e){const t=Error(`No component factory found for ${yt(e)}.`);return t.ngComponent=e,t}(t)}}class Ul{static{this.NULL=new tS}}class bh{}let nS=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function rS(){const e=M(),n=wt(Ve().index,e);return(lt(n)?n:e)[ce]}()}}return e})(),oS=(()=>{class e{static{this.\u0275prov=He({token:e,providedIn:"root",factory:()=>null})}}return e})();function vo(e){return!!Ft(e)}function Wl(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let a=0;a<t.length;a++){const d=t[a];"number"==typeof d?i=d:1==i?o=ca(o,d):2==i&&(r=ca(r,d+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class Ky extends Ul{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ve(t);return new kc(n,this.ngModule)}}function qy(e,t){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(void 0===o)continue;const i=Array.isArray(o),a=i?o[0]:o;n.push(t?{propName:a,templateName:r,isSignal:!!((i?o[1]:Kn.None)&Kn.SignalBased)}:{propName:a,templateName:r})}return n}class kc extends Wy{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=qy(t.inputs,!0);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return qy(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Kd(e){return e.map(Gd).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const i=z(null);try{let a=(o=o||this.ngModule)instanceof Qe?o:o?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const d=a?new V(t,a):t,f=d.get(bh,null);if(null===f)throw new $(407,!1);const _={rendererFactory:f,sanitizer:d.get(oS,null),inlineEffectRunner:null,changeDetectionScheduler:d.get(Ss,null)},b=f.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",S=r?function ED(e,t,n,r){const i=r.get(dm,!1)||n===Gn.ShadowDom,a=e.selectRootElement(t,i);return function DD(e){ry(e)}(a),a}(b,r,this.componentDef.encapsulation,d):Tl(b,E,function aS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(E));let N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let U=null;null!==S&&(U=Af(S,d,!0));const W=nh(0,null,null,1,0,null,null,null,null,null,null),x=Nl(null,W,null,N,null,null,_,b,d,null,U);Ya(x);let fe,xe,Ke=null;try{const Dt=this.componentDef;let mn,Qs=null;Dt.findHostDirectiveDefs?(mn=[],Qs=new Map,Dt.findHostDirectiveDefs(Dt,mn,Qs),mn.push(Dt)):mn=[Dt];const fb=function uS(e,t){const n=e[H],r=Q;return e[r]=t,li(n,r,2,"#host",null)}(x,S);Ke=function lS(e,t,n,r,o,i,a){const d=o[H];!function dS(e,t,n,r){for(const o of e)t.mergedAttrs=io(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Wl(t,t.mergedAttrs,!0),null!==n&&Qm(r,n,t))}(r,e,t,a);let f=null;null!==t&&(f=Af(t,o[ut]));const p=i.rendererFactory.createRenderer(t,n);let y=16;n.signals?y=4096:n.onPush&&(y=64);const _=Nl(o,ny(n),null,y,o[e.index],e,i,p,null,null,f);return d.firstCreatePass&&oh(d,e,r.length-1),kl(o,_),o[e.index]=_}(fb,S,Dt,mn,x,_,b),xe=dn(W,Q),S&&function hS(e,t,n,r){if(r)Lo(e,n,["ng-version","18.2.14"]);else{const{attrs:o,classes:i}=function Da(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Yt(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Lo(e,n,o),i&&i.length>0&&Zm(e,n,i.join(" "))}}(b,Dt,S,r),void 0!==n&&function pS(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(xe,this.ngContentSelectors,n),fe=function fS(e,t,n,r,o,i){const a=Ve(),d=o[H],f=dt(a,o);sy(d,o,a,n,null,r);for(let y=0;y<n.length;y++)qt(ii(o,d,a.directiveStart+y,a),o);ay(d,o,a),f&&qt(f,o);const p=ii(o,d,a.directiveStart+a.componentOffset,a);if(e[Ce]=o[Ce]=p,null!==i)for(const y of i)y(p,t);return Xf(d,a,o),p}(Ke,Dt,mn,Qs,x,[gS]),ch(W,x,null)}catch(Dt){throw null!==Ke&&_f(Ke),_f(x),Dt}finally{Xa()}return new cS(this.componentType,fe,ps(xe,x),x,xe)}finally{z(i)}}}class cS extends XC{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new wc(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;ah(i[H],i,o,t,n),this.previousInputValues.set(t,n),_c(wt(this._tNode.index,i),1)}}get injector(){return new Ot(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function gS(){const e=Ve();l(M()[H],e)}let zl=(()=>{class e{static{this.__NG_ELEMENT_ID__=mS}}return e})();function mS(){return Qy(Ve(),M())}const yS=zl,Jy=class extends yS{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ps(this._hostTNode,this._hostLView)}get injector(){return new Ot(this._hostTNode,this._hostLView)}get parentInjector(){const t=il(this._hostTNode,this._hostLView);if(ye(t)){const n=it(t,this._hostLView),r=Ee(t);return new Ot(n[H].data[r+8],n)}return new Ot(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Zy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-rt}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const d=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(d,o,di(this._hostTNode,null)),d}createComponent(t,n,r,o,i){const a=t&&!Jn(t);let d;if(a)d=n;else{const S=n||{};d=S.index,r=S.injector,o=S.projectableNodes,i=S.environmentInjector||S.ngModuleRef}const f=a?t:new kc(ve(t)),p=r||this.parentInjector;if(!i&&null==f.ngModule){const N=(a?p:this.parentInjector).get(Qe,null);N&&(i=N)}ve(f.componentType??{});const E=f.create(p,o,null,i);return this.insertImpl(E.hostView,d,di(this._hostTNode,null)),E}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function tf(e){return kt(e[Je])}(o)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const f=o[Je],p=new Jy(f,f[Nt],f[Je]);p.detach(p.indexOf(t))}}const i=this._adjustIndex(n),a=this._lContainer;return function Ds(e,t,n,r=!0){const o=t[H];if(function fD(e,t,n,r){const o=rt+r,i=n.length;r>0&&(n[o-1][Xt]=t),r<i-rt?(t[Xt]=n[o],Oo(n,rt+r,t)):(n.push(t),t[Xt]=null),t[Je]=n;const a=t[En];null!==a&&n!==a&&Vm(a,t);const d=t[Zn];null!==d&&d.insertView(e),vr(t),t[re]|=128}(o,t,e,n),r){const a=Zf(n,e),d=t[ce],f=qf(d,e[Gt]);null!==f&&function lD(e,t,n,r,o,i){r[qe]=o,r[Nt]=t,xl(e,r,n,1,o,i)}(o,e[Nt],d,t,f,a)}const i=t[St];null!==i&&null!==i.firstChild&&(i.firstChild=null)}(a,o,i,r),t.attachToViewContainerRef(),Oo(Ch(a),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Zy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=gc(this._lContainer,n);r&&(Wt(Ch(this._lContainer),n),Al(r[H],r))}detach(t){const n=this._adjustIndex(t,-1),r=gc(this._lContainer,n);return r&&null!=Wt(Ch(this._lContainer),n)?new wc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Zy(e){return e[8]}function Ch(e){return e[8]||(e[8]=[])}function Qy(e,t){let n;const r=t[e.index];return kt(r)?n=r:(n=cy(r,t,null,e),t[e.index]=n,kl(t,n)),Yy(n,t,e,r),new Jy(n,e,t)}let Yy=function ev(e,t,n,r){if(e[Gt])return;let o;o=8&n.type?Se(r):function vS(e,t){const n=e[ce],r=n.createComment(""),o=dt(t,e);return ci(n,qf(n,o),r,function gD(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[Gt]=o},Sh=()=>!1;class Th{constructor(t){this.queryList=t,this.matches=null}clone(){return new Th(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ah{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const a=n.getByIndex(i);o.push(this.queries[a.indexInDeclarationView].clone())}return new Ah(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Rh(t,n).matches&&this.queries[n].setDirty()}}class tv{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function SS(e){return e.split(",").map(t=>t.trim())}(t):t}}class Mh{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Mh(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xh{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new xh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,bS(n,i)),this.matchTNodeWithReadOption(t,n,sl(n,t,i,!1,!1))}else r===Ic?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,sl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===rc||o===zl||o===Ic&&4&n.type)this.addMatch(n.index,-2);else{const i=sl(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function bS(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function DS(e,t,n,r){return-1===n?function ES(e,t){return 11&e.type?ps(e,t):4&e.type?Ol(e,t):null}(t,e):-2===n?function CS(e,t,n){return n===rc?ps(t,e):n===Ic?Ol(t,e):n===zl?Qy(t,e):void 0}(e,t,r):ii(e,e[H],n,t)}function nv(e,t,n,r){const o=t[Zn].queries[r];if(null===o.matches){const i=e.data,a=n.matches,d=[];for(let f=0;null!==a&&f<a.length;f+=2){const p=a[f];d.push(p<0?null:DS(t,i[p],a[f+1],n.metadata.read))}o.matches=d}return o.matches}function Nh(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const a=nv(e,t,o,n);for(let d=0;d<i.length;d+=2){const f=i[d];if(f>0)r.push(a[d/2]);else{const p=i[d+1],y=t[-f];for(let _=rt;_<y.length;_++){const b=y[_];b[En]===b[Je]&&Nh(b[H],b,p,r)}if(null!==y[fr]){const _=y[fr];for(let b=0;b<_.length;b++){const E=_[b];Nh(E[H],E,p,r)}}}}}return r}function rv(e,t,n){const r=new mf(!(4&~n));return function TD(e,t,n,r){const o=ly(t);o.push(n),e.firstCreatePass&&dy(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[Zn]??=new Ah).queries.push(new Th(r))-1}function sv(e,t,n){null===e.queries&&(e.queries=new Mh),e.queries.track(new xh(t,n))}function Rh(e,t){return e.queries.getByIndex(t)}function av(e,t){const n=e[H],r=Rh(n,t);return r.crossesNgTemplate?Nh(n,e,t,[]):nv(n,e,r,t)}const cv=new Set;function on(e){cv.has(e)||(cv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function lv(e,t){on("NgSignals");const n=function Gr(e){const t=Object.create(ra);t.value=e;const n=()=>(F(t),t.value);return n[J]=t,n}(e),r=n[J];return t?.equal&&(r.equal=t.equal),n.set=o=>Ii(r,o),n.update=o=>function Do(e,t){We()||Ze(),Ii(e,t(e.value))}(r,o),n.asReadonly=dv.bind(n),n}function dv(){const e=this[J];if(void 0===e.readonlyFn){const t=()=>this();t[J]=e,e.readonlyFn=t}return e.readonlyFn}function fv(e){return function uv(e){return"function"==typeof e&&void 0!==e[J]}(e)&&"function"==typeof e.set}function Oh(e){let t=function Ev(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(tn(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const a=e;a.inputs=Gl(e.inputs),a.inputTransforms=Gl(e.inputTransforms),a.declaredInputs=Gl(e.declaredInputs),a.outputs=Gl(e.outputs);const d=o.hostBindings;d&&US(e,d);const f=o.viewQuery,p=o.contentQueries;if(f&&VS(e,f),p&&HS(e,p),jS(e,o),Nd(e.outputs,o.outputs),tn(o)&&o.data.animation){const y=e.data;y.animation=(y.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let a=0;a<i.length;a++){const d=i[a];d&&d.ngInherit&&d(e),d===Oh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function FS(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=io(o.hostAttrs,n=io(n,o.hostAttrs))}}(r)}function jS(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Gl(e){return e===Rn?{}:e===ke?[]:e}function VS(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function HS(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function US(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function Av(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}e.inputTransforms=n}class pi{}class Mv{}function KS(e,t){return new jh(e,t??null,[])}class jh extends pi{constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ky(this);const i=Ft(t);this._bootstrapComponents=Mn(i.bootstrap),this._r3Injector=Tg(t,n,[{provide:pi,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver},...r],yt(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Fh extends Mv{constructor(t){super(),this.moduleType=t}create(t){return new jh(this.moduleType,t,[])}}class xv extends pi{constructor(t){super(),this.componentFactoryResolver=new Ky(this),this.instance=null;const n=new Xe([...t.providers,{provide:pi,useValue:this},{provide:Ul,useValue:this.componentFactoryResolver}],t.parent||Uo(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Vh(e,t,n=null){return new xv({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Kl(e){return!!Hh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Hh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function It(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Oc(e,t,n,r,o,i,a,d,f,p){const y=n+Q,_=t.firstCreatePass?function XS(e,t,n,r,o,i,a,d,f){const p=t.consts,y=li(t,e,4,a||null,d||null);rh(t,n,y,fn(p,f)),l(t,y);const _=y.tView=nh(2,y,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,p,null);return null!==t.queries&&(t.queries.template(t,y),_.queries=t.queries.embeddedTView(y)),y}(y,t,e,r,o,i,a,d,f):t.data[y];Sn(_,!1);const b=Nv(t,e,_,n);u()&&Ml(t,e,b,_),qt(b,e);const E=cy(b,e,b,_);return e[y]=E,kl(e,E),function Xy(e,t,n){return Sh(e,t,n)}(E,_,e),Zo(_)&&eh(t,e,_),null!=f&&th(e,_,p),_}function Uh(e,t,n,r,o,i,a,d){const f=M(),p=Ie();return Oc(f,p,e,t,n,r,o,fn(p.consts,i),a,d),Uh}let Nv=function kv(e,t,n,r){return s(!0),t[ce].createComment("")};var xs=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(xs||{});let Fv=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=He({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Fc{constructor(){this.ngZone=ne(st),this.scheduler=ne(Ss),this.errorHandler=ne(Br,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[xs.EarlyRead,xs.Write,xs.MixedReadWrite,xs.Read]}execute(){this.executing=!0;for(const t of Fc.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=He({token:Fc,providedIn:"root",factory:()=>new Fc})}}function Xh(e,t,n,r){const o=M();return It(o,nn(),t)&&(Ie(),Sr(Le(),o,e,t,n,r)),Xh}function Fs(e,t,n,r,o,i){const d=function gi(e,t,n,r){const o=It(e,t,n);return It(e,t+1,r)||o}(e,function Xn(){return se.lFrame.bindingIndex}(),n,o);return An(2),d?t+pe(n)+r+pe(o)+i:_e}function ed(e,t){return e<<17|t<<2}function Io(e){return e>>17&32767}function ep(e){return 2|e}function yi(e){return(131068&e)>>2}function tp(e,t){return-131069&e|t<<2}function np(e){return 1|e}function f_(e,t,n,r){const o=e[n+1],i=null===t;let a=r?Io(o):yi(o),d=!1;for(;0!==a&&(!1===d||i);){const p=e[a+1];UT(e[a],t)&&(d=!0,e[a+1]=r?np(p):ep(p)),a=r?Io(p):yi(p)}d&&(e[n+1]=r?ep(o):np(o))}function UT(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&$n(e,t)>=0}function rp(e,t,n){const r=M();return It(r,nn(),t)&&pn(Ie(),Le(),r,e,t,r[ce],n,!1),rp}function op(e,t,n,r,o){const a=o?"class":"style";ah(e,n,t.inputs[a],a,r)}function ip(e,t){return function er(e,t,n,r){const o=M(),i=Ie(),a=An(2);i.firstUpdatePass&&function I_(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[Ge()],a=function w_(e,t){return t>=e.expandoStartIndex}(e,n);(function C_(e,t){return!!(e.flags&(t?8:16))})(i,r)&&null===t&&!a&&(t=!1),t=function ZT(e,t,n,r){const o=function ni(e){const t=se.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Hc(n=sp(null,e,t,n,r),t.attrs,r),i=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==o)if(n=sp(o,e,t,n,r),null===i){let f=function QT(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==yi(r))return e[Io(r)]}(e,t,r);void 0!==f&&Array.isArray(f)&&(f=sp(null,e,t,f[1],r),f=Hc(f,t.attrs,r),function YT(e,t,n,r){e[Io(n?t.classBindings:t.styleBindings)]=r}(e,t,r,f))}else i=function XT(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=Hc(r,e[i].hostAttrs,n);return Hc(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function VT(e,t,n,r,o,i){let a=i?t.classBindings:t.styleBindings,d=Io(a),f=yi(a);e[r]=n;let y,p=!1;if(Array.isArray(n)?(y=n[1],(null===y||$n(n,y)>0)&&(p=!0)):y=n,o)if(0!==f){const b=Io(e[d+1]);e[r+1]=ed(b,d),0!==b&&(e[b+1]=tp(e[b+1],r)),e[d+1]=function jT(e,t){return 131071&e|t<<17}(e[d+1],r)}else e[r+1]=ed(d,0),0!==d&&(e[d+1]=tp(e[d+1],r)),d=r;else e[r+1]=ed(f,0),0===d?d=r:e[f+1]=tp(e[f+1],r),f=r;p&&(e[r+1]=ep(e[r+1])),f_(e,y,r,!0),f_(e,y,r,!1),function HT(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&$n(i,t)>=0&&(n[r+1]=np(n[r+1]))}(t,y,e,r,i),a=ed(d,f),i?t.classBindings=a:t.styleBindings=a}(o,i,t,n,a,r)}}(i,e,a,r),t!==_e&&It(o,a,t)&&function E_(e,t,n,r,o,i,a,d){if(!(3&t.type))return;const f=e.data,p=f[d+1],y=function FT(e){return!(1&~e)}(p)?D_(f,t,n,o,yi(p),a):void 0;td(y)||(td(i)||function LT(e){return!(2&~e)}(p)&&(i=D_(f,null,n,o,d,a)),function vD(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Sl.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Sl.Important),e.setStyle(n,r,o,i))}}(r,a,gr(Ge(),n),o,i))}(i,i.data[Ge()],o,o[ce],e,o[a+1]=function r0(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=yt(yo(e)))),e}(t,n),r,a)}(e,t,null,!0),ip}function sp(e,t,n,r,o){let i=null;const a=n.directiveEnd;let d=n.directiveStylingLast;for(-1===d?d=n.directiveStart:d++;d<a&&(i=t[d],r=Hc(r,i.hostAttrs,o),i!==e);)d++;return null!==e&&(n.directiveStylingLast=d),r}function Hc(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const a=t[i];"number"==typeof a?o=a:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),$t(e,a,!!n||t[++i]))}return void 0===e?null:e}function D_(e,t,n,r,o,i){const a=null===t;let d;for(;o>0;){const f=e[o],p=Array.isArray(f),y=p?f[1]:f,_=null===y;let b=n[o+1];b===_e&&(b=_?ke:void 0);let E=_?Rr(b,r):y===r?b:void 0;if(p&&!td(E)&&(E=Rr(f,r)),td(E)&&(d=E,a))return d;const S=e[o+1];o=a?Io(S):yi(S)}if(null!==t){let f=i?t.residualClasses:t.residualStyles;null!=f&&(d=Rr(f,r))}return d}function td(e){return void 0!==e}function rd(e,t,n,r){const o=M(),i=Ie(),a=Q+e,d=o[ce],f=i.firstCreatePass?function S0(e,t,n,r,o,i){const a=t.consts,f=li(t,e,2,r,fn(a,o));return rh(t,n,f,fn(a,i)),null!==f.attrs&&Wl(f,f.attrs,!1),null!==f.mergedAttrs&&Wl(f,f.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,f),f}(a,i,o,t,n,r):i.data[a],p=M_(i,o,f,d,t,e);o[a]=p;const y=Zo(f);return Sn(f,!0),Qm(d,p,f),!function As(e){return!(32&~e.flags)}(f)&&u()&&Ml(i,o,p,f),0===function jn(){return se.lFrame.elementDepthCount}()&&qt(p,o),function wr(){se.lFrame.elementDepthCount++}(),y&&(eh(i,o,f),Xf(i,f,o)),null!==r&&th(o,f),rd}function od(){let e=Ve();os()?is():(e=e.parent,Sn(e,!1));const t=e;(function nf(e){return se.skipHydrationRootTNode===e})(t)&&function qu(){se.skipHydrationRootTNode=null}(),function Ga(){se.lFrame.elementDepthCount--}();const n=Ie();return n.firstCreatePass&&(l(n,e),Jo(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function P(e){return!!(8&e.flags)}(t)&&op(n,t,M(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function O(e){return!!(16&e.flags)}(t)&&op(n,t,M(),t.stylesWithoutHost,!1),od}function lp(e,t,n,r){return rd(e,t,n,r),od(),lp}let M_=(e,t,n,r,o,i)=>(s(!0),Tl(r,o,function ds(){return se.lFrame.currentNamespace}()));function dp(e,t,n){const r=M(),o=Ie(),i=e+Q,a=o.firstCreatePass?function M0(e,t,n,r,o){const i=t.consts,a=fn(i,r),d=li(t,e,8,"ng-container",a);return null!==a&&Wl(d,a,!0),rh(t,n,d,fn(i,o)),null!==t.queries&&t.queries.elementStart(t,d),d}(i,o,r,t,n):o.data[i];Sn(a,!0);const d=x_(o,r,a,e);return r[i]=d,u()&&Ml(o,r,d,a),qt(d,r),Zo(a)&&(eh(o,r,a),Xf(o,a,r)),null!=n&&th(r,a),dp}function fp(){let e=Ve();const t=Ie();return os()?is():(e=e.parent,Sn(e,!1)),t.firstCreatePass&&(l(t,e),Jo(e)&&t.queries.elementEnd(e)),fp}function hp(e,t,n){return dp(e,t,n),fp(),hp}let x_=(e,t,n,r)=>(s(!0),zf(t[ce],""));function N_(){return M()}const vi=void 0;var R0=["en",[["a","p"],["AM","PM"],vi],[["AM","PM"],vi,vi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vi,"{1} 'at' {0}",vi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function k0(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Gs={};function pp(e){const t=function P0(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=O_(t);if(n)return n;const r=t.split("-")[0];if(n=O_(r),n)return n;if("en"===r)return R0;throw new $(701,!1)}function P_(e){return pp(e)[Ks.PluralCase]}function O_(e){return e in Gs||(Gs[e]=pt.ng&&pt.ng.common&&pt.ng.common.locales&&pt.ng.common.locales[e]),Gs[e]}var Ks=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ks||{});const id="en-US";let L_=id,ew=(e,t,n)=>{};function yp(e,t,n,r){const o=M(),i=Ie(),a=Ve();return vp(i,o,o[ce],a,e,t,r),yp}function vp(e,t,n,r,o,i,a){const d=Zo(r),p=e.firstCreatePass&&dy(e),y=t[Ce],_=ly(t);let b=!0;if(3&r.type||a){const N=dt(r,t),U=a?a(N):N,W=_.length,x=a?xe=>a(Se(xe[r.index])):r.index;let fe=null;if(!a&&d&&(fe=function bA(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const a=o[i];if(a===n&&o[i+1]===r){const d=t[ur],f=o[i+2];return d.length>f?d[f]:null}"string"==typeof a&&(i+=2)}return null}(e,t,o,r.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=i,fe.__ngLastListenerFn__=i,b=!1;else{i=ow(r,t,y,i),ew(N,o,i);const xe=n.listen(U,o,i);_.push(i,xe),p&&p.push(o,x,W,W+1)}}else i=ow(r,t,y,i);const E=r.outputs;let S;if(b&&null!==E&&(S=E[o])){const N=S.length;if(N)for(let U=0;U<N;U+=2){const Ke=t[S[U]][S[U+1]].subscribe(i),Dt=_.length;_.push(i,Ke),p&&p.push(o,r.index,Dt,-(Dt+1))}}}function rw(e,t,n,r){const o=z(null);try{return Dn(6,t,n),!1!==n(r)}catch(i){return Rl(e,i),!1}finally{Dn(7,t,n),z(o)}}function ow(e,t,n,r){return function o(i){if(i===Function)return r;_c(e.componentOffset>-1?wt(e.index,t):t,5);let d=rw(t,n,r,i),f=o.__ngNextListenerFn__;for(;f;)d=rw(t,n,f,i)&&d,f=f.__ngNextListenerFn__;return d}}function iw(e=1){return function Me(e){return(se.lFrame.contextLView=function yr(e,t){for(;e>0;)t=t[en],e--;return t}(e,se.lFrame.contextLView))[Ce]}(e)}function gw(e,t,n,r){!function iv(e,t,n,r){const o=Ie();if(o.firstCreatePass){const i=Ve();sv(o,new tv(t,n,r),i.index),function TS(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return rv(o,M(),n)}(e,t,n,r)}function mw(e,t,n){!function ov(e,t,n){const r=Ie();return r.firstCreatePass&&(sv(r,new tv(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),rv(r,M(),t)}(e,t,n)}function yw(e){const t=M(),n=Ie(),r=Qa();cs(r+1);const o=Rh(n,r);if(e.dirty&&function Vr(e){return!(4&~e[re])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=av(t,r);e.reset(i,Lg),e.notifyOnChanges()}return!0}return!1}function vw(){return function kh(e,t){return e[Zn].queries[t].queryList}(M(),Qa())}function Aw(e,t=""){const n=M(),r=Ie(),o=e+Q,i=r.firstCreatePass?li(r,o,1,t,null):r.data[o],a=Mw(r,n,i,t,e);n[o]=a,u()&&Ml(r,n,a,i),Sn(i,!1)}let Mw=(e,t,n,r,o)=>(s(!0),function Wf(e,t){return e.createText(t)}(t[ce],r));function Ip(e){return ud("",e,""),Ip}function ud(e,t,n){const r=M(),o=function js(e,t,n,r){return It(e,nn(),n)?t+pe(n)+r:_e}(r,e,t,n);return o!==_e&&zr(r,Ge(),o),ud}function bp(e,t,n,r,o){const i=M(),a=Fs(i,e,t,n,r,o);return a!==_e&&zr(i,Ge(),a),bp}function Ep(e,t,n){fv(t)&&(t=t());const r=M();return It(r,nn(),t)&&pn(Ie(),Le(),r,e,t,r[ce],n,!1),Ep}function jw(e,t){const n=fv(e);return n&&e.set(t),n}function Dp(e,t){const n=M(),r=Ie(),o=Ve();return vp(r,n,n[ce],o,e,t),Dp}function Cp(e,t,n,r,o){if(e=ue(e),Array.isArray(e))for(let i=0;i<e.length;i++)Cp(e[i],t,n,r,o);else{const i=Ie(),a=M(),d=Ve();let f=qn(e)?e:ue(e.provide);const p=Oa(e),y=1048575&d.providerIndexes,_=d.directiveStart,b=d.providerIndexes>>20;if(qn(e)||!e.multi){const E=new T(p,o,bs),S=Tp(f,t,o?y:y+b,_);-1===S?(cf(ol(d,a),i,f),Sp(i,e,t.length),t.push(f),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(E),a.push(E)):(n[S]=E,a[S]=E)}else{const E=Tp(f,t,y+b,_),S=Tp(f,t,y,y+b),U=S>=0&&n[S];if(o&&!U||!o&&!(E>=0&&n[E])){cf(ol(d,a),i,f);const W=function KA(e,t,n,r,o){const i=new T(e,n,bs);return i.multi=[],i.index=t,i.componentProviders=0,Hw(i,o,r&&!n),i}(o?GA:$A,n.length,o,r,p);!o&&U&&(n[S].providerFactory=W),Sp(i,e,t.length,0),t.push(f),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(W),a.push(W)}else Sp(i,e,E>-1?E:S,Hw(n[o?S:E],p,!o&&r));!o&&r&&U&&n[S].componentProviders++}}}function Sp(e,t,n,r){const o=qn(t),i=function Mu(e){return!!e.useClass}(t);if(o||i){const f=(i?ue(t.useClass):t).prototype.ngOnDestroy;if(f){const p=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const y=p.indexOf(n);-1===y?p.push(n,[r,f]):p[y+1].push(r,f)}else p.push(n,f)}}}function Hw(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Tp(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function $A(e,t,n,r){return Ap(this.multi,[])}function GA(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const a=this.providerFactory.componentProviders,d=ii(n,n[H],this.providerFactory.index,r);i=d.slice(0,a),Ap(o,i);for(let f=a;f<d.length;f++)i.push(d[f])}else i=[],Ap(o,i);return i}function Ap(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Uw(e,t=[]){return n=>{n.providersResolver=(r,o)=>function zA(e,t,n){const r=Ie();if(r.firstCreatePass){const o=tn(e);Cp(n,r.data,r.blueprint,o,!0),Cp(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}let qA=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Ma(0,n.type),o=r.length>0?Vh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=He({token:e,providedIn:"environment",factory:()=>new e(et(Qe))})}}return e})();function Bw(e){on("NgStandalone"),e.getStandaloneInjector=t=>t.get(qA).getOrCreateStandaloneInjector(e)}class dI{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let fI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const yI=new me(""),vI=new me("");let Pp,cx=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Pp||(function ux(e){Pp=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{st.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(et(st),et(_I),et(vI))}}static{this.\u0275prov=He({token:e,factory:e.\u0275fac})}}return e})(),_I=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Pp?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Op(e){return!!e&&"function"==typeof e.then}function wI(e){return!!e&&"function"==typeof e.subscribe}const lx=new me("");let II=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ne(lx,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(Op(i))n.push(i);else if(wI(i)){const a=new Promise((d,f)=>{i.subscribe({complete:d,error:f})});n.push(a)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const pd=new me("");let xr=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ne(Hb),this.afterRenderManager=ne(Fv),this.zonelessEnabled=ne(Mc),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ei.B,this.afterTick=new Ei.B,this.componentTypes=[],this.components=[],this.isStable=ne(si).hasPendingTasks.pipe((0,ou.T)(n=>!n)),this._injector=ne(Qe)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Wy;if(!this._injector.get(II).done)throw!o&&cr(n),new $(405,!1);let a;a=o?n:this._injector.get(Ul).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const d=function dx(e){return e.isBoundToModule}(a)?void 0:this._injector.get(pi),p=a.create(Kt.NULL,[],r||a.selector,d),y=p.location.nativeElement,_=p.injector.get(yI,null);return _?.registerApplication(y),p.onDestroy(()=>{this.detachView(p.hostView),gd(this.components,p),_?.unregisterApplication(y)}),this._loadComponent(p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);const n=z(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,z(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(bh,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:i}of this._views)px(o,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>Cn(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;gd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(pd,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>gd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new $(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function gd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function px(e,t,n,r){(n||Cn(e))&&Pl(e,t,n&&!r?0:1)}class gx{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let mx=(()=>{class e{compileModuleSync(n){return new Fh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=Mn(Ft(n).declarations).reduce((a,d)=>{const f=ve(d);return f&&a.push(new kc(f)),a},[]);return new gx(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),_x=(()=>{class e{constructor(){this.zone=ne(st),this.changeDetectionScheduler=ne(Ss),this.applicationRef=ne(xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Lp({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new st({...jp(),scheduleInRootZone:n}),[{provide:st,useFactory:e},{provide:Pn,multi:!0,useFactory:()=>{const r=ne(_x,{optional:!0});return()=>r.initialize()}},{provide:Pn,multi:!0,useFactory:()=>{const r=ne(Ix);return()=>{r.initialize()}}},!0===t?{provide:By,useValue:!0}:[],{provide:Ih,useValue:n??Mg}]}function jp(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let Ix=(()=>{class e{constructor(){this.subscription=new To.yU,this.initialized=!1,this.zone=ne(st),this.pendingTasks=ne(si)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{st.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{st.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Zc=(()=>{class e{constructor(){this.appRef=ne(xr),this.taskService=ne(si),this.ngZone=ne(st),this.zonelessEnabled=ne(Mc),this.disableScheduling=ne(By,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new To.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ll):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ne(Ih,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?Ng:xg;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ll+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ng(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=He({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Vp=new me("",{providedIn:"root",factory:()=>ne(Vp,be.Optional|be.SkipSelf)||function bx(){return typeof $localize<"u"&&$localize.locale||id}()}),Ex=new me("",{providedIn:"root",factory:()=>"USD"}),yd=new me("");function vd(e){return!e.moduleRef}let bo=null;const Zs=new me("");let PI=(()=>{class e{static{this.__NG_ELEMENT_ID__=kx}}return e})();function kx(e){return function Rx(e,t,n){if(hr(e)&&!n){const r=wt(e.index,t);return new wc(r,r)}return 175&e.type?new wc(t[Ue],t):null}(Ve(),M(),!(16&~e))}class FI{constructor(){}supports(t){return Kl(t)}create(t){return new Fx(t)}}const jx=(e,t)=>t;class Fx{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||jx}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const a=!r||n&&n.currentIndex<HI(r,o,i)?n:r,d=HI(a,o,i),f=a.currentIndex;if(a===r)o--,r=r._nextRemoved;else if(n=n._next,null==a.previousIndex)o++;else{i||(i=[]);const p=d-o,y=f-o;if(p!=y){for(let b=0;b<p;b++){const E=b<i.length?i[b]:i[b]=0,S=E+b;y<=S&&S<p&&(i[b]=E+1)}i[a.previousIndex]=y-p}}d!==f&&t(a,d,f)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Kl(t))throw new $(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,a,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)i=t[d],a=this._trackByFn(d,i),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,i,a,d)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,a,d),r=!0),n=n._next}else o=0,function QS(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,d=>{a=this._trackByFn(o,d),null!==n&&Object.is(n.trackById,a)?(r&&(n=this._verifyReinsertion(n,d,a,o)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,a,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new Vx(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new VI),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VI),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Vx{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class VI{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new Hx,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function HI(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class UI{constructor(){}supports(t){return t instanceof Map||Hh(t)}create(){return new Ux}}class Ux{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Hh(t)))throw new $(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const i=o._prev,a=o._next;return i&&(i._next=a),a&&(a._prev=i),o._next=null,o._prev=null,o}const r=new Bx(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class Bx{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BI(){return new zp([new FI])}let zp=(()=>{class e{static{this.\u0275prov=He({token:e,providedIn:"root",factory:BI})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||BI()),deps:[[e,new tt,new Po]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new $(901,!1)}}return e})();function WI(){return new $p([new UI])}let $p=(()=>{class e{static{this.\u0275prov=He({token:e,providedIn:"root",factory:WI})}constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||WI()),deps:[[e,new tt,new Po]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new $(901,!1)}}return e})();function nN(e){const{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;try{const i=o?.injector??function Nx(e=[]){if(bo)return bo;const t=function NI(e=[],t){return Kt.create({name:t,providers:[{provide:Or,useValue:"platform"},{provide:yd,useValue:new Set([()=>bo=null])},...e]})}(e);return t.get(Zs,!1)||(bo=t),function bI(){!function ta(e){ea=e}(()=>{throw new $(600,!1)})}(),function kI(e){e.get(nm,null)?.forEach(n=>n())}(t),t}(r);if(!0===i.get(Zs,!1)&&!e.platformRef)throw new $(401,!1);const a=[Lp({}),{provide:Ss,useExisting:Zc},...n||[]];return function MI(e){const t=vd(e)?e.r3Injector:e.moduleRef.injector,n=t.get(st);return n.run(()=>{vd(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(Br,null);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),vd(e)){const i=()=>t.destroy(),a=e.platformInjector.get(yd);a.add(i),t.onDestroy(()=>{o.unsubscribe(),a.delete(i)})}else{const i=()=>e.moduleRef.destroy(),a=e.platformInjector.get(yd);a.add(i),e.moduleRef.onDestroy(()=>{gd(e.allPlatformModules,e.moduleRef),o.unsubscribe(),a.delete(i)})}return function hx(e,t,n){try{const r=n();return Op(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(r,n,()=>{const i=t.get(II);return i.runInitializers(),i.donePromise.then(()=>{if(function F0(e){"string"==typeof e&&(L_=e.toLowerCase().replace(/_/g,"-"))}(t.get(Vp,id)||id),vd(e)){const d=t.get(xr);return void 0!==e.rootComponent&&d.bootstrap(e.rootComponent),d}return function Ax(e,t){const n=e.injector.get(xr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new $(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new xv({providers:a,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}}function bN(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function DN(e,t){on("NgSignals");const n=function Ys(e){const t=Object.create(Ad);t.computation=e;const n=()=>{if(mt(t),F(t),t.value===wi)throw t.error;return t.value};return n[J]=t,n}(e);return t?.equal&&(n[J].equal=t.equal),n}function CN(e){const t=z(null);try{return e()}finally{z(t)}}},8279:(ft,ge,B)=>{B.r(ge),B.d(ge,{APP_CONFIG:()=>Z,AUTH0_CONFIG:()=>Me,AuthService:()=>ls,EventBus:()=>we,EventBusService:()=>he,STORAGE_CONFIG:()=>Ge,STORAGE_KEYS:()=>Vt,configureAuth0:()=>of,getAuthService:()=>rl,getEventBusService:()=>an,getStorageItem:()=>Le,removeStorageItem:()=>tc,setStorageItem:()=>ec});var D=B(467),q=B(1413);const de={now:()=>(de.delegate||Date).now(),delegate:void 0};class Y extends q.B{constructor(s=1/0,c=1/0,l=de){super(),this._bufferSize=s,this._windowTime=c,this._timestampProvider=l,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=c===1/0,this._bufferSize=Math.max(1,s),this._windowTime=Math.max(1,c)}next(s){const{isStopped:c,_buffer:l,_infiniteTimeWindow:h,_timestampProvider:g,_windowTime:m}=this;c||(l.push(s),!h&&l.push(g.now()+m)),this._trimBuffer(),super.next(s)}_subscribe(s){this._throwIfClosed(),this._trimBuffer();const c=this._innerSubscribe(s),{_infiniteTimeWindow:l,_buffer:h}=this,g=h.slice();for(let m=0;m<g.length&&!s.closed;m+=l?1:2)s.next(g[m]);return this._checkFinalizedStatuses(s),c}_trimBuffer(){const{_bufferSize:s,_timestampProvider:c,_buffer:l,_infiniteTimeWindow:h}=this,g=(h?1:2)*s;if(s<1/0&&g<l.length&&l.splice(0,l.length-g),!h){const m=c.now();let v=0;for(let w=1;w<l.length&&l[w]<=m;w+=2)v=w;v&&l.splice(0,v+1)}}}var J=B(4412),z=B(5964),Ne=B(6354),je=B(4438);class we{eventSubject=new q.B;emit(s,c){this.eventSubject.next({type:s,data:c,timestamp:Date.now()})}on(s){return this.eventSubject.asObservable().pipe((0,z.p)(c=>c.type===s),(0,Ne.T)(c=>c.data))}onMultiple(s){return this.eventSubject.asObservable().pipe((0,z.p)(c=>s.includes(c.type)))}onAll(){return this.eventSubject.asObservable()}}const Z={auth0Domain:"",auth0ClientId:"",apiUrl:""};function F(u,s,c,l){var m,h=arguments.length,g=h<3?s:null===l?l=Object.getOwnPropertyDescriptor(s,c):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(u,s,c,l);else for(var v=u.length-1;v>=0;v--)(m=u[v])&&(g=(h<3?m(g):h>3?m(s,c,g):m(s,c))||g);return h>3&&g&&Object.defineProperty(s,c,g),g}function te(u,s){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(u,s)}"function"==typeof SuppressedError&&SuppressedError;let he=class{onePlusNEvents;emitter=function mt(u){return{all:u=u||new Map,on:function(s,c){var l=u.get(s);l?l.push(c):u.set(s,[c])},off:function(s,c){var l=u.get(s);l&&(c?l.splice(l.indexOf(c)>>>0,1):u.set(s,[]))},emit:function(s,c){var l=u.get(s);l&&l.slice().map(function(h){h(c)}),(l=u.get("*"))&&l.slice().map(function(h){h(s,c)})}}}();constructor(){console.log("[EventBusService] Service initialized");const s=new Event("EventBusServiceCreated");this.onePlusNEvents=new Y(100),this.onePlusNEvents.next(s.type),this.emitter.on("*",c=>{console.log("[EventBusService] Event received and forwarded to ReplaySubject:",c),this.onePlusNEvents.next(c)}),console.log("[EventBusService] Event listener registered for all events")}sendEvent(s){console.log("[EventBusService] sendEvent() called with:",s),this.emitter.emit(s),console.log("[EventBusService] Event emitted successfully")}};he=F([(0,je._qm)(),te("design:paramtypes",[])],he);const We=new he;function an(){return We}function Pe(u,s){var c={};for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&s.indexOf(l)<0&&(c[l]=u[l]);if(null!=u&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(l=Object.getOwnPropertySymbols(u);h<l.length;h++)s.indexOf(l[h])<0&&Object.prototype.propertyIsEnumerable.call(u,l[h])&&(c[l[h]]=u[l[h]])}return c}"function"==typeof SuppressedError&&SuppressedError;var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jt={},Un={};Object.defineProperty(Un,"__esModule",{value:!0});var ht=function(){function u(){var s=this;this.locked=new Map,this.addToLocked=function(c,l){var h=s.locked.get(c);void 0===h?s.locked.set(c,void 0===l?[]:[l]):void 0!==l&&(h.unshift(l),s.locked.set(c,h))},this.isLocked=function(c){return s.locked.has(c)},this.lock=function(c){return new Promise(function(l,h){s.isLocked(c)?s.addToLocked(c,l):(s.addToLocked(c),l())})},this.unlock=function(c){var l=s.locked.get(c);if(void 0!==l&&0!==l.length){var h=l.pop();s.locked.set(c,l),void 0!==h&&setTimeout(h,0)}else s.locked.delete(c)}}return u.getInstance=function(){return void 0===u.instance&&(u.instance=new u),u.instance},u}();Un.default=function(){return ht.getInstance()};var X=at&&at.__awaiter||function(u,s,c,l){return new(c||(c=Promise))(function(h,g){function m(C){try{w(l.next(C))}catch(I){g(I)}}function v(C){try{w(l.throw(C))}catch(I){g(I)}}function w(C){C.done?h(C.value):new c(function(I){I(C.value)}).then(m,v)}w((l=l.apply(u,s||[])).next())})},Te=at&&at.__generator||function(u,s){var c,l,h,g,m={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return g={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function v(w){return function(C){return function(I){if(c)throw new TypeError("Generator is already executing.");for(;m;)try{if(c=1,l&&(h=2&I[0]?l.return:I[0]?l.throw||((h=l.return)&&h.call(l),0):l.next)&&!(h=h.call(l,I[1])).done)return h;switch(l=0,h&&(I=[2&I[0],h.value]),I[0]){case 0:case 1:h=I;break;case 4:return m.label++,{value:I[1],done:!1};case 5:m.label++,l=I[1],I=[0];continue;case 7:I=m.ops.pop(),m.trys.pop();continue;default:if(!((h=(h=m.trys).length>0&&h[h.length-1])||6!==I[0]&&2!==I[0])){m=0;continue}if(3===I[0]&&(!h||I[1]>h[0]&&I[1]<h[3])){m.label=I[1];break}if(6===I[0]&&m.label<h[1]){m.label=h[1],h=I;break}if(h&&m.label<h[2]){m.label=h[2],m.ops.push(I);break}h[2]&&m.ops.pop(),m.trys.pop();continue}I=s.call(u,m)}catch(T){I=[6,T],l=0}finally{c=h=0}if(5&I[0])throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}([w,C])}}},Ct=at;Object.defineProperty(Jt,"__esModule",{value:!0});var cn=Un,yn={key:function(u){return X(Ct,void 0,void 0,function(){return Te(this,function(s){throw new Error("Unsupported")})})},getItem:function(u){return X(Ct,void 0,void 0,function(){return Te(this,function(s){throw new Error("Unsupported")})})},clear:function(){return X(Ct,void 0,void 0,function(){return Te(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return X(Ct,void 0,void 0,function(){return Te(this,function(s){throw new Error("Unsupported")})})},setItem:function(u,s){return X(Ct,void 0,void 0,function(){return Te(this,function(c){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,s){return window.localStorage.setItem(u,s)}};function Ys(u){return new Promise(function(s){return setTimeout(s,u)})}function Eo(u){for(var c="",l=0;l<u;l++)c+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(61*Math.random())];return c}var Xs=function(){function u(s){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+Eo(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=s,void 0===u.waiters&&(u.waiters=[])}return u.prototype.acquireLock=function(s,c){return void 0===c&&(c=5e3),X(this,void 0,void 0,function(){var l,h,g,m,v,w,C;return Te(this,function(I){switch(I.label){case 0:l=Date.now()+Eo(4),h=Date.now()+c,g="browser-tabs-lock-key-"+s,m=void 0===this.storageHandler?yn:this.storageHandler,I.label=1;case 1:return Date.now()<h?[4,Ys(30)]:[3,8];case 2:return I.sent(),null!==m.getItemSync(g)?[3,5]:(v=this.id+"-"+s+"-"+l,[4,Ys(Math.floor(25*Math.random()))]);case 3:return I.sent(),m.setItemSync(g,JSON.stringify({id:this.id,iat:l,timeoutKey:v,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,Ys(30)];case 4:return I.sent(),null!==(w=m.getItemSync(g))&&(C=JSON.parse(w)).id===this.id&&C.iat===l?(this.acquiredIatSet.add(l),this.refreshLockWhileAcquired(g,l),[2,!0]):[3,7];case 5:return u.lockCorrector(void 0===this.storageHandler?yn:this.storageHandler),[4,this.waitForSomethingToChange(h)];case 6:I.sent(),I.label=7;case 7:return l=Date.now()+Eo(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(s,c){return X(this,void 0,void 0,function(){var l=this;return Te(this,function(h){return setTimeout(function(){return X(l,void 0,void 0,function(){var g,m,v;return Te(this,function(w){switch(w.label){case 0:return[4,cn.default().lock(c)];case 1:return w.sent(),this.acquiredIatSet.has(c)?null===(m=(g=void 0===this.storageHandler?yn:this.storageHandler).getItemSync(s))?(cn.default().unlock(c),[2]):((v=JSON.parse(m)).timeRefreshed=Date.now(),g.setItemSync(s,JSON.stringify(v)),cn.default().unlock(c),this.refreshLockWhileAcquired(s,c),[2]):(cn.default().unlock(c),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(s){return X(this,void 0,void 0,function(){return Te(this,function(c){switch(c.label){case 0:return[4,new Promise(function(l){var h=!1,g=Date.now(),m=!1;function v(){if(m||(window.removeEventListener("storage",v),u.removeFromWaiting(v),clearTimeout(w),m=!0),!h){h=!0;var C=50-(Date.now()-g);C>0?setTimeout(l,C):l(null)}}window.addEventListener("storage",v),u.addToWaiting(v);var w=setTimeout(v,Math.max(0,s-Date.now()))})];case 1:return c.sent(),[2]}})})},u.addToWaiting=function(s){this.removeFromWaiting(s),void 0!==u.waiters&&u.waiters.push(s)},u.removeFromWaiting=function(s){void 0!==u.waiters&&(u.waiters=u.waiters.filter(function(c){return c!==s}))},u.notifyWaiters=function(){void 0!==u.waiters&&u.waiters.slice().forEach(function(s){return s()})},u.prototype.releaseLock=function(s){return X(this,void 0,void 0,function(){return Te(this,function(c){switch(c.label){case 0:return[4,this.releaseLock__private__(s)];case 1:return[2,c.sent()]}})})},u.prototype.releaseLock__private__=function(s){return X(this,void 0,void 0,function(){var c,l,h,g;return Te(this,function(m){switch(m.label){case 0:return null===(h=(c=void 0===this.storageHandler?yn:this.storageHandler).getItemSync(l="browser-tabs-lock-key-"+s))?[2]:(g=JSON.parse(h)).id!==this.id?[3,2]:[4,cn.default().lock(g.iat)];case 1:m.sent(),this.acquiredIatSet.delete(g.iat),c.removeItemSync(l),cn.default().unlock(g.iat),u.notifyWaiters(),m.label=2;case 2:return[2]}})})},u.lockCorrector=function(s){for(var c=Date.now()-5e3,l=s,h=[],g=0;;){var m=l.keySync(g);if(null===m)break;h.push(m),g++}for(var v=!1,w=0;w<h.length;w++){var C=h[w];if(C.includes("browser-tabs-lock-key")){var I=l.getItemSync(C);if(null!==I){var T=JSON.parse(I);(void 0===T.timeRefreshed&&T.timeAcquired<c||void 0!==T.timeRefreshed&&T.timeRefreshed<c)&&(l.removeItemSync(C),v=!0)}}}v&&u.notifyWaiters()},u.waiters=void 0,u}(),wi=Jt.default=Xs;const Ad={timeoutInSeconds:60},eu={name:"auth0-spa-js",version:"2.13.0"},ea=()=>Date.now();class Ze extends Error{constructor(s,c){super(c),this.error=s,this.error_description=c,Object.setPrototypeOf(this,Ze.prototype)}static fromPayload(s){let{error:c,error_description:l}=s;return new Ze(c,l)}}class ta extends Ze{constructor(s,c,l){let h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(s,c),this.state=l,this.appState=h,Object.setPrototypeOf(this,ta.prototype)}}class $r extends Ze{constructor(s,c,l,h){let g=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(s,c),this.connection=l,this.state=h,this.appState=g,Object.setPrototypeOf(this,$r.prototype)}}class Gr extends Ze{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Gr.prototype)}}class tu extends Gr{constructor(s){super(),this.popup=s,Object.setPrototypeOf(this,tu.prototype)}}class nu extends Ze{constructor(s){super("cancelled","Popup closed"),this.popup=s,Object.setPrototypeOf(this,nu.prototype)}}class Ii extends Ze{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,Ii.prototype)}}class Do extends Ze{constructor(s,c,l,h){super(s,c),this.mfa_token=l,this.mfa_requirements=h,Object.setPrototypeOf(this,Do.prototype)}}class na extends Ze{constructor(s,c){super("missing_refresh_token","Missing Refresh Token (audience: '".concat(oa(s,["default"]),"', scope: '").concat(oa(c),"')")),this.audience=s,this.scope=c,Object.setPrototypeOf(this,na.prototype)}}class ra extends Ze{constructor(s,c){super("missing_scopes","Missing requested scopes after refresh (audience: '".concat(oa(s,["default"]),"', missing scope: '").concat(oa(c),"')")),this.audience=s,this.scope=c,Object.setPrototypeOf(this,ra.prototype)}}class bi extends Ze{constructor(s){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=s,Object.setPrototypeOf(this,bi.prototype)}}function oa(u){return u&&!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).includes(u)?u:""}const Co=()=>window.crypto,So=()=>{let s="";return Array.from(Co().getRandomValues(new Uint8Array(43))).forEach(c=>s+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~."[c%66]),s},ru=u=>btoa(u),Md=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],Ei=function(u){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object.keys(u).reduce((c,l)=>{if(s&&"env"===l)return c;const h=Md.find(g=>g.key===l);return h&&h.type.includes(typeof u[l])&&(c[l]=u[l]),c},{})},To=u=>{var l,{clientId:s}=u,c=Pe(u,["clientId"]);return new URLSearchParams((l=Object.assign({client_id:s},c),Object.keys(l).filter(h=>void 0!==l[h]).reduce((h,g)=>Object.assign(Object.assign({},h),{[g]:l[g]}),{}))).toString()},ou=function(){var u=(0,D.A)(function*(s){return yield Co().subtle.digest({name:"SHA-256"},(new TextEncoder).encode(s))});return function(c){return u.apply(this,arguments)}}(),xd=u=>{return s=u.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(atob(s).split("").map(c=>"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)).join(""));var s},ia=u=>{const s=new Uint8Array(u);return(c=>{const l={"+":"-","/":"_","=":""};return c.replace(/[+/=]/g,h=>l[h])})(window.btoa(String.fromCharCode(...Array.from(s))))},$=new TextEncoder,Nr=new TextDecoder;function nr(u){return"string"==typeof u?$.encode(u):Nr.decode(u)}function sa(u){if("number"!=typeof u.modulusLength||u.modulusLength<2048)throw new Kr(`${u.name} modulusLength must be at least 2048 bits`)}function iu(){return(iu=(0,D.A)(function*(u,s,c){if(!1===c.usages.includes("sign"))throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const l=`${Zt(nr(JSON.stringify(u)))}.${Zt(nr(JSON.stringify(s)))}`;return`${l}.${Zt(yield crypto.subtle.sign(function(h){switch(h.algorithm.name){case"ECDSA":return{name:h.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return sa(h.algorithm),{name:h.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return sa(h.algorithm),{name:h.algorithm.name};case"Ed25519":return{name:h.algorithm.name}}throw new un}(c),c,nr(l)))}`})).apply(this,arguments)}let Di;function Zt(u){return Di(u)}Di=Uint8Array.prototype.toBase64?u=>(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),u.toBase64({alphabet:"base64url",omitPadding:!0})):s=>{s instanceof ArrayBuffer&&(s=new Uint8Array(s));const c=[];for(let l=0;l<s.byteLength;l+=32768)c.push(String.fromCharCode.apply(null,s.subarray(l,l+32768)));return btoa(c.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};class un extends Error{constructor(s){var c;super(s??"operation not supported"),this.name=this.constructor.name,null===(c=Error.captureStackTrace)||void 0===c||c.call(Error,this,this.constructor)}}class Kr extends Error{constructor(s){var c;super(s),this.name=this.constructor.name,null===(c=Error.captureStackTrace)||void 0===c||c.call(Error,this,this.constructor)}}function qr(u){switch(u.algorithm.name){case"RSA-PSS":return function(s){if("SHA-256"===s.algorithm.hash.name)return"PS256";throw new un("unsupported RsaHashedKeyAlgorithm hash name")}(u);case"RSASSA-PKCS1-v1_5":return function(s){if("SHA-256"===s.algorithm.hash.name)return"RS256";throw new un("unsupported RsaHashedKeyAlgorithm hash name")}(u);case"ECDSA":return function(s){if("P-256"===s.algorithm.namedCurve)return"ES256";throw new un("unsupported EcKeyAlgorithm namedCurve")}(u);case"Ed25519":return"Ed25519";default:throw new un("unsupported CryptoKey algorithm name")}}function aa(u){return u instanceof CryptoKey}function Ci(u){return aa(u)&&"public"===u.type}function su(){return su=(0,D.A)(function*(u,s,c,l,h,g){const m=u?.privateKey,v=u?.publicKey;if(!aa(w=m)||"private"!==w.type)throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var w;if(!Ci(v))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(!0!==v.extractable)throw new TypeError('"keypair.publicKey.extractable" must be true');if("string"!=typeof s)throw new TypeError('"htu" must be a string');if("string"!=typeof c)throw new TypeError('"htm" must be a string');if(void 0!==l&&"string"!=typeof l)throw new TypeError('"nonce" must be a string or undefined');if(void 0!==h&&"string"!=typeof h)throw new TypeError('"accessToken" must be a string or undefined');return function qp(u,s,c){return iu.apply(this,arguments)}({alg:qr(m),typ:"dpop+jwt",jwk:yield pt(v)},Object.assign(Object.assign({},g),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:c,nonce:l,htu:s,ath:h?Zt(yield crypto.subtle.digest("SHA-256",nr(h))):void 0}),m)}),su.apply(this,arguments)}function pt(u){return au.apply(this,arguments)}function au(){return(au=(0,D.A)(function*(u){const{kty:s,e:c,n:l,x:h,y:g,crv:m}=yield crypto.subtle.exportKey("jwk",u);return{kty:s,crv:m,e:c,n:l,x:h,y:g}})).apply(this,arguments)}const Jp=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange","http://auth0.com/oauth/grant-type/mfa-oob","http://auth0.com/oauth/grant-type/mfa-otp","http://auth0.com/oauth/grant-type/mfa-recovery-code"];const ca=function(){var u=(0,D.A)(function*(s,c){const l=yield fetch(s,c);return{ok:l.ok,json:yield l.json(),headers:(h=l.headers,[...h].reduce((g,m)=>{let[v,w]=m;return g[v]=w,g},{}))};var h});return function(c,l){return u.apply(this,arguments)}}(),Zp=function(){var u=(0,D.A)(function*(s,c,l){const h=new AbortController;let g;return c.signal=h.signal,Promise.race([ca(s,c),new Promise((m,v)=>{g=setTimeout(()=>{h.abort(),v(new Error("Timeout when executing 'fetch'"))},l)})]).finally(()=>{clearTimeout(g)})});return function(c,l,h){return u.apply(this,arguments)}}(),kd=function(){var u=(0,D.A)(function*(s,c,l,h,g,m,v,w){return C={auth:{audience:c,scope:l},timeout:g,fetchUrl:s,fetchOptions:h,useFormData:v,useMrrt:w},I=m,new Promise(function(T,k){const A=new MessageChannel;A.port1.onmessage=function(R){R.data.error?k(new Error(R.data.error)):T(R.data),A.port1.close()},I.postMessage(C,[A.port2])});var C,I});return function(c,l,h,g,m,v,w,C){return u.apply(this,arguments)}}(),Si=function(){var u=(0,D.A)(function*(s,c,l,h,g,m){let v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e4;return g?kd(s,c,l,h,v,g,m,arguments.length>7?arguments[7]:void 0):Zp(s,h,v)});return function(c,l,h,g,m,v){return u.apply(this,arguments)}}();function ue(u,s,c,l,h,g,m,v,w,C){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,D.A)(function*(u,s,c,l,h,g,m,v,w,C){if(w){const ee=yield w.generateProof({url:u,method:h.method||"GET",nonce:yield w.getNonce()});h.headers=Object.assign(Object.assign({},h.headers),{dpop:ee})}let I,T=null;for(let ee=0;ee<3;ee++)try{I=yield Si(u,c,l,h,g,m,s,v),T=null;break}catch(oe){T=oe}if(T)throw T;const k=I.json,{error:A,error_description:R}=k,L=Pe(k,["error","error_description"]),{headers:P,ok:O}=I;let j;if(w&&(j=P["dpop-nonce"],j&&(yield w.setNonce(j))),!O){const ee=R||"HTTP error. Unable to fetch ".concat(u);if("mfa_required"===A)throw new Do(A,ee,L.mfa_token,L.mfa_requirements);if("missing_refresh_token"===A)throw new na(c,l);if("use_dpop_nonce"===A){if(!w||!j||C)throw new bi(j);return ue(u,s,c,l,h,g,m,v,w,!0)}throw new Ze(A||"request_error",ee)}return L})).apply(this,arguments)}function cu(){return(cu=(0,D.A)(function*(u,s){var{baseUrl:c,timeout:l,audience:h,scope:g,auth0Client:m,useFormData:v,useMrrt:w,dpop:C}=u,I=Pe(u,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const T="urn:ietf:params:oauth:grant-type:token-exchange"===I.grant_type,k="refresh_token"===I.grant_type&&w,A=Object.assign(Object.assign(Object.assign(Object.assign({},I),T&&h&&{audience:h}),T&&g&&{scope:g}),k&&{audience:h,scope:g}),R=v?To(A):JSON.stringify(A),L=Jp.includes(I.grant_type);return yield ue("".concat(c,"/oauth/token"),l,h||"default",g,{method:"POST",body:R,headers:{"Content-Type":v?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(Ei(m||eu)))}},s,v,w,L?C:void 0)})).apply(this,arguments)}const ua=function(){for(var u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];return(u=>Array.from(new Set(u)))(s.filter(Boolean).join(" ").trim().split(/\s+/)).join(" ")},vn=(u,s,c)=>{let l;return c&&(l=u[c]),l||(l=u.default),ua(l,s)};class _n{constructor(s){let l=arguments.length>2?arguments[2]:void 0;this.prefix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@@auth0spajs@@",this.suffix=l,this.clientId=s.clientId,this.scope=s.scope,this.audience=s.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(s){const[c,l,h,g]=s.split("::");return new _n({clientId:l,scope:g,audience:h},c)}static fromCacheEntry(s){const{scope:c,audience:l,client_id:h}=s;return new _n({scope:c,audience:l,clientId:h})}}class Qp{set(s,c){localStorage.setItem(s,JSON.stringify(c))}get(s){const c=window.localStorage.getItem(s);if(c)try{return JSON.parse(c)}catch{return}}remove(s){localStorage.removeItem(s)}allKeys(){return Object.keys(window.localStorage).filter(s=>s.startsWith("@@auth0spajs@@"))}}class Pd{constructor(){this.enclosedCache=function(){let s={};return{set(c,l){s[c]=l},get(c){const l=s[c];if(l)return l},remove(c){delete s[c]},allKeys:()=>Object.keys(s)}}()}}class Yp{constructor(s,c,l){this.cache=s,this.keyManifest=c,this.nowProvider=l||ea}setIdToken(s,c,l){var h=this;return(0,D.A)(function*(){var g;const m=h.getIdTokenCacheKey(s);yield h.cache.set(m,{id_token:c,decodedToken:l}),yield null===(g=h.keyManifest)||void 0===g?void 0:g.add(m)})()}getIdToken(s){var c=this;return(0,D.A)(function*(){const l=yield c.cache.get(c.getIdTokenCacheKey(s.clientId));if(!l&&s.scope&&s.audience){const h=yield c.get(s);return h&&h.id_token&&h.decodedToken?{id_token:h.id_token,decodedToken:h.decodedToken}:void 0}if(l)return{id_token:l.id_token,decodedToken:l.decodedToken}})()}get(s){var c=arguments,l=this;return(0,D.A)(function*(){let h=c.length>1&&void 0!==c[1]?c[1]:0,g=c.length>2&&void 0!==c[2]&&c[2],m=c.length>3?c[3]:void 0;var v;let w=yield l.cache.get(s.toKey());if(!w){const T=yield l.getCacheKeys();if(!T)return;const k=l.matchExistingCacheKey(s,T);if(k&&(w=yield l.cache.get(k)),!w&&g&&"cache-only"!==m)return l.getEntryWithRefreshToken(s,T)}if(!w)return;const C=yield l.nowProvider(),I=Math.floor(C/1e3);return w.expiresAt-h<I?w.body.refresh_token?l.modifiedCachedEntry(w,s):(yield l.cache.remove(s.toKey()),void(yield null===(v=l.keyManifest)||void 0===v?void 0:v.remove(s.toKey()))):w.body})()}modifiedCachedEntry(s,c){var l=this;return(0,D.A)(function*(){return s.body={refresh_token:s.body.refresh_token,audience:s.body.audience,scope:s.body.scope},yield l.cache.set(c.toKey(),s),{refresh_token:s.body.refresh_token,audience:s.body.audience,scope:s.body.scope}})()}set(s){var c=this;return(0,D.A)(function*(){var l;const h=new _n({clientId:s.client_id,scope:s.scope,audience:s.audience}),g=yield c.wrapCacheEntry(s);yield c.cache.set(h.toKey(),g),yield null===(l=c.keyManifest)||void 0===l?void 0:l.add(h.toKey())})()}remove(s,c,l){var h=this;return(0,D.A)(function*(){const g=new _n({clientId:s,scope:l,audience:c});yield h.cache.remove(g.toKey())})()}clear(s){var c=this;return(0,D.A)(function*(){var l;const h=yield c.getCacheKeys();h&&(yield h.filter(g=>!s||g.includes(s)).reduce(function(){var g=(0,D.A)(function*(m,v){yield m,yield c.cache.remove(v)});return function(m,v){return g.apply(this,arguments)}}(),Promise.resolve()),yield null===(l=c.keyManifest)||void 0===l?void 0:l.clear())})()}wrapCacheEntry(s){var c=this;return(0,D.A)(function*(){const l=yield c.nowProvider();return{body:s,expiresAt:Math.floor(l/1e3)+s.expires_in}})()}getCacheKeys(){var s=this;return(0,D.A)(function*(){var c;return s.keyManifest?null===(c=yield s.keyManifest.get())||void 0===c?void 0:c.keys:s.cache.allKeys?s.cache.allKeys():void 0})()}getIdTokenCacheKey(s){return new _n({clientId:s},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(s,c){return c.filter(l=>{var h;const g=_n.fromKey(l),m=new Set(g.scope&&g.scope.split(" ")),v=(null===(h=s.scope)||void 0===h?void 0:h.split(" "))||[],w=g.scope&&v.reduce((C,I)=>C&&m.has(I),!0);return"@@auth0spajs@@"===g.prefix&&g.clientId===s.clientId&&g.audience===s.audience&&w})[0]}getEntryWithRefreshToken(s,c){var l=this;return(0,D.A)(function*(){var h;for(const g of c){const m=_n.fromKey(g);if("@@auth0spajs@@"===m.prefix&&m.clientId===s.clientId){const v=yield l.cache.get(g);if(null!==(h=v?.body)&&void 0!==h&&h.refresh_token)return l.modifiedCachedEntry(v,s)}}})()}updateEntry(s,c){var l=this;return(0,D.A)(function*(){var h;const g=yield l.getCacheKeys();if(g)for(const m of g){const v=yield l.cache.get(m);if((null===(h=v?.body)||void 0===h?void 0:h.refresh_token)===s){const w=Object.assign(Object.assign({},v.body),{refresh_token:c});yield l.set(w)}}})()}}class Od{constructor(s,c,l){this.storage=s,this.clientId=c,this.cookieDomain=l,this.storageKey="".concat("a0.spajs.txs",".").concat(this.clientId)}create(s){this.storage.save(this.storageKey,s,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const Ti=u=>"number"==typeof u,Ld=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"];var At=at&&at.__assign||function(){return At=Object.assign||function(u){for(var s,c=1,l=arguments.length;c<l;c++)for(var h in s=arguments[c])Object.prototype.hasOwnProperty.call(s,h)&&(u[h]=s[h]);return u},At.apply(this,arguments)};function ae(u,s){if(!s)return"";var c="; "+u;return!0===s?c:c+"="+s}function jd(u,s,c){document.cookie=function eg(u,s,c){return encodeURIComponent(u).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(s).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(l){if("number"==typeof l.expires){var h=new Date;h.setMilliseconds(h.getMilliseconds()+864e5*l.expires),l.expires=h}return ae("Expires",l.expires?l.expires.toUTCString():"")+ae("Domain",l.domain)+ae("Path",l.path)+ae("Secure",l.secure)+ae("SameSite",l.sameSite)}(c)}(u,s,At({path:"/"},c))}var Fd=jd,He=function(u,s){jd(u,"",At(At({},s),{expires:-1}))};const Ao={get(u){const s=function(u){return function tg(){return function(u){for(var s={},c=u?u.split("; "):[],l=/(%[\dA-F]{2})+/gi,h=0;h<c.length;h++){var g=c[h].split("="),m=g.slice(1).join("=");'"'===m.charAt(0)&&(m=m.slice(1,-1));try{s[g[0].replace(l,decodeURIComponent)]=m.replace(l,decodeURIComponent)}catch{}}return s}(document.cookie)}()[u]}(u);if(void 0!==s)return JSON.parse(s)},save(u,s,c){let l={};"https:"===window.location.protocol&&(l={secure:!0,sameSite:"none"}),c?.daysUntilExpire&&(l.expires=c.daysUntilExpire),c?.cookieDomain&&(l.domain=c.cookieDomain),Fd(u,JSON.stringify(s),l)},remove(u,s){let c={};s?.cookieDomain&&(c.domain=s.cookieDomain),He(u,c)}},Ai={get:u=>Ao.get(u)||Ao.get("".concat("_legacy_").concat(u)),save(u,s,c){let l={};"https:"===window.location.protocol&&(l={secure:!0}),c?.daysUntilExpire&&(l.expires=c.daysUntilExpire),c?.cookieDomain&&(l.domain=c.cookieDomain),Fd("".concat("_legacy_").concat(u),JSON.stringify(s),l),Ao.save(u,s,c)},remove(u,s){let c={};s?.cookieDomain&&(c.domain=s.cookieDomain),He(u,c),Ao.remove(u,s),Ao.remove("".concat("_legacy_").concat(u),s)}},Mi={get(u){if(typeof sessionStorage>"u")return;const s=sessionStorage.getItem(u);return null!=s?JSON.parse(s):void 0},save(u,s){sessionStorage.setItem(u,JSON.stringify(s))},remove(u){sessionStorage.removeItem(u)}};var kr,u;(u=kr||(kr={})).Code="code",u.ConnectCode="connect_code";var No,du=function(u){return No=No||function uu(u,s,c){var l=void 0===s?null:s,h=function(w,C){var I=atob(w);if(C){for(var T=new Uint8Array(I.length),k=0,A=I.length;k<A;++k)T[k]=I.charCodeAt(k);return String.fromCharCode.apply(null,new Uint16Array(T.buffer))}return I}(u,void 0!==c&&c),g=h.indexOf("\n",10)+1,m=h.substring(g)+(l?"//# sourceMappingURL="+l:""),v=new Blob([m],{type:"application/javascript"});return URL.createObjectURL(v)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHQpe2xldHtlcnJvcjpyLGVycm9yX2Rlc2NyaXB0aW9uOnN9PXQ7cmV0dXJuIG5ldyBlKHIscyl9fWNsYXNzIHQgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUscyl7c3VwZXIoIm1pc3NpbmdfcmVmcmVzaF90b2tlbiIsIk1pc3NpbmcgUmVmcmVzaCBUb2tlbiAoYXVkaWVuY2U6ICciLmNvbmNhdChyKGUsWyJkZWZhdWx0Il0pLCInLCBzY29wZTogJyIpLmNvbmNhdChyKHMpLCInKSIpKSx0aGlzLmF1ZGllbmNlPWUsdGhpcy5zY29wZT1zLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHQucHJvdG90eXBlKX19ZnVuY3Rpb24gcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W107cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+IiIuY29uY2F0KGUsInwiKS5jb25jYXQodCk7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jIGU9PntsZXQgcixjLHtkYXRhOnt0aW1lb3V0OmksYXV0aDphLGZldGNoVXJsOmYsZmV0Y2hPcHRpb25zOmwsdXNlRm9ybURhdGE6cCx1c2VNcnJ0Omh9LHBvcnRzOlt1XX09ZSxkPXt9O2NvbnN0e2F1ZGllbmNlOmcsc2NvcGU6eX09YXx8e307dHJ5e2NvbnN0IGU9cD8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShsLmJvZHkpOkpTT04ucGFyc2UobC5ib2R5KTtpZighZS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1lLmdyYW50X3R5cGUpe2lmKGM9KChlLHQpPT5vW24oZSx0KV0pKGcseSksIWMmJmgpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKCIiLmNvbmNhdChlLCJ8IikpKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxnKTtlJiYhdCYmKGM9ZSl9aWYoIWMpdGhyb3cgbmV3IHQoZyx5KTtsLmJvZHk9cD9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpfWxldCBhLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGE9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1hLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaj1pLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaikpKSksZmV0Y2goZixPYmplY3QuYXNzaWduKHt9LGwpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHUucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBhJiZhLmFib3J0KCksdm9pZCB1LnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO189ay5oZWFkZXJzLGQ9Wy4uLl9dLnJlZHVjZSgoKGUsdCk9PntsZXRbcixzXT10O3JldHVybiBlW3JdPXMsZX0pLHt9KSxyPWF3YWl0IGsuanNvbigpLHIucmVmcmVzaF90b2tlbj8oaCYmKG8ubGF0ZXN0X3JlZnJlc2hfdG9rZW49ci5yZWZyZXNoX3Rva2VuLE89YyxiPXIucmVmcmVzaF90b2tlbixPYmplY3QuZW50cmllcyhvKS5mb3JFYWNoKChlPT57bGV0W3Qscl09ZTtyPT09TyYmKG9bdF09Yil9KSkpLCgoZSx0LHIpPT57b1tuKHQscildPWV9KShyLnJlZnJlc2hfdG9rZW4sZyx5KSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTooKGUsdCk9PntkZWxldGUgb1tuKGUsdCldfSkoZyx5KSx1LnBvc3RNZXNzYWdlKHtvazprLm9rLGpzb246cixoZWFkZXJzOmR9KX1jYXRjaChlKXt1LnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcjplLmVycm9yLGVycm9yX2Rlc2NyaXB0aW9uOmUubWVzc2FnZX0saGVhZGVyczpkfSl9dmFyIE8sYixfLGp9KSl9KCk7Cgo=",null,!1),new Worker(No,u)};const la={},me=function(){var u=(0,D.A)(function*(s){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;for(let l=0;l<c;l++)if(yield s())return!0;return!1});return function(c){return u.apply(this,arguments)}}();class da{constructor(s,c){this.cache=s,this.clientId=c,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(s){var c=this;return(0,D.A)(function*(){var l;const h=new Set((null===(l=yield c.cache.get(c.manifestKey))||void 0===l?void 0:l.keys)||[]);h.add(s),yield c.cache.set(c.manifestKey,{keys:[...h]})})()}remove(s){var c=this;return(0,D.A)(function*(){const l=yield c.cache.get(c.manifestKey);if(l){const h=new Set(l.keys);return h.delete(s),h.size>0?yield c.cache.set(c.manifestKey,{keys:[...h]}):yield c.cache.remove(c.manifestKey)}})()}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(s){return"".concat("@@auth0spajs@@","::").concat(s)}}const fa={memory:()=>(new Pd).enclosedCache,localstorage:()=>new Qp},ha=u=>fa[u],xi=u=>{const{openUrl:s,onRedirect:c}=u,l=Pe(u,["openUrl","onRedirect"]);return Object.assign(Object.assign({},l),{openUrl:!1===s||s?s:c})},fu=(u,s)=>{const c=s?.split(" ")||[];return(u?.split(" ")||[]).every(l=>c.includes(l))},Bn={NONCE:"nonce",KEYPAIR:"keypair"};class rg{constructor(s){this.clientId=s}getVersion(){return 1}createDbHandle(){const s=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise((c,l)=>{s.onupgradeneeded=()=>Object.values(Bn).forEach(h=>s.result.createObjectStore(h)),s.onerror=()=>l(s.error),s.onsuccess=()=>c(s.result)})}getDbHandle(){var s=this;return(0,D.A)(function*(){return s.dbHandle||(s.dbHandle=yield s.createDbHandle()),s.dbHandle})()}executeDbRequest(s,c,l){var h=this;return(0,D.A)(function*(){const g=l((yield h.getDbHandle()).transaction(s,c).objectStore(s));return new Promise((m,v)=>{g.onsuccess=()=>m(g.result),g.onerror=()=>v(g.error)})})()}buildKey(s){const c=s?"_".concat(s):"auth0";return"".concat(this.clientId,"::").concat(c)}setNonce(s,c){return this.save(Bn.NONCE,this.buildKey(c),s)}setKeyPair(s){return this.save(Bn.KEYPAIR,this.buildKey(),s)}save(s,c,l){var h=this;return(0,D.A)(function*(){yield h.executeDbRequest(s,"readwrite",g=>g.put(l,c))})()}findNonce(s){return this.find(Bn.NONCE,this.buildKey(s))}findKeyPair(){return this.find(Bn.KEYPAIR,this.buildKey())}find(s,c){return this.executeDbRequest(s,"readonly",l=>l.get(c))}deleteBy(s,c){var l=this;return(0,D.A)(function*(){const h=yield l.executeDbRequest(s,"readonly",g=>g.getAllKeys());h?.filter(c).map(g=>l.executeDbRequest(s,"readwrite",m=>m.delete(g)))})()}deleteByClientId(s,c){return this.deleteBy(s,l=>"string"==typeof l&&l.startsWith("".concat(c,"::")))}clearNonces(){return this.deleteByClientId(Bn.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(Bn.KEYPAIR,this.clientId)}}class og{constructor(s){this.storage=new rg(s)}getNonce(s){return this.storage.findNonce(s)}setNonce(s,c){return this.storage.setNonce(s,c)}getOrGenerateKeyPair(){var s=this;return(0,D.A)(function*(){let c=yield s.storage.findKeyPair();return c||(c=yield function Fe(){return(u=(0,D.A)(function*(s,c){var l;let h;if(0===s.length)throw new TypeError('"alg" must be a non-empty string');switch(s){case"PS256":h={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":h={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":h={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":h={name:"Ed25519"};break;default:throw new un}return crypto.subtle.generateKey(h,null!==(l=c?.extractable)&&void 0!==l&&l,["sign","verify"])}),function(s,c){return u.apply(this,arguments)})("ES256",{extractable:!1});var u}(),yield s.storage.setKeyPair(c)),c})()}generateProof(s){var c=this;return(0,D.A)(function*(){const l=yield c.getOrGenerateKeyPair();return function yt(u){let{keyPair:s,url:c,method:l,nonce:h,accessToken:g}=u;return function Jr(u,s,c,l,h,g){return su.apply(this,arguments)}(s,function(v){const w=new URL(v);return w.search="",w.hash="",w.href}(c),l,h,g)}(Object.assign({keyPair:l},s))})()}calculateThumbprint(){var s=this;return(0,D.A)(function*(){return function Nd(u){return(s=(0,D.A)(function*(c){if(!Ci(c))throw new TypeError('"publicKey" must be a public CryptoKey');if(!0!==c.extractable)throw new TypeError('"publicKey.extractable" must be true');const l=yield pt(c);let h;switch(l.kty){case"EC":h={crv:l.crv,kty:l.kty,x:l.x,y:l.y};break;case"OKP":h={crv:l.crv,kty:l.kty,x:l.x};break;case"RSA":h={e:l.e,kty:l.kty,n:l.n};break;default:throw new un("unsupported JWK kty")}return Zt(yield crypto.subtle.digest({name:"SHA-256"},nr(JSON.stringify(h))))}),function(c){return s.apply(this,arguments)})(u.publicKey);var s}(yield s.getOrGenerateKeyPair())})()}clear(){var s=this;return(0,D.A)(function*(){yield Promise.all([s.storage.clearNonces(),s.storage.clearKeyPairs()])})()}}var ko;!function(u){u.Bearer="Bearer",u.DPoP="DPoP"}(ko||(ko={}));class ig{constructor(s,c){this.hooks=c,this.config=Object.assign(Object.assign({},s),{fetch:s.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(s){return/^(https?:)?\/\//i.test(s)}buildUrl(s,c){if(c){if(this.isAbsoluteUrl(c))return c;if(s)return"".concat(s.replace(/\/?\/$/,""),"/").concat(c.replace(/^\/+/,""))}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(s){return this.config.getAccessToken?this.config.getAccessToken(s):this.hooks.getAccessToken(s)}extractUrl(s){return"string"==typeof s?s:s instanceof URL?s.href:s.url}buildBaseRequest(s,c){if(!this.config.baseUrl)return new Request(s,c);const l=this.buildUrl(this.config.baseUrl,this.extractUrl(s)),h=s instanceof Request?new Request(l,s):l;return new Request(h,c)}setAuthorizationHeader(s,c){s.headers.set("authorization","".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:ko.Bearer," ").concat(c))}setDpopProofHeader(s,c){var l=this;return(0,D.A)(function*(){if(!l.config.dpopNonceId)return;const h=yield l.hooks.getDpopNonce(),g=yield l.hooks.generateDpopProof({accessToken:c,method:s.method,nonce:h,url:s.url});s.headers.set("dpop",g)})()}prepareRequest(s,c){var l=this;return(0,D.A)(function*(){const h=yield l.getAccessToken(c);let g,m;"string"==typeof h?(g=l.config.dpopNonceId?ko.DPoP:ko.Bearer,m=h):(g=h.token_type,m=h.access_token),l.setAuthorizationHeader(s,m,g),g===ko.DPoP&&(yield l.setDpopProofHeader(s,m))})()}getHeader(s,c){return Array.isArray(s)?new Headers(s).get(c)||"":"function"==typeof s.get?s.get(c)||"":s[c]||""}hasUseDpopNonceError(s){if(401!==s.status)return!1;const c=this.getHeader(s.headers,"www-authenticate");return c.includes("invalid_dpop_nonce")||c.includes("use_dpop_nonce")}handleResponse(s,c){var l=this;return(0,D.A)(function*(){const h=l.getHeader(s.headers,"dpop-nonce");if(h&&(yield l.hooks.setDpopNonce(h)),!l.hasUseDpopNonceError(s))return s;if(!h||!c.onUseDpopNonceError)throw new bi(h);return c.onUseDpopNonceError()})()}internalFetchWithAuth(s,c,l,h){var g=this;return(0,D.A)(function*(){const m=g.buildBaseRequest(s,c);yield g.prepareRequest(m,h);const v=yield g.config.fetch(m);return g.handleResponse(v,l)})()}fetchWithAuth(s,c,l){const h={onUseDpopNonceError:()=>this.internalFetchWithAuth(s,c,Object.assign(Object.assign({},h),{onUseDpopNonceError:void 0}),l)};return this.internalFetchWithAuth(s,c,h,l)}}class pa{constructor(s,c){this.myAccountFetcher=s,this.apiBase=c}connectAccount(s){var c=this;return(0,D.A)(function*(){const l=yield c.myAccountFetcher.fetchWithAuth("".concat(c.apiBase,"v1/connected-accounts/connect"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return c._handleResponse(l)})()}completeAccount(s){var c=this;return(0,D.A)(function*(){const l=yield c.myAccountFetcher.fetchWithAuth("".concat(c.apiBase,"v1/connected-accounts/complete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return c._handleResponse(l)})()}_handleResponse(s){return(0,D.A)(function*(){let c;try{c=yield s.text(),c=JSON.parse(c)}catch(l){throw new rr({type:"invalid_json",status:s.status,title:"Invalid JSON response",detail:c||String(l)})}if(s.ok)return c;throw new rr(c)})()}}class rr extends Error{constructor(s){let{type:c,status:l,title:h,detail:g,validation_errors:m}=s;super(g),this.name="MyAccountApiError",this.type=c,this.status=l,this.title=h,this.detail=g,this.validation_errors=m,Object.setPrototypeOf(this,rr.prototype)}}const ga={otp:{authenticatorTypes:["otp"]},sms:{authenticatorTypes:["oob"],oobChannels:["sms"]},email:{authenticatorTypes:["oob"],oobChannels:["email"]},push:{authenticatorTypes:["oob"],oobChannels:["auth0"]},voice:{authenticatorTypes:["oob"],oobChannels:["voice"]}};function Qr(u,s){this.v=u,this.k=s}function ct(u,s,c){if("function"==typeof u?u===s:u.has(s))return arguments.length<3?s:c;throw new TypeError("Private element is not present on this object")}function pe(u){return new Qr(u,0)}function Re(u,s){if(s.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function G(u,s){return u.get(ct(u,s))}function vt(u,s,c){Re(u,s),s.set(u,c)}function Ye(u,s,c){return u.set(ct(u,s),c),c}function K(u,s,c){return(s="symbol"==typeof(h=function(g){if("object"!=typeof g||!g)return g;var v=g[Symbol.toPrimitive];if(void 0!==v){var w=v.call(g,"string");if("object"!=typeof w)return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(g)}(s))?h:h+"")in u?Object.defineProperty(u,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):u[s]=c,u;var h}function pu(u,s){var c=Object.keys(u);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(u);s&&(l=l.filter(function(h){return Object.getOwnPropertyDescriptor(u,h).enumerable})),c.push.apply(c,l)}return c}function ie(u){for(var s=1;s<arguments.length;s++){var c=null!=arguments[s]?arguments[s]:{};s%2?pu(Object(c),!0).forEach(function(l){K(u,l,c[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(c)):pu(Object(c)).forEach(function(l){Object.defineProperty(u,l,Object.getOwnPropertyDescriptor(c,l))})}return u}function be(u,s){if(null==u)return{};var c,l,h=function(m,v){if(null==m)return{};var w={};for(var C in m)if({}.hasOwnProperty.call(m,C)){if(-1!==v.indexOf(C))continue;w[C]=m[C]}return w}(u,s);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(u);for(l=0;l<g.length;l++)-1===s.indexOf(c=g[l])&&{}.propertyIsEnumerable.call(u,c)&&(h[c]=u[c])}return h}function Yr(u){var s,c;function l(g,m){try{var v=u[g](m),w=v.value,C=w instanceof Qr;Promise.resolve(C?w.v:w).then(function(I){if(C){var T="return"===g?"return":"next";if(!w.k||I.done)return l(T,I);I=u[T](I).value}h(v.done?"return":"normal",I)},function(I){l("throw",I)})}catch(I){h("throw",I)}}function h(g,m){switch(g){case"return":s.resolve({value:m,done:!0});break;case"throw":s.reject(m);break;default:s.resolve({value:m,done:!1})}(s=s.next)?l(s.key,s.arg):c=null}this._invoke=function(g,m){return new Promise(function(v,w){var C={key:g,arg:m,resolve:v,reject:w,next:null};c?c=c.next=C:(s=c=C,l(g,m))})},"function"!=typeof u.return&&(this.return=void 0)}var Mt,Ni;let gu;function Ro(u,s){if(null==u)return!1;try{return u instanceof s||Object.getPrototypeOf(u)[Symbol.toStringTag]===s.prototype[Symbol.toStringTag]}catch{return!1}}function Ae(u,s,c){const l=new TypeError(u,{cause:c});return Object.assign(l,{code:s}),l}Yr.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Yr.prototype.next=function(u){return this._invoke("next",u)},Yr.prototype.throw=function(u){return this._invoke("throw",u)},Yr.prototype.return=function(u){return this._invoke("return",u)},(typeof navigator>"u"||null===(Mt=navigator.userAgent)||void 0===Mt||null===(Ni=Mt.startsWith)||void 0===Ni||!Ni.call(Mt,"Mozilla/5.0 "))&&(gu="".concat("oauth4webapi","/").concat("v3.8.3"));const Ut=Symbol(),Xr=Symbol(),va=Symbol(),wn=Symbol(),zn=Symbol(),mu=new TextEncoder,eo=new TextDecoder;function to(u){return"string"==typeof u?mu.encode(u):eo.decode(u)}let kn,yu;function et(u){return"string"==typeof u?yu(u):kn(u)}kn=Uint8Array.prototype.toBase64?u=>(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),u.toBase64({alphabet:"base64url",omitPadding:!0})):s=>{s instanceof ArrayBuffer&&(s=new Uint8Array(s));const c=[];for(let l=0;l<s.byteLength;l+=32768)c.push(String.fromCharCode.apply(null,s.subarray(l,l+32768)));return btoa(c.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},yu=Uint8Array.fromBase64?u=>{try{return Uint8Array.fromBase64(u,{alphabet:"base64url"})}catch(s){throw Ae("The input to be decoded is not correctly encoded.","ERR_INVALID_ARG_VALUE",s)}}:u=>{try{const s=atob(u.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(s.length);for(let l=0;l<s.length;l++)c[l]=s.charCodeAt(l);return c}catch(s){throw Ae("The input to be decoded is not correctly encoded.","ERR_INVALID_ARG_VALUE",s)}};class Bt extends Error{constructor(s,c){var l;super(s,c),K(this,"code",void 0),this.name=this.constructor.name,this.code=Da,null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}class ne extends Error{constructor(s,c){var l;super(s,c),K(this,"code",void 0),this.name=this.constructor.name,null!=c&&c.code&&(this.code=c?.code),null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}function le(u,s,c){return new ne(u,{code:s,cause:c})}function or(u){return null!==u&&"object"==typeof u&&!Array.isArray(u)}function ki(u){Ro(u,Headers)&&(u=Object.fromEntries(u.entries()));const s=new Headers(u??{});if(gu&&!s.has("user-agent")&&s.set("user-agent",gu),s.has("authorization"))throw Ae('"options.headers" must not include the "authorization" header name',"ERR_INVALID_ARG_VALUE");return s}function vu(u,s){if(void 0!==s){if("function"==typeof s&&(s=s(u.href)),!(s instanceof AbortSignal))throw Ae('"options.signal" must return or be an instance of AbortSignal',"ERR_INVALID_ARG_TYPE");return s}}function _u(u){return u.includes("//")?u.replace("//","/"):u}function Po(){return Po=(0,D.A)(function*(u,s){return(c=(0,D.A)(function*(l,h,g,m){if(!(l instanceof URL))throw Ae('"'.concat(h,'" must be an instance of URL'),"ERR_INVALID_ARG_TYPE");bu(l,!0!==m?.[Ut]);const v=g(new URL(l.href)),w=ki(m?.headers);return w.set("accept","application/json"),(m?.[wn]||fetch)(v.href,{body:void 0,headers:Object.fromEntries(w.entries()),method:"GET",redirect:"manual",signal:vu(v,m?.signal)})}),function(l,h,g,m){return c.apply(this,arguments)})(u,"issuerIdentifier",c=>{switch(s?.algorithm){case void 0:case"oidc":(l=c).pathname=_u("".concat(l.pathname,"/").concat(".well-known/openid-configuration"));break;case"oauth2":!function(l,h){let g=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l.pathname="/"===l.pathname?h:_u("".concat(h,"/").concat(g?l.pathname:l.pathname.replace(/(\/)$/,"")))}(c,".well-known/oauth-authorization-server");break;default:throw Ae('"options.algorithm" must be "oidc" (default), or "oauth2"',"ERR_INVALID_ARG_VALUE")}var l;return c},s);var c}),Po.apply(this,arguments)}function ir(u,s,c,l,h){try{if("number"!=typeof u||!Number.isFinite(u))throw Ae("".concat(c," must be a number"),"ERR_INVALID_ARG_TYPE",h);if(u>0)return;if(s){if(0!==u)throw Ae("".concat(c," must be a non-negative number"),"ERR_INVALID_ARG_VALUE",h);return}throw Ae("".concat(c," must be a positive number"),"ERR_INVALID_ARG_VALUE",h)}catch(g){throw l?le(g.message,l,h):g}}function tt(u,s,c,l){try{if("string"!=typeof u)throw Ae("".concat(s," must be a string"),"ERR_INVALID_ARG_TYPE",l);if(0===u.length)throw Ae("".concat(s," must not be empty"),"ERR_INVALID_ARG_VALUE",l)}catch(h){throw c?le(h.message,c,l):h}}function wu(u){!function(s,c){if(Kn(s)!==c)throw function(l){let h='"response" content-type must be ';for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];if(m.length>2){const w=m.pop();h+="".concat(m.join(", "),", or ").concat(w)}else h+=2===m.length?"".concat(m[0]," or ").concat(m[1]):m[0];return le(h,Vi,l)}(s,c)}(u,"application/json")}function sr(){return et(crypto.getRandomValues(new Uint8Array(32)))}function Hd(u){switch(u.algorithm.name){case"RSA-PSS":return function(s){switch(s.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new Bt("unsupported RsaHashedKeyAlgorithm hash name",{cause:s})}}(u);case"RSASSA-PKCS1-v1_5":return function(s){switch(s.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new Bt("unsupported RsaHashedKeyAlgorithm hash name",{cause:s})}}(u);case"ECDSA":return function(s){switch(s.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new Bt("unsupported EcKeyAlgorithm namedCurve",{cause:s})}}(u);case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return u.algorithm.name;case"EdDSA":return"Ed25519";default:throw new Bt("unsupported CryptoKey algorithm name",{cause:u})}}function xt(u){const s=u?.[Xr];return"number"==typeof s&&Number.isFinite(s)?s:0}function ar(u){const s=u?.[va];return"number"==typeof s&&Number.isFinite(s)&&-1!==Math.sign(s)?s:30}function Oo(){return Math.floor(Date.now()/1e3)}function Wt(u){if("object"!=typeof u||null===u)throw Ae('"as" must be an object',"ERR_INVALID_ARG_TYPE");tt(u.issuer,'"as.issuer"')}function zt(u){if("object"!=typeof u||null===u)throw Ae('"client" must be an object',"ERR_INVALID_ARG_TYPE");tt(u.client_id,'"client.client_id"')}function Ri(u){return tt(u,'"clientSecret"'),(s,c,l,h)=>{l.set("client_id",c.client_id),l.set("client_secret",u)}}const Iu=URL.parse?(u,s)=>URL.parse(u,s):(u,s)=>{try{return new URL(u,s)}catch{return null}};function bu(u,s){if(s&&"https:"!==u.protocol)throw le("only requests to HTTPS are allowed",Ca,u);if("https:"!==u.protocol&&"http:"!==u.protocol)throw le("only HTTP and HTTPS requests are allowed",Sa,u)}function Rr(u,s,c,l){return function $t(u,s,c,l){let h;if("string"!=typeof u||!(h=Iu(u)))throw le("authorization server metadata does not contain a valid ".concat(c?'"as.mtls_endpoint_aliases.'.concat(s,'"'):'"as.'.concat(s,'"')),void 0===u?cr:Ft,{attribute:c?"mtls_endpoint_aliases.".concat(s):s});return bu(h,l),h}(c&&u.mtls_endpoint_aliases&&s in u.mtls_endpoint_aliases?u.mtls_endpoint_aliases[s]:u[s],s,c,l)}class $n extends Error{constructor(s,c){var l;super(s,c),K(this,"cause",void 0),K(this,"code",void 0),K(this,"error",void 0),K(this,"status",void 0),K(this,"error_description",void 0),K(this,"response",void 0),this.name=this.constructor.name,this.code=Kd,this.cause=c.cause,this.error=c.cause.error,this.status=c.response.status,this.error_description=c.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:c.response}),null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}class Ud extends Error{constructor(s,c){var l,h;super(s,c),K(this,"cause",void 0),K(this,"code",void 0),K(this,"error",void 0),K(this,"error_description",void 0),this.name=this.constructor.name,this.code=Tu,this.cause=c.cause,this.error=c.cause.get("error"),this.error_description=null!==(l=c.cause.get("error_description"))&&void 0!==l?l:void 0,null===(h=Error.captureStackTrace)||void 0===h||h.call(Error,this,this.constructor)}}class Pi extends Error{constructor(s,c){var l;super(s,c),K(this,"cause",void 0),K(this,"code",void 0),K(this,"response",void 0),K(this,"status",void 0),this.name=this.constructor.name,this.code=Gd,this.cause=c.cause,this.status=c.response.status,this.response=c.response,Object.defineProperty(this,"response",{enumerable:!1}),null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}const ke=new RegExp("^[,\\s]*([a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+)"),Pn=new RegExp('^[,\\s]*([a-zA-Z0-9!#$%&\\\'\\*\\+\\-\\.\\^_`\\|~]+)\\s*=\\s*"((?:[^"\\\\]|\\\\[\\s\\S])*)"[,\\s]*(.*)'),Eu=new RegExp("^[,\\s]*([a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+)\\s*=\\s*([a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+)[,\\s]*(.*)"),wa=new RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+={0,2})(?:$|[,\\s])(.*)");function no(u,s,c){return ro.apply(this,arguments)}function ro(){return ro=(0,D.A)(function*(u,s,c){if(u.status!==s){let h;var l;throw function(g){let m;if(m=function(v){if(!Ro(v,Response))throw Ae('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");const w=v.headers.get("www-authenticate");if(null===w)return;const C=[];let I=w;for(;I;){var T;let k=I.match(ke);const A=null===(T=k)||void 0===T?void 0:T[1].toLowerCase();if(!A)return;const R=I.substring(k[0].length);if(R&&!R.match(/^[\s,]/))return;const L=R.match(/^\s+(.*)$/);I=L?L[1]:void 0;const O={};let j;if(L)for(;I;){let oe,V;if(k=I.match(Pn)){if([,oe,V,I]=k,V.includes("\\"))try{V=JSON.parse('"'.concat(V,'"'))}catch{}O[oe.toLowerCase()]=V}else{if(!(k=I.match(Eu))){if(k=I.match(wa)){if(Object.keys(O).length)break;[,j,I]=k;break}return}[,oe,V,I]=k,O[oe.toLowerCase()]=V}}else I=R||void 0;const ee={scheme:A,parameters:O};j&&(ee.token68=j),C.push(ee)}return C.length?C:void 0}(g))throw new Pi("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:m,response:g})}(u),(h=yield(g=(0,D.A)(function*(m){if(m.status>399&&m.status<500){ao(m),wu(m);try{const v=yield m.clone().json();if(or(v)&&"string"==typeof v.error&&v.error.length)return v}catch{}}}),function(m){return g.apply(this,arguments)})(u))?(yield null===(l=u.body)||void 0===l?void 0:l.cancel(),new $n("server responded with an error in the response body",{cause:h,response:u})):le('"response" is not a conform '.concat(c," response (unexpected HTTP status code)"),Hi,u)}var g}),ro.apply(this,arguments)}function Gn(u){if(!Yt.has(u))throw Ae('"options.DPoP" is not a valid DPoPHandle',"ERR_INVALID_ARG_VALUE")}function Kn(u){var s;return null===(s=u.headers.get("content-type"))||void 0===s?void 0:s.split(";")[0]}function Ia(u,s,c,l,h,g,m){return Lo.apply(this,arguments)}function Lo(){return Lo=(0,D.A)(function*(u,s,c,l,h,g,m){return yield c(u,s,h,g),g.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(m?.[wn]||fetch)(l.href,{body:h,headers:Object.fromEntries(g.entries()),method:"POST",redirect:"manual",signal:vu(l,m?.signal)})}),Lo.apply(this,arguments)}function oo(u,s,c,l,h,g){return Oi.apply(this,arguments)}function Oi(){return Oi=(0,D.A)(function*(u,s,c,l,h,g){var m;const v=Rr(u,"token_endpoint",s.use_mtls_endpoint_aliases,!0!==g?.[Ut]);h.set("grant_type",l);const w=ki(g?.headers);w.set("accept","application/json"),void 0!==g?.DPoP&&(Gn(g.DPoP),yield g.DPoP.addProof(v,w,"POST"));const C=yield Ia(u,s,c,v,h,w,g);return null==g||null===(m=g.DPoP)||void 0===m||m.cacheNonce(C,v),C}),Oi.apply(this,arguments)}const io=new WeakMap,Du=new WeakMap;function Li(u){if(!u.id_token)return;const s=io.get(u);if(!s)throw Ae('"ref" was already garbage collected or did not resolve from the proper sources',"ERR_INVALID_ARG_VALUE");return s}function so(u,s,c,l,h,g){return jo.apply(this,arguments)}function jo(){return jo=(0,D.A)(function*(u,s,c,l,h,g){if(Wt(u),zt(s),!Ro(c,Response))throw Ae('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");yield no(c,200,"Token Endpoint"),ao(c);const m=yield xa(c);if(tt(m.access_token,'"response" body "access_token" property',De,{body:m}),tt(m.token_type,'"response" body "token_type" property',De,{body:m}),m.token_type=m.token_type.toLowerCase(),void 0!==m.expires_in){let v="number"!=typeof m.expires_in?parseFloat(m.expires_in):m.expires_in;ir(v,!0,'"response" body "expires_in" property',De,{body:m}),m.expires_in=v}if(void 0!==m.refresh_token&&tt(m.refresh_token,'"response" body "refresh_token" property',De,{body:m}),void 0!==m.scope&&"string"!=typeof m.scope)throw le('"response" body "scope" property must be a string',De,{body:m});if(void 0!==m.id_token){tt(m.id_token,'"response" body "id_token" property',De,{body:m});const v=["aud","exp","iat","iss","sub"];!0===s.require_auth_time&&v.push("auth_time"),void 0!==s.default_max_age&&(ir(s.default_max_age,!0,'"client.default_max_age"'),v.push("auth_time")),null!=l&&l.length&&v.push(...l);const{claims:w,jwt:C}=yield(I=(0,D.A)(function*(T,k,A,R,L){let P,O,{0:j,1:ee,length:oe}=T.split(".");if(5===oe){if(void 0===L)throw new Bt("JWE decryption is not configured",{cause:T});T=yield L(T),({0:j,1:ee,length:oe}=T.split("."))}if(3!==oe)throw le("Invalid JWT",De,T);try{P=JSON.parse(to(et(j)))}catch(ye){throw le("failed to parse JWT Header body as base64url encoded JSON",Fi,ye)}if(!or(P))throw le("JWT Header must be a top level object",De,T);if(k(P),void 0!==P.crit)throw new Bt('no JWT "crit" header parameter extensions are supported',{cause:{header:P}});try{O=JSON.parse(to(et(ee)))}catch(ye){throw le("failed to parse JWT Payload body as base64url encoded JSON",Fi,ye)}if(!or(O))throw le("JWT Payload must be a top level object",De,T);const V=Oo()+A;if(void 0!==O.exp){if("number"!=typeof O.exp)throw le('unexpected JWT "exp" (expiration time) claim type',De,{claims:O});if(O.exp<=V-R)throw le('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',ve,{claims:O,now:V,tolerance:R,claim:"exp"})}if(void 0!==O.iat&&"number"!=typeof O.iat)throw le('unexpected JWT "iat" (issued at) claim type',De,{claims:O});if(void 0!==O.iss&&"string"!=typeof O.iss)throw le('unexpected JWT "iss" (issuer) claim type',De,{claims:O});if(void 0!==O.nbf){if("number"!=typeof O.nbf)throw le('unexpected JWT "nbf" (not before) claim type',De,{claims:O});if(O.nbf>V+R)throw le('unexpected JWT "nbf" (not before) claim value',ve,{claims:O,now:V,tolerance:R,claim:"nbf"})}if(void 0!==O.aud&&"string"!=typeof O.aud&&!Array.isArray(O.aud))throw le('unexpected JWT "aud" (audience) claim type',De,{claims:O});return{header:P,claims:O,jwt:T}}),function(T,k,A,R,L){return I.apply(this,arguments)})(m.id_token,Fo.bind(void 0,s.id_token_signed_response_alg,u.id_token_signing_alg_values_supported,"RS256"),xt(s),ar(s),h).then(zd.bind(void 0,v)).then(Wd.bind(void 0,u)).then(Bd.bind(void 0,s.client_id));if(Array.isArray(w.aud)&&1!==w.aud.length){if(void 0===w.azp)throw le('ID Token "aud" (audience) claim includes additional untrusted audiences',Be,{claims:w,claim:"aud"});if(w.azp!==s.client_id)throw le('unexpected ID Token "azp" (authorized party) claim value',Be,{expected:s.client_id,claims:w,claim:"azp"})}void 0!==w.auth_time&&ir(w.auth_time,!0,'ID Token "auth_time" (authentication time)',De,{claims:w}),Du.set(c,C),io.set(m,w)}var I;if(void 0!==g?.[m.token_type])g[m.token_type](c,m);else if("dpop"!==m.token_type&&"bearer"!==m.token_type)throw new Bt("unsupported `token_type` value",{cause:{body:m}});return m}),jo.apply(this,arguments)}function Bd(u,s){if(Array.isArray(s.claims.aud)){if(!s.claims.aud.includes(u))throw le('unexpected JWT "aud" (audience) claim value',Be,{expected:u,claims:s.claims,claim:"aud"})}else if(s.claims.aud!==u)throw le('unexpected JWT "aud" (audience) claim value',Be,{expected:u,claims:s.claims,claim:"aud"});return s}function Wd(u,s){var c,l;const h=null!==(c=null===(l=u[Wi])||void 0===l?void 0:l.call(u,s))&&void 0!==c?c:u.issuer;if(s.claims.iss!==h)throw le('unexpected JWT "iss" (issuer) claim value',Be,{expected:h,claims:s.claims,claim:"iss"});return s}const Yt=new WeakSet,Cu=Symbol(),Su={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function zd(u,s){for(const c of u)if(void 0===s.claims[c])throw le('JWT "'.concat(c,'" (').concat(Su[c],") claim missing"),De,{claims:s.claims});return s}const ba=Symbol(),Ea=Symbol();function ji(){return ji=(0,D.A)(function*(u,s,c,l){return"string"==typeof l?.expectedNonce||"number"==typeof l?.maxAge||null!=l&&l.requireIdToken?(h=(0,D.A)(function*(g,m,v,w,C,I,T){const k=[];switch(w){case void 0:w=ba;break;case ba:break;default:tt(w,'"expectedNonce" argument'),k.push("nonce")}switch(null!=C||(C=m.default_max_age),C){case void 0:C=Ea;break;case Ea:break;default:ir(C,!0,'"maxAge" argument'),k.push("auth_time")}const A=yield so(g,m,v,k,I,T);tt(A.id_token,'"response" body "id_token" property',De,{body:A});const R=Li(A);if(C!==Ea){const L=Oo()+xt(m),P=ar(m);if(R.auth_time+C<L-P)throw le("too much time has elapsed since the last End-User authentication",ve,{claims:R,now:L,tolerance:P,claim:"auth_time"})}if(w===ba){if(void 0!==R.nonce)throw le('unexpected ID Token "nonce" claim value',Be,{expected:void 0,claims:R,claim:"nonce"})}else if(R.nonce!==w)throw le('unexpected ID Token "nonce" claim value',Be,{expected:w,claims:R,claim:"nonce"});return A}),function(g,m,v,w,C,I,T){return h.apply(this,arguments)})(u,s,c,l.expectedNonce,l.maxAge,l[zn],l.recognizedTokenTypes):function(){var h=(0,D.A)(function*(g,m,v,w,C){const I=yield so(g,m,v,void 0,w,C),T=Li(I);if(T){if(void 0!==m.default_max_age){ir(m.default_max_age,!0,'"client.default_max_age"');const k=Oo()+xt(m),A=ar(m);if(T.auth_time+m.default_max_age<k-A)throw le("too much time has elapsed since the last End-User authentication",ve,{claims:T,now:k,tolerance:A,claim:"auth_time"})}if(void 0!==T.nonce)throw le('unexpected ID Token "nonce" claim value',Be,{expected:void 0,claims:T,claim:"nonce"})}return I});return function(g,m,v,w,C){return h.apply(this,arguments)}}()(u,s,c,l?.[zn],l?.recognizedTokenTypes);var h}),ji.apply(this,arguments)}const Gd="OAUTH_WWW_AUTHENTICATE_CHALLENGE",Kd="OAUTH_RESPONSE_BODY_ERROR",Da="OAUTH_UNSUPPORTED_OPERATION",Tu="OAUTH_AUTHORIZATION_RESPONSE_ERROR",Fi="OAUTH_PARSE_ERROR",De="OAUTH_INVALID_RESPONSE",Vi="OAUTH_RESPONSE_IS_NOT_JSON",Hi="OAUTH_RESPONSE_IS_NOT_CONFORM",Ca="OAUTH_HTTP_REQUEST_FORBIDDEN",Sa="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",ve="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",Be="OAUTH_JWT_CLAIM_COMPARISON_FAILED",_t="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",cr="OAUTH_MISSING_SERVER_METADATA",Ft="OAUTH_INVALID_SERVER_METADATA";function ao(u){if(u.bodyUsed)throw Ae('"response" body has been used already',"ERR_INVALID_ARG_VALUE")}function Ta(u){const{algorithm:s}=u;if("number"!=typeof s.modulusLength||s.modulusLength<2048)throw new Bt("unsupported ".concat(s.name," modulusLength"),{cause:u})}function Ui(u){const{algorithm:s}=u;switch(s.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Bt("unsupported ECDSA namedCurve",{cause:u})}}function Aa(){return Aa=(0,D.A)(function*(u){if("POST"!==u.method)throw Ae("form_post responses are expected to use the POST method","ERR_INVALID_ARG_VALUE",{cause:u});if("application/x-www-form-urlencoded"!==Kn(u))throw Ae("form_post responses are expected to use the application/x-www-form-urlencoded content-type","ERR_INVALID_ARG_VALUE",{cause:u});return(s=(0,D.A)(function*(c){if(c.bodyUsed)throw Ae("form_post Request instances must contain a readable body","ERR_INVALID_ARG_VALUE",{cause:c});return c.text()}),function(c){return s.apply(this,arguments)})(u);var s}),Aa.apply(this,arguments)}function Fo(u,s,c,l){if(void 0===u)if(Array.isArray(s)){if(!s.includes(l.alg))throw le('unexpected JWT "alg" header parameter',De,{header:l,expected:s,reason:"authorization server metadata"})}else{if(void 0===c)throw le('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:u,issuer:s,fallback:c});if("string"==typeof c?l.alg!==c:"function"==typeof c?!c(l.alg):!c.includes(l.alg))throw le('unexpected JWT "alg" header parameter',De,{header:l,expected:c,reason:"default value"})}else if("string"==typeof u?l.alg!==u:!u.includes(l.alg))throw le('unexpected JWT "alg" header parameter',De,{header:l,expected:u,reason:"client configuration"})}function Pr(u,s){const{0:c,length:l}=u.getAll(s);if(l>1)throw le('"'.concat(s,'" parameter must be provided only once'),De);return c}const Ma=Symbol(),Au=Symbol();function xa(u){return Vo.apply(this,arguments)}function Vo(){return Vo=(0,D.A)(function*(u){let s,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wu;try{s=yield u.json()}catch(l){throw c(u),le('failed to parse "response" body as JSON',Fi,l)}if(!or(s))throw le('"response" body must be a top level object',De,{body:s});return s}),Vo.apply(this,arguments)}const Na=Symbol(),Wi=Symbol(),ka=new TextEncoder,co=new TextDecoder;function qn(u){const s=new Uint8Array(u.length);for(let c=0;c<u.length;c++){const l=u.charCodeAt(c);if(l>127)throw new TypeError("non-ASCII string encountered in encode()");s[c]=l}return s}function Mu(u){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(u);const s=atob(u),c=new Uint8Array(s.length);for(let l=0;l<s.length;l++)c[l]=s.charCodeAt(l);return c}function Or(u){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof u?u:co.decode(u),{alphabet:"base64url"});let s=u;s instanceof Uint8Array&&(s=co.decode(s)),s=s.replace(/-/g,"+").replace(/_/g,"/");try{return Mu(s)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}class gt extends Error{constructor(s,c){var l;super(s,c),K(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}K(gt,"code","ERR_JOSE_GENERIC");class In extends gt{constructor(s,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(s,{cause:{claim:l,reason:h,payload:c}}),K(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),K(this,"claim",void 0),K(this,"reason",void 0),K(this,"payload",void 0),this.claim=l,this.reason=h,this.payload=c}}K(In,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class Ho extends gt{constructor(s,c){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(s,{cause:{claim:l,reason:h,payload:c}}),K(this,"code","ERR_JWT_EXPIRED"),K(this,"claim",void 0),K(this,"reason",void 0),K(this,"payload",void 0),this.claim=l,this.reason=h,this.payload=c}}K(Ho,"code","ERR_JWT_EXPIRED");class Uo extends gt{constructor(){super(...arguments),K(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}}K(Uo,"code","ERR_JOSE_ALG_NOT_ALLOWED");class Qe extends gt{constructor(){super(...arguments),K(this,"code","ERR_JOSE_NOT_SUPPORTED")}}K(Qe,"code","ERR_JOSE_NOT_SUPPORTED"),K(class extends gt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decryption operation failed",arguments.length>1?arguments[1]:void 0),K(this,"code","ERR_JWE_DECRYPTION_FAILED")}},"code","ERR_JWE_DECRYPTION_FAILED"),K(class extends gt{constructor(){super(...arguments),K(this,"code","ERR_JWE_INVALID")}},"code","ERR_JWE_INVALID");class Xe extends gt{constructor(){super(...arguments),K(this,"code","ERR_JWS_INVALID")}}K(Xe,"code","ERR_JWS_INVALID");class Bo extends gt{constructor(){super(...arguments),K(this,"code","ERR_JWT_INVALID")}}K(Bo,"code","ERR_JWT_INVALID"),K(class extends gt{constructor(){super(...arguments),K(this,"code","ERR_JWK_INVALID")}},"code","ERR_JWK_INVALID");class Ra extends gt{constructor(){super(...arguments),K(this,"code","ERR_JWKS_INVALID")}}K(Ra,"code","ERR_JWKS_INVALID");class Pa extends gt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no applicable key found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),K(this,"code","ERR_JWKS_NO_MATCHING_KEY")}}K(Pa,"code","ERR_JWKS_NO_MATCHING_KEY");class Oa extends gt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple matching keys found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),K(this,Symbol.asyncIterator,void 0),K(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}}K(Oa,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS");class Lr extends gt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request timed out",arguments.length>1?arguments[1]:void 0),K(this,"code","ERR_JWKS_TIMEOUT")}}K(Lr,"code","ERR_JWKS_TIMEOUT");class xu extends gt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature verification failed",arguments.length>1?arguments[1]:void 0),K(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}K(xu,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");const On=function(u){return new TypeError("CryptoKey does not support this operation, its ".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"algorithm.name"," must be ").concat(u))},uo=(u,s)=>u.name===s;function Wo(u){return parseInt(u.name.slice(4),10)}function La(u,s){for(var c=arguments.length,l=new Array(c>2?c-2:0),h=2;h<c;h++)l[h-2]=arguments[h];if((l=l.filter(Boolean)).length>2){const m=l.pop();u+="one of type ".concat(l.join(", "),", or ").concat(m,".")}else u+=2===l.length?"one of type ".concat(l[0]," or ").concat(l[1],"."):"of type ".concat(l[0],".");if(null==s)u+=" Received ".concat(s);else if("function"==typeof s&&s.name)u+=" Received function ".concat(s.name);else if("object"==typeof s&&null!=s){var g;null!==(g=s.constructor)&&void 0!==g&&g.name&&(u+=" Received an instance of ".concat(s.constructor.name))}return u}const zi=function(u,s){for(var c=arguments.length,l=new Array(c>2?c-2:0),h=2;h<c;h++)l[h-2]=arguments[h];return La("Key for the ".concat(u," algorithm must be "),s,...l)},jr=u=>{if("CryptoKey"===u?.[Symbol.toStringTag])return!0;try{return u instanceof CryptoKey}catch{return!1}},Nu=u=>"KeyObject"===u?.[Symbol.toStringTag],ku=u=>jr(u)||Nu(u);function ze(u){if("object"!=typeof(s=u)||null===s||"[object Object]"!==Object.prototype.toString.call(u))return!1;var s;if(null===Object.getPrototypeOf(u))return!0;let c=u;for(;null!==Object.getPrototypeOf(c);)c=Object.getPrototypeOf(c);return Object.getPrototypeOf(u)===c}const $i=(u,s)=>{if(u.byteLength!==s.length)return!1;for(let c=0;c<u.byteLength;c++)if(u[c]!==s[c])return!1;return!0},zo=u=>{const s=u.data[u.pos++];if(128&s){const c=127&s;let l=0;for(let h=0;h<c;h++)l=l<<8|u.data[u.pos++];return l}return s},Jn=(u,s,c)=>{if(u.data[u.pos++]!==s)throw new Error(c)},Ru=(u,s)=>{const c=u.data.subarray(u.pos,u.pos+s);return u.pos+=s,c},Qd=function(){var u=(0,D.A)(function*(s,c,l,h){var g;let m,v;switch(l){case"PS256":case"PS384":case"PS512":m={name:"RSA-PSS",hash:"SHA-".concat(l.slice(-3))},v=["sign"];break;case"RS256":case"RS384":case"RS512":m={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(l.slice(-3))},v=["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":m={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(l.slice(-3),10)||1)},v=["decrypt","unwrapKey"];break;case"ES256":case"ES384":case"ES512":m={name:"ECDSA",namedCurve:{ES256:"P-256",ES384:"P-384",ES512:"P-521"}[l]},v=["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":try{const C=h.getNamedCurve(c);m="X25519"===C?{name:"X25519"}:{name:"ECDH",namedCurve:C}}catch{throw new Qe("Invalid or unsupported key format")}v=["deriveBits"];break;case"Ed25519":case"EdDSA":m={name:"Ed25519"},v=["sign"];break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":m={name:l},v=["sign"];break;default:throw new Qe('Invalid or unsupported "alg" (Algorithm) value')}return crypto.subtle.importKey(s,c,m,null!==(g=h?.extractable)&&void 0!==g&&g,v)});return function(c,l,h,g){return u.apply(this,arguments)}}(),Yd=(u,s,c)=>{var l;const h=Mu(u.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""));let g=c;return null!=s&&null!==(l=s.startsWith)&&void 0!==l&&l.call(s,"ECDH-ES")&&(g||(g={}),g.getNamedCurve=m=>{const v={data:m,pos:0};return function(w){Jn(w,48,"Invalid PKCS#8 structure"),zo(w),Jn(w,2,"Expected version field");const C=zo(w);w.pos+=C,Jn(w,48,"Expected algorithm identifier"),zo(w)}(v),(u=>{const s=(h=>{Jn(h,6,"Expected algorithm OID");const g=zo(h);return Ru(h,g)})(u);if($i(s,[43,101,110]))return"X25519";if(!$i(s,[42,134,72,206,61,2,1]))throw new Error("Unsupported key algorithm");Jn(u,6,"Expected curve OID");const c=zo(u),l=Ru(u,c);for(const{name:h,oid:g}of[{name:"P-256",oid:[42,134,72,206,61,3,1,7]},{name:"P-384",oid:[43,129,4,0,34]},{name:"P-521",oid:[43,129,4,0,35]}])if($i(l,g))return h;throw new Error("Unsupported named curve")})(v)}),Qd("pkcs8",h,s,g)};function Gi(u){return ja.apply(this,arguments)}function ja(){return ja=(0,D.A)(function*(u){var s,c;if(!u.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:l,keyUsages:h}=function(m){let v,w;switch(m.kty){case"AKP":switch(m.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":v={name:m.alg},w=m.priv?["sign"]:["verify"];break;default:throw new Qe('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(m.alg){case"PS256":case"PS384":case"PS512":v={name:"RSA-PSS",hash:"SHA-".concat(m.alg.slice(-3))},w=m.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":v={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(m.alg.slice(-3))},w=m.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":v={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(m.alg.slice(-3),10)||1)},w=m.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Qe('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(m.alg){case"ES256":v={name:"ECDSA",namedCurve:"P-256"},w=m.d?["sign"]:["verify"];break;case"ES384":v={name:"ECDSA",namedCurve:"P-384"},w=m.d?["sign"]:["verify"];break;case"ES512":v={name:"ECDSA",namedCurve:"P-521"},w=m.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":v={name:"ECDH",namedCurve:m.crv},w=m.d?["deriveBits"]:[];break;default:throw new Qe('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(m.alg){case"Ed25519":case"EdDSA":v={name:"Ed25519"},w=m.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":v={name:m.crv},w=m.d?["deriveBits"]:[];break;default:throw new Qe('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new Qe('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:v,keyUsages:w}}(u),g=ie({},u);return"AKP"!==g.kty&&delete g.alg,delete g.use,crypto.subtle.importKey("jwk",g,l,null!==(s=u.ext)&&void 0!==s?s:!u.d&&!u.priv,null!==(c=u.key_ops)&&void 0!==c?c:h)}),ja.apply(this,arguments)}const $o=u=>ze(u)&&"string"==typeof u.kty;let bn;const qe=function(){var u=(0,D.A)(function*(s,c,l){let h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];bn||(bn=new WeakMap);let g=bn.get(s);if(null!=g&&g[l])return g[l];const m=yield Gi(ie(ie({},c),{},{alg:l}));return h&&Object.freeze(s),g?g[l]=m:bn.set(s,{[l]:m}),m});return function(c,l,h){return u.apply(this,arguments)}}();function re(){return re=(0,D.A)(function*(u,s){if(u instanceof Uint8Array||jr(u))return u;if(Nu(u)){if("secret"===u.type)return u.export();if("toCryptoKey"in u&&"function"==typeof u.toCryptoKey)try{return((l,h)=>{bn||(bn=new WeakMap);let g=bn.get(l);if(null!=g&&g[h])return g[h];const m="public"===l.type,v=!!m;let w;if("x25519"===l.asymmetricKeyType){switch(h){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}w=l.toCryptoKey(l.asymmetricKeyType,v,m?[]:["deriveBits"])}if("ed25519"===l.asymmetricKeyType){if("EdDSA"!==h&&"Ed25519"!==h)throw new TypeError("given KeyObject instance cannot be used for this algorithm");w=l.toCryptoKey(l.asymmetricKeyType,v,[m?"verify":"sign"])}switch(l.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(h!==l.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");w=l.toCryptoKey(l.asymmetricKeyType,v,[m?"verify":"sign"])}if("rsa"===l.asymmetricKeyType){let I;switch(h){case"RSA-OAEP":I="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":I="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":I="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":I="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(h.startsWith("RSA-OAEP"))return l.toCryptoKey({name:"RSA-OAEP",hash:I},v,m?["encrypt"]:["decrypt"]);w=l.toCryptoKey({name:h.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:I},v,[m?"verify":"sign"])}if("ec"===l.asymmetricKeyType){var C;const I=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(null===(C=l.asymmetricKeyDetails)||void 0===C?void 0:C.namedCurve);if(!I)throw new TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===h&&"P-256"===I&&(w=l.toCryptoKey({name:"ECDSA",namedCurve:I},v,[m?"verify":"sign"])),"ES384"===h&&"P-384"===I&&(w=l.toCryptoKey({name:"ECDSA",namedCurve:I},v,[m?"verify":"sign"])),"ES512"===h&&"P-521"===I&&(w=l.toCryptoKey({name:"ECDSA",namedCurve:I},v,[m?"verify":"sign"])),h.startsWith("ECDH-ES")&&(w=l.toCryptoKey({name:"ECDH",namedCurve:I},v,m?[]:["deriveBits"]))}if(!w)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return g?g[h]=w:bn.set(l,{[h]:w}),w})(u,s)}catch(l){if(l instanceof TypeError)throw l}let c=u.export({format:"jwk"});return qe(u,c,s)}if($o(u))return u.k?Or(u.k):qe(u,u,s,!0);throw new Error("unreachable")}),re.apply(this,arguments)}const Je=u=>u?.[Symbol.toStringTag],Xt=(u,s,c)=>{if(void 0!==s.use){let g;switch(c){case"sign":case"verify":g="sig";break;case"encrypt":case"decrypt":g="enc"}if(s.use!==g)throw new TypeError('Invalid key for this operation, its "use" must be "'.concat(g,'" when present'))}if(void 0!==s.alg&&s.alg!==u)throw new TypeError('Invalid key for this operation, its "alg" must be "'.concat(u,'" when present'));if(Array.isArray(s.key_ops)){var l,h;let g;switch(!0){case"verify"===c:case"dir"===u:case u.includes("CBC-HS"):g=c;break;case u.startsWith("PBES2"):g="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(u):g=!u.includes("GCM")&&u.endsWith("KW")?"unwrapKey":c;break;case"encrypt"===c:g="wrapKey";break;case"decrypt"===c:g=u.startsWith("RSA")?"unwrapKey":"deriveBits"}if(g&&!1===(null===(l=s.key_ops)||void 0===l||null===(h=l.includes)||void 0===h?void 0:h.call(l,g)))throw new TypeError('Invalid key for this operation, its "key_ops" must include "'.concat(g,'" when present'))}return!0};var St,ur;let Ce,ut;(typeof navigator>"u"||null===(St=navigator.userAgent)||void 0===St||null===(ur=St.startsWith)||void 0===ur||!ur.call(St,"Mozilla/5.0 "))&&(ut="".concat("openid-client","/").concat("v6.8.1"),Ce={"user-agent":ut});const $e=u=>ce.get(u);let ce,lr;function Fa(u){return void 0!==u?Ri(u):(lr||(lr=new WeakMap),(s,c,l,h)=>{let g;return(g=lr.get(c))||(function(m,v){if("string"!=typeof m)throw Ht("".concat(v," must be a string"),En);if(0===m.length)throw Ht("".concat(v," must not be empty"),Ue)}(c.client_secret,'"metadata.client_secret"'),g=Ri(c.client_secret),lr.set(c,g)),g(s,c,l,h)})}const en=wn,Ue="ERR_INVALID_ARG_VALUE",En="ERR_INVALID_ARG_TYPE";function Ht(u,s,c){const l=new TypeError(u,{cause:c});return Object.assign(l,{code:s}),l}class Go extends Error{constructor(s,c){var l;super(s,c),K(this,"code",void 0),this.name=this.constructor.name,this.code=c?.code,null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}function nt(u,s,c){return new Go(u,{cause:s,code:c})}function Tt(u){if(u instanceof TypeError||u instanceof Go||u instanceof $n||u instanceof Ud||u instanceof Pi)throw u;if(u instanceof ne)switch(u.code){case Ca:throw nt("only requests to HTTPS are allowed",u,u.code);case Sa:throw nt("only requests to HTTP or HTTPS are allowed",u,u.code);case Hi:throw nt("unexpected HTTP response status code",u.cause,u.code);case Vi:throw nt("unexpected response content-type",u.cause,u.code);case Fi:throw nt("parsing error occured",u,u.code);case De:throw nt("invalid response encountered",u,u.code);case Be:throw nt("unexpected JWT claim value encountered",u,u.code);case _t:throw nt("unexpected JSON attribute value encountered",u,u.code);case ve:throw nt("JWT timestamp claim value failed validation",u,u.code);default:throw nt(u.message,u,u.code)}if(u instanceof Bt)throw nt("unsupported operation",u,u.code);if(u instanceof DOMException)switch(u.name){case"OperationError":throw nt("runtime operation error",u,Da);case"NotSupportedError":throw nt("runtime unsupported operation",u,Da);case"TimeoutError":throw nt("operation timed out",u,"OAUTH_TIMEOUT");case"AbortError":throw nt("operation aborted",u,"OAUTH_ABORT")}throw new Go("something went wrong",{cause:u})}function Q(){return Q=(0,D.A)(function*(u,s,c,l,h){const g=yield(w=(0,D.A)(function*(C,I){var T,k;if(!(C instanceof URL))throw Ht('"server" must be an instance of URL',En);const A=!C.href.includes("/.well-known/"),R=null!==(T=I?.timeout)&&void 0!==T?T:30,L=AbortSignal.timeout(1e3*R),P=yield(A?function Vd(u,s){return Po.apply(this,arguments)}(C,{algorithm:I?.algorithm,[wn]:I?.[en],[Ut]:null==I||null===(k=I.execute)||void 0===k?void 0:k.includes(hr),signal:L,headers:new Headers(Ce)}):(I?.[en]||fetch)((bu(C,null==I||null===(O=I.execute)||void 0===O||!O.includes(hr)),C.href),{headers:Object.fromEntries(new Headers(ie({accept:"application/json"},Ce)).entries()),body:void 0,method:"GET",redirect:"manual",signal:L})).then(j=>{return(ee=(0,D.A)(function*(oe,V){const ye=oe;if(!(ye instanceof URL)&&ye!==Na)throw Ae('"expectedIssuerIdentifier" must be an instance of URL',"ERR_INVALID_ARG_TYPE");if(!Ro(V,Response))throw Ae('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");if(200!==V.status)throw le('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',Hi,V);ao(V);const Ee=yield xa(V);if(tt(Ee.issuer,'"response" body "issuer" property',De,{body:Ee}),ye!==Na&&new URL(Ee.issuer).href!==ye.href)throw le('"response" body "issuer" property does not match the expected value',_t,{expected:ye.href,body:Ee,attribute:"issuer"});return Ee}),function(oe,V){return ee.apply(this,arguments)})(Na,j);var ee}).catch(Tt);var O,oe;return A&&new URL(P.issuer).href!==C.href&&(oe=I,!("https://login.microsoftonline.com"!==C.origin||null!=oe&&oe.algorithm&&"oidc"!==oe.algorithm||(P[Ki]=!0,0))||function(j,ee){return!(!j.hostname.endsWith(".b2clogin.com")||null!=ee&&ee.algorithm&&"oidc"!==ee.algorithm)}(C,I)||(()=>{throw new Go("discovered metadata issuer does not match the expected issuer",{code:_t,cause:{expected:C.href,body:P,attribute:"issuer"}})})()),P}),function(C,I){return w.apply(this,arguments)})(u,h),m=new dr(g,s,c,l);var w;let v=$e(m);if(null!=h&&h[en]&&(v.fetch=h[en]),null!=h&&h.timeout&&(v.timeout=h.timeout),null!=h&&h.execute)for(const w of h.execute)w(m);return m}),Q.apply(this,arguments)}new TextDecoder;const Ki=Symbol();class dr{constructor(s,c,l,h){var g,m,v,w,C;if("string"!=typeof c||!c.length)throw Ht('"clientId" must be a non-empty string',En);if("string"==typeof l&&(l={client_secret:l}),void 0!==(null===(g=l)||void 0===g?void 0:g.client_id)&&c!==l.client_id)throw Ht('"clientId" and "metadata.client_id" must be the same',Ue);const I=ie(ie({},structuredClone(l)),{},{client_id:c});let T;I[Xr]=null!==(m=null===(v=l)||void 0===v?void 0:v[Xr])&&void 0!==m?m:0,I[va]=null!==(w=null===(C=l)||void 0===C?void 0:C[va])&&void 0!==w?w:30,T=h||("string"==typeof I.client_secret&&I.client_secret.length?Fa(I.client_secret):(L,P,O,j)=>{O.set("client_id",P.client_id)});let k=Object.freeze(I);const A=structuredClone(s);Ki in s&&(A[Wi]=L=>{let{claims:{tid:P}}=L;return s.issuer.replace("{tenantid}",P)});let R=Object.freeze(A);ce||(ce=new WeakMap),ce.set(this,{__proto__:null,as:R,c:k,auth:T,tlsOnly:!0,jwksCache:{}})}serverMetadata(){const s=structuredClone($e(this).as);return c=s,Object.defineProperties(c,function(l){return{supportsPKCE:{__proto__:null,value(){var h;return!0===(null===(h=l.code_challenge_methods_supported)||void 0===h?void 0:h.includes(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"S256"))}}}}(c)),s;var c}clientMetadata(){return structuredClone($e(this).c)}get timeout(){return $e(this).timeout}set timeout(s){$e(this).timeout=s}get[en](){return $e(this).fetch}set[en](s){$e(this).fetch=s}}function Gt(u){Object.defineProperties(u,function(s){let c;if(void 0!==s.expires_in){const l=new Date;l.setSeconds(l.getSeconds()+s.expires_in),c=l.getTime()}return{expiresIn:{__proto__:null,value(){if(c){const l=Date.now();return c>l?Math.floor((c-l)/1e3):0}}},claims:{__proto__:null,value(){try{return Li(this)}catch{return}}}}}(u))}function Ko(u,s,c){return fr.apply(this,arguments)}function fr(){return fr=(0,D.A)(function*(u,s,c){var l;let h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const g=null===(l=u.headers.get("retry-after"))||void 0===l?void 0:l.trim();if(void 0===g)return;let m;if(/^\d+$/.test(g))m=parseInt(g,10);else{const v=new Date(g);if(Number.isFinite(v.getTime())){const w=new Date,C=v.getTime()-w.getTime();C>0&&(m=Math.ceil(C/1e3))}}if(h&&!Number.isFinite(m))throw new ne("invalid Retry-After header value",{cause:u});m>s&&(yield rt(m-s,c))}),fr.apply(this,arguments)}function rt(u,s){return new Promise((c,l)=>{const h=g=>{try{s.throwIfAborted()}catch(v){return void l(v)}if(g<=0)return void c();const m=Math.min(g,5);setTimeout(()=>h(g-m),1e3*m)};h(u)})}function qo(u,s){return lt.apply(this,arguments)}function lt(){return lt=(0,D.A)(function*(u,s){pr(u);const{as:c,c:l,auth:h,fetch:g,tlsOnly:m,timeout:v}=$e(u);return(w=(0,D.A)(function*(C,I,T,k,A){Wt(C),zt(I);const R=Rr(C,"backchannel_authentication_endpoint",I.use_mtls_endpoint_aliases,!0!==A?.[Ut]),L=new URLSearchParams(k);L.set("client_id",I.client_id);const P=ki(A?.headers);return P.set("accept","application/json"),Ia(C,I,T,R,L,P,A)}),function(C,I,T,k,A){return w.apply(this,arguments)})(c,l,h,s,{[wn]:g,[Ut]:!m,headers:new Headers(Ce),signal:ho(v)}).then(w=>{return(C=(0,D.A)(function*(I,T,k){if(Wt(I),zt(T),!Ro(k,Response))throw Ae('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");yield no(k,200,"Backchannel Authentication Endpoint"),ao(k);const A=yield xa(k);tt(A.auth_req_id,'"response" body "auth_req_id" property',De,{body:A});let R="number"!=typeof A.expires_in?parseFloat(A.expires_in):A.expires_in;return ir(R,!0,'"response" body "expires_in" property',De,{body:A}),A.expires_in=R,void 0!==A.interval&&ir(A.interval,!1,'"response" body "interval" property',De,{body:A}),A}),function(I,T,k){return C.apply(this,arguments)})(c,l,w);var C}).catch(Tt);var w}),lt.apply(this,arguments)}function kt(u,s,c,l){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,D.A)(function*(u,s,c,l){var h,g;pr(u),c=new URLSearchParams(c);let m=null!==(h=s.interval)&&void 0!==h?h:5;const v=null!==(g=l?.signal)&&void 0!==g?g:AbortSignal.timeout(1e3*s.expires_in);try{yield rt(m,v)}catch(V){Tt(V)}const{as:w,c:C,auth:I,fetch:T,tlsOnly:k,nonRepudiation:A,timeout:R,decrypt:L}=$e(u),P=(V,ye)=>kt(u,ie(ie({},s),{},{interval:V}),c,ie(ie({},l),{},{signal:v,flag:ye})),O=yield(V=(0,D.A)(function*(ye,Ee,rn,it,Fn){Wt(ye),zt(Ee),tt(it,'"authReqId"');const Pt=new URLSearchParams(Fn?.additionalParameters);return Pt.set("auth_req_id",it),oo(ye,Ee,rn,"urn:openid:params:grant-type:ciba",Pt,Fn)}),function(ye,Ee,rn,it,Fn){return V.apply(this,arguments)})(w,C,I,s.auth_req_id,{[wn]:T,[Ut]:!k,additionalParameters:c,DPoP:l?.DPoP,headers:new Headers(Ce),signal:v.aborted?v:ho(R)}).catch(Tt);var V,j;if(503===O.status&&O.headers.has("retry-after"))return yield Ko(O,m,v,!0),yield null===(j=O.body)||void 0===j?void 0:j.cancel(),P(m);const ee=function(){var V=(0,D.A)(function*(ye,Ee,rn,it){return so(ye,Ee,rn,void 0,it?.[zn],it?.recognizedTokenTypes)});return function(ye,Ee,rn,it){return V.apply(this,arguments)}}()(w,C,O,{[zn]:L});let oe;try{oe=yield ee}catch(V){if(Zi(V,l))return P(m,Fr);if(V instanceof $n)switch(V.error){case"slow_down":m+=5;case"authorization_pending":return yield Ko(V.response,m,v),P(m)}Tt(V)}return oe.id_token&&(yield A?.(O)),Gt(oe),oe}),Jo.apply(this,arguments)}function hr(u){$e(u).tlsOnly=!1}function Zo(u,s,c,l,h){return tn.apply(this,arguments)}function tn(){return tn=(0,D.A)(function*(u,s,c,l,h){if(pr(u),!(h?.flag===Fr||s instanceof URL||function(V){try{return"Request"===Object.getPrototypeOf(V)[Symbol.toStringTag]}catch{return!1}}(s)))throw Ht('"currentUrl" must be an instance of URL, or Request',En);let g,m;const{as:v,c:w,auth:C,fetch:I,tlsOnly:T,jarm:k,hybrid:A,nonRepudiation:R,timeout:L,decrypt:P,implicit:O}=$e(u);if(h?.flag===Fr)g=h.authResponse,m=h.redirectUri;else{if(!(s instanceof URL)){const V=s;switch(s=new URL(s.url),V.method){case"GET":break;case"POST":const ye=new URLSearchParams(yield function qd(u){return Aa.apply(this,arguments)}(V));if(A)s.hash=ye.toString();else for(const[Ee,rn]of ye.entries())s.searchParams.append(Ee,rn);break;default:throw Ht("unexpected Request HTTP method",Ue)}}switch(V=s,(V=new URL(V)).search="",V.hash="",m=V.href,!0){case!!k:g=yield k(s,c?.expectedState);break;case!!A:g=yield A(s,c?.expectedNonce,c?.expectedState,c?.maxAge);break;case!!O:throw new TypeError("authorizationCodeGrant() cannot be used by response_type=id_token clients");default:try{g=function Bi(u,s,c,l){if(Wt(u),zt(s),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw Ae('"parameters" must be an instance of URLSearchParams, or URL',"ERR_INVALID_ARG_TYPE");if(Pr(c,"response"))throw le('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',De,{parameters:c});const h=Pr(c,"iss"),g=Pr(c,"state");if(!h&&u.authorization_response_iss_parameter_supported)throw le('response parameter "iss" (issuer) missing',De,{parameters:c});if(h&&h!==u.issuer)throw le('unexpected "iss" (issuer) response parameter value',De,{expected:u.issuer,parameters:c});switch(l){case void 0:case Au:if(void 0!==g)throw le('unexpected "state" response parameter encountered',De,{expected:void 0,parameters:c});break;case Ma:break;default:if(tt(l,'"expectedState" argument'),g!==l)throw le(void 0===g?'response parameter "state" missing':'unexpected "state" response parameter value',De,{expected:l,parameters:c})}if(Pr(c,"error"))throw new Ud("authorization response from the server is an error",{cause:c});const m=Pr(c,"id_token"),v=Pr(c,"token");if(void 0!==m||void 0!==v)throw new Bt("implicit and hybrid flows are not supported");return w=new URLSearchParams(c),Yt.add(w),w;var w}(v,w,s.searchParams,c?.expectedState)}catch(V){Tt(V)}}}var V;const j=yield function(){var V=(0,D.A)(function*(ye,Ee,rn,it,Fn,Pt,Vn){if(Wt(ye),zt(Ee),!Yt.has(it))throw Ae('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',"ERR_INVALID_ARG_VALUE");tt(Fn,'"redirectUri"');const sf=Pr(it,"code");if(!sf)throw le('no authorization code in "callbackParameters"',De);const oi=new URLSearchParams(Vn?.additionalParameters);return oi.set("redirect_uri",Fn),oi.set("code",sf),Pt!==Cu&&(tt(Pt,'"codeVerifier"'),oi.set("code_verifier",Pt)),oo(ye,Ee,rn,"authorization_code",oi,Vn)});return function(ye,Ee,rn,it,Fn,Pt,Vn){return V.apply(this,arguments)}}()(v,w,C,g,m,c?.pkceCodeVerifier||Cu,{additionalParameters:l,[wn]:I,[Ut]:!T,DPoP:h?.DPoP,headers:new Headers(Ce),signal:ho(L)}).catch(Tt);"string"!=typeof c?.expectedNonce&&"number"!=typeof c?.maxAge||(c.idTokenExpected=!0);const ee=function $d(u,s,c,l){return ji.apply(this,arguments)}(v,w,j,{expectedNonce:c?.expectedNonce,maxAge:c?.maxAge,requireIdToken:c?.idTokenExpected,[zn]:P});let oe;try{oe=yield ee}catch(V){if(Zi(V,h))return Zo(u,void 0,c,l,ie(ie({},h),{},{flag:Fr,authResponse:g,redirectUri:m}));Tt(V)}return oe.id_token&&(yield R?.(j)),Gt(oe),oe}),tn.apply(this,arguments)}function fo(u,s,c,l){return qi.apply(this,arguments)}function qi(){return qi=(0,D.A)(function*(u,s,c,l){pr(u),c=new URLSearchParams(c);const{as:h,c:g,auth:m,fetch:v,tlsOnly:w,nonRepudiation:C,timeout:I,decrypt:T}=$e(u),k=yield(L=(0,D.A)(function*(P,O,j,ee,oe){Wt(P),zt(O),tt(ee,'"refreshToken"');const V=new URLSearchParams(oe?.additionalParameters);return V.set("refresh_token",ee),oo(P,O,j,"refresh_token",V,oe)}),function(P,O,j,ee,oe){return L.apply(this,arguments)})(h,g,m,s,{[wn]:v,[Ut]:!w,additionalParameters:c,DPoP:l?.DPoP,headers:new Headers(Ce),signal:ho(I)}).catch(Tt),A=function(){var L=(0,D.A)(function*(P,O,j,ee){return so(P,O,j,void 0,ee?.[zn],ee?.recognizedTokenTypes)});return function(P,O,j,ee){return L.apply(this,arguments)}}()(h,g,k,{[zn]:T});var L;let R;try{R=yield A}catch(L){if(Zi(L,l))return fo(u,s,c,ie(ie({},l),{},{flag:Fr}));Tt(L)}return R.id_token&&(yield C?.(k)),Gt(R),R}),qi.apply(this,arguments)}function Pu(u,s,c){return Qo.apply(this,arguments)}function Qo(){return Qo=(0,D.A)(function*(u,s,c){pr(u),s=new URLSearchParams(s);const{as:l,c:h,auth:g,fetch:m,tlsOnly:v,timeout:w}=$e(u),C=yield(k=(0,D.A)(function*(A,R,L,P,O){return Wt(A),zt(R),oo(A,R,L,"client_credentials",new URLSearchParams(P),O)}),function(A,R,L,P,O){return k.apply(this,arguments)})(l,h,g,s,{[wn]:m,[Ut]:!v,DPoP:c?.DPoP,headers:new Headers(Ce),signal:ho(w)}).catch(Tt),I=function(){var k=(0,D.A)(function*(A,R,L,P){return so(A,R,L,void 0,void 0,void 0)});return function(A,R,L,P){return k.apply(this,arguments)}}()(l,h,C);var k;let T;try{T=yield I}catch(k){if(Zi(k,c))return Pu(u,s,ie(ie({},c),{},{flag:Fr}));Tt(k)}return Gt(T),T}),Qo.apply(this,arguments)}function Ji(u,s){pr(u);const{as:c,c:l,tlsOnly:h,hybrid:g,jarm:m,implicit:v}=$e(u),w=Rr(c,"authorization_endpoint",!1,h);if((s=new URLSearchParams(s)).has("client_id")||s.set("client_id",l.client_id),!s.has("request_uri")&&!s.has("request")){if(s.has("response_type")||s.set("response_type",g?"code id_token":v?"id_token":"code"),v&&!s.has("nonce"))throw Ht("response_type=id_token clients must provide a nonce parameter in their authorization request parameters",Ue);m&&s.set("response_mode","jwt")}for(const[C,I]of s.entries())w.searchParams.append(C,I);return w}function Ou(u,s,c){return Yo.apply(this,arguments)}function Yo(){return Yo=(0,D.A)(function*(u,s,c){pr(u);const l=Ji(u,s),{as:h,c:g,auth:m,fetch:v,tlsOnly:w,timeout:C}=$e(u),I=yield(A=(0,D.A)(function*(R,L,P,O,j){var ee;Wt(R),zt(L);const oe=Rr(R,"pushed_authorization_request_endpoint",L.use_mtls_endpoint_aliases,!0!==j?.[Ut]),V=new URLSearchParams(O);V.set("client_id",L.client_id);const ye=ki(j?.headers);ye.set("accept","application/json"),void 0!==j?.DPoP&&(Gn(j.DPoP),yield j.DPoP.addProof(oe,ye,"POST"));const Ee=yield Ia(R,L,P,oe,V,ye,j);return null==j||null===(ee=j.DPoP)||void 0===ee||ee.cacheNonce(Ee,oe),Ee}),function(R,L,P,O,j){return A.apply(this,arguments)})(h,g,m,l.searchParams,{[wn]:v,[Ut]:!w,DPoP:c?.DPoP,headers:new Headers(Ce),signal:ho(C)}).catch(Tt),T=function(){var A=(0,D.A)(function*(R,L,P){if(Wt(R),zt(L),!Ro(P,Response))throw Ae('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");yield no(P,201,"Pushed Authorization Request Endpoint"),ao(P);const O=yield xa(P);tt(O.request_uri,'"response" body "request_uri" property',De,{body:O});let j="number"!=typeof O.expires_in?parseFloat(O.expires_in):O.expires_in;return ir(j,!0,'"response" body "expires_in" property',De,{body:O}),O.expires_in=j,O});return function(R,L,P){return A.apply(this,arguments)}}()(h,g,I);var A;let k;try{k=yield T}catch(A){if(Zi(A,c))return Ou(u,s,ie(ie({},c),{},{flag:Fr}));Tt(A)}return Ji(u,{request_uri:k.request_uri})}),Yo.apply(this,arguments)}function pr(u){if(!(u instanceof dr))throw Ht('"config" must be an instance of Configuration',En);if(Object.getPrototypeOf(u)!==dr.prototype)throw Ht("subclassing Configuration is not allowed",Ue)}function ho(u){return u?AbortSignal.timeout(1e3*u):void 0}function Zi(u,s){return!(null==s||!s.DPoP||s.flag===Fr)&&function(c){if(c instanceof Pi){const{0:l,length:h}=c.cause;return 1===h&&"dpop"===l.scheme&&"use_dpop_nonce"===l.parameters.error}return c instanceof $n&&"use_dpop_nonce"===c.error}(u)}Object.freeze(dr.prototype);const Fr=Symbol();function Lu(u,s,c,l){return ju.apply(this,arguments)}function ju(){return ju=(0,D.A)(function*(u,s,c,l){pr(u);const{as:h,c:g,auth:m,fetch:v,tlsOnly:w,timeout:C,decrypt:I}=$e(u),T=yield(k=(0,D.A)(function*(A,R,L,P,O,j){return Wt(A),zt(R),tt(P,'"grantType"'),oo(A,R,L,P,new URLSearchParams(O),j)}),function(A,R,L,P,O,j){return k.apply(this,arguments)})(h,g,m,s,new URLSearchParams(c),{[wn]:v,[Ut]:!w,DPoP:void 0,headers:new Headers(Ce),signal:ho(C)}).then(k=>{let A;return"urn:ietf:params:oauth:grant-type:token-exchange"===s&&(A={n_a:()=>{}}),(R=(0,D.A)(function*(L,P,O,j){return so(L,P,O,void 0,j?.[zn],j?.recognizedTokenTypes)}),function(L,P,O,j){return R.apply(this,arguments)})(h,g,k,{[zn]:I,recognizedTokenTypes:A});var R}).catch(Tt);var k;return Gt(T),T}),ju.apply(this,arguments)}function Fu(){return Fu=(0,D.A)(function*(u,s,c){if(s instanceof Uint8Array){if(!u.startsWith("HS"))throw new TypeError(function(l){for(var h=arguments.length,g=new Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];return La("Key must be ",l,...g)}(s,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",s,{hash:"SHA-".concat(u.slice(-3)),name:"HMAC"},!1,[c])}return function Jd(u,s,c){switch(s){case"HS256":case"HS384":case"HS512":{if(!uo(u.algorithm,"HMAC"))throw On("HMAC");const l=parseInt(s.slice(2),10);if(Wo(u.algorithm.hash)!==l)throw On("SHA-".concat(l),"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!uo(u.algorithm,"RSASSA-PKCS1-v1_5"))throw On("RSASSA-PKCS1-v1_5");const l=parseInt(s.slice(2),10);if(Wo(u.algorithm.hash)!==l)throw On("SHA-".concat(l),"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!uo(u.algorithm,"RSA-PSS"))throw On("RSA-PSS");const l=parseInt(s.slice(2),10);if(Wo(u.algorithm.hash)!==l)throw On("SHA-".concat(l),"algorithm.hash");break}case"Ed25519":case"EdDSA":if(!uo(u.algorithm,"Ed25519"))throw On("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":if(!uo(u.algorithm,s))throw On(s);break;case"ES256":case"ES384":case"ES512":{if(!uo(u.algorithm,"ECDSA"))throw On("ECDSA");const l=function(h){switch(h){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(s);if(u.algorithm.namedCurve!==l)throw On(l,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}!function(l,h){if(!l.usages.includes(h))throw new TypeError("CryptoKey does not support this operation, its usages must include ".concat(h,"."))}(u,c)}(s,u,c),s}),Fu.apply(this,arguments)}function Vu(){return Vu=(0,D.A)(function*(u,s,c,l){const h=yield function ag(u,s,c){return Fu.apply(this,arguments)}(u,s,"verify");!function(m,v){if(m.startsWith("RS")||m.startsWith("PS")){const{modulusLength:w}=v.algorithm;if("number"!=typeof w||w<2048)throw new TypeError("".concat(m," requires key modulusLength to be 2048 bits or larger"))}}(u,h);const g=function(m,v){const w="SHA-".concat(m.slice(-3));switch(m){case"HS256":case"HS384":case"HS512":return{hash:w,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:w,name:"RSA-PSS",saltLength:parseInt(m.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:w,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:w,name:"ECDSA",namedCurve:v.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:m};default:throw new Qe("alg ".concat(m," is not supported either by JOSE or your javascript runtime"))}}(u,h.algorithm);try{return yield crypto.subtle.verify(g,h,c,l)}catch{return!1}}),Vu.apply(this,arguments)}function Hu(){return Hu=(0,D.A)(function*(u,s,c){if(!ze(u))throw new Xe("Flattened JWS must be an object");if(void 0===u.protected&&void 0===u.header)throw new Xe('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==u.protected&&"string"!=typeof u.protected)throw new Xe("JWS Protected Header incorrect type");if(void 0===u.payload)throw new Xe("JWS Payload missing");if("string"!=typeof u.signature)throw new Xe("JWS Signature missing or incorrect type");if(void 0!==u.header&&!ze(u.header))throw new Xe("JWS Unprotected Header incorrect type");let l={};if(u.protected)try{const L=Or(u.protected);l=JSON.parse(co.decode(L))}catch{throw new Xe("JWS Protected Header is invalid")}if(!function(){for(var L=arguments.length,P=new Array(L),O=0;O<L;O++)P[O]=arguments[O];const j=P.filter(Boolean);if(0===j.length||1===j.length)return!0;let ee;for(const oe of j){const V=Object.keys(oe);if(ee&&0!==ee.size)for(const ye of V){if(ee.has(ye))return!1;ee.add(ye)}else ee=new Set(V)}return!0}(l,u.header))throw new Xe("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const h=ie(ie({},l),u.header);let m=!0;if(function(L,P,O,j,ee){if(void 0!==ee.crit&&void 0===j?.crit)throw new L('"crit" (Critical) Header Parameter MUST be integrity protected');if(!j||void 0===j.crit)return new Set;if(!Array.isArray(j.crit)||0===j.crit.length||j.crit.some(V=>"string"!=typeof V||0===V.length))throw new L('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let oe;oe=void 0!==O?new Map([...Object.entries(O),...P.entries()]):P;for(const V of j.crit){if(!oe.has(V))throw new Qe('Extension Header Parameter "'.concat(V,'" is not recognized'));if(void 0===ee[V])throw new L('Extension Header Parameter "'.concat(V,'" is missing'));if(oe.get(V)&&void 0===j[V])throw new L('Extension Header Parameter "'.concat(V,'" MUST be integrity protected'))}return new Set(j.crit)}(Xe,new Map([["b64",!0]]),c?.crit,l,h).has("b64")&&(m=l.b64,"boolean"!=typeof m))throw new Xe('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:v}=h;if("string"!=typeof v||!v)throw new Xe('JWS "alg" (Algorithm) Header Parameter missing or invalid');const w=c&&function(L,P){if(void 0!==P&&(!Array.isArray(P)||P.some(O=>"string"!=typeof O)))throw new TypeError('"'.concat("algorithms",'" option must be an array of strings'));if(P)return new Set(P)}(0,c.algorithms);if(w&&!w.has(v))throw new Uo('"alg" (Algorithm) Header Parameter value not allowed');if(m){if("string"!=typeof u.payload)throw new Xe("JWS Payload must be a string")}else if("string"!=typeof u.payload&&!(u.payload instanceof Uint8Array))throw new Xe("JWS Payload must be a string or an Uint8Array instance");let C=!1;"function"==typeof s&&(s=yield s(l,u),C=!0),function Nt(u,s,c){switch(u.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((l,h,g)=>{if(!(h instanceof Uint8Array)){if($o(h)){if("oct"===(m=h).kty&&"string"==typeof m.k&&Xt(l,h,g))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!ku(h))throw new TypeError(zi(l,h,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==h.type)throw new TypeError("".concat(Je(h),' instances for symmetric algorithms must be of type "secret"'))}var m})(u,s,c);break;default:((l,h,g)=>{if($o(h))switch(g){case"decrypt":case"sign":if("oct"!==(m=h).kty&&("AKP"===m.kty&&"string"==typeof m.priv||"string"==typeof m.d)&&Xt(l,h,g))return;throw new TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if((m=>"oct"!==m.kty&&void 0===m.d&&void 0===m.priv)(h)&&Xt(l,h,g))return;throw new TypeError("JSON Web Key for this operation must be a public JWK")}var m;if(!ku(h))throw new TypeError(zi(l,h,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===h.type)throw new TypeError("".concat(Je(h),' instances for asymmetric algorithms must not be of type "secret"'));if("public"===h.type)switch(g){case"sign":throw new TypeError("".concat(Je(h),' instances for asymmetric algorithm signing must be of type "private"'));case"decrypt":throw new TypeError("".concat(Je(h),' instances for asymmetric algorithm decryption must be of type "private"'))}if("private"===h.type)switch(g){case"verify":throw new TypeError("".concat(Je(h),' instances for asymmetric algorithm verifying must be of type "public"'));case"encrypt":throw new TypeError("".concat(Je(h),' instances for asymmetric algorithm encryption must be of type "public"'))}})(u,s,c)}}(v,s,"verify");const I=function(){for(var L=arguments.length,P=new Array(L),O=0;O<L;O++)P[O]=arguments[O];const j=P.reduce((V,ye)=>{let{length:Ee}=ye;return V+Ee},0),ee=new Uint8Array(j);let oe=0;for(const V of P)ee.set(V,oe),oe+=V.length;return ee}(void 0!==u.protected?qn(u.protected):new Uint8Array,qn("."),"string"==typeof u.payload?m?qn(u.payload):ka.encode(u.payload):u.payload);let T;try{T=Or(u.signature)}catch{throw new Xe("Failed to base64url decode the signature")}const k=yield function H(u,s){return re.apply(this,arguments)}(s,v);if(!(yield function cg(u,s,c,l){return Vu.apply(this,arguments)}(v,k,T,I)))throw new xu;let A;if(m)try{A=Or(u.payload)}catch{throw new Xe("Failed to base64url decode the payload")}else A="string"==typeof u.payload?ka.encode(u.payload):u.payload;const R={payload:A};return void 0!==u.protected&&(R.protectedHeader=l),void 0!==u.header&&(R.unprotectedHeader=u.header),C?ie(ie({},R),{},{key:k}):R}),Hu.apply(this,arguments)}const Bu=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function Xd(u){const s=Bu.exec(u);if(!s||s[4]&&s[1])throw new TypeError("Invalid time period format");const c=parseFloat(s[2]);let l;switch(s[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":l=Math.round(c);break;case"minute":case"minutes":case"min":case"mins":case"m":l=Math.round(60*c);break;case"hour":case"hours":case"hr":case"hrs":case"h":l=Math.round(3600*c);break;case"day":case"days":case"d":l=Math.round(86400*c);break;case"week":case"weeks":case"w":l=Math.round(604800*c);break;default:l=Math.round(31557600*c)}return"-"===s[1]||"ago"===s[4]?-l:l}const ef=u=>u.includes("/")?u.toLowerCase():"application/".concat(u.toLowerCase());function Va(){return Va=(0,D.A)(function*(u,s,c){var l;const h=yield(v=(0,D.A)(function*(w,C,I){if(w instanceof Uint8Array&&(w=co.decode(w)),"string"!=typeof w)throw new Xe("Compact JWS must be a string or Uint8Array");const{0:T,1:k,2:A,length:R}=w.split(".");if(3!==R)throw new Xe("Invalid Compact JWS");const L=yield function ug(u,s,c){return Hu.apply(this,arguments)}({payload:k,protected:T,signature:A},C,I),P={payload:L.payload,protectedHeader:L.protectedHeader};return"function"==typeof C?ie(ie({},P),{},{key:L.key}):P}),function(w,C,I){return v.apply(this,arguments)})(u,s,c);var v;if(null!==(l=h.protectedHeader.crit)&&void 0!==l&&l.includes("b64")&&!1===h.protectedHeader.b64)throw new Bo("JWTs MUST NOT use unencoded payload");const g=function(v,w){let C,I=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{C=JSON.parse(co.decode(w))}catch{}if(!ze(C))throw new Bo("JWT Claims Set must be a top-level JSON object");const{typ:T}=I;if(T&&("string"!=typeof v.typ||ef(v.typ)!==ef(T)))throw new In('unexpected "typ" JWT header value',C,"typ","check_failed");const{requiredClaims:k=[],issuer:A,subject:R,audience:L,maxTokenAge:P}=I,O=[...k];void 0!==P&&O.push("iat"),void 0!==L&&O.push("aud"),void 0!==R&&O.push("sub"),void 0!==A&&O.push("iss");for(const V of new Set(O.reverse()))if(!(V in C))throw new In('missing required "'.concat(V,'" claim'),C,V,"missing");if(A&&!(Array.isArray(A)?A:[A]).includes(C.iss))throw new In('unexpected "iss" claim value',C,"iss","check_failed");if(R&&C.sub!==R)throw new In('unexpected "sub" claim value',C,"sub","check_failed");if(L&&!((u,s)=>"string"==typeof u?s.includes(u):!!Array.isArray(u)&&s.some(Set.prototype.has.bind(new Set(u))))(C.aud,"string"==typeof L?[L]:L))throw new In('unexpected "aud" claim value',C,"aud","check_failed");let j;switch(typeof I.clockTolerance){case"string":j=Xd(I.clockTolerance);break;case"number":j=I.clockTolerance;break;case"undefined":j=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:ee}=I,oe=(u=>Math.floor(u.getTime()/1e3))(ee||new Date);if((void 0!==C.iat||P)&&"number"!=typeof C.iat)throw new In('"iat" claim must be a number',C,"iat","invalid");if(void 0!==C.nbf){if("number"!=typeof C.nbf)throw new In('"nbf" claim must be a number',C,"nbf","invalid");if(C.nbf>oe+j)throw new In('"nbf" claim timestamp check failed',C,"nbf","check_failed")}if(void 0!==C.exp){if("number"!=typeof C.exp)throw new In('"exp" claim must be a number',C,"exp","invalid");if(C.exp<=oe-j)throw new Ho('"exp" claim timestamp check failed',C,"exp","check_failed")}if(P){const V=oe-C.iat;if(V-j>("number"==typeof P?P:Xd(P)))throw new Ho('"iat" claim timestamp check failed (too far in the past)',C,"iat","check_failed");if(V<0-j)throw new In('"iat" claim timestamp check failed (it should be in the past)',C,"iat","check_failed")}return C}(h.protectedHeader,h.payload,c),m={payload:g,protectedHeader:h.protectedHeader};return"function"==typeof s?ie(ie({},m),{},{key:h.key}):m}),Va.apply(this,arguments)}function Wu(u){return ze(u)}var po,Qi,Yi=new WeakMap,Ha=new WeakMap;class zu{constructor(s){if(vt(this,Yi,void 0),vt(this,Ha,new WeakMap),!((c=s)&&"object"==typeof c&&Array.isArray(c.keys)&&c.keys.every(Wu)))throw new Ra("JSON Web Key Set malformed");var c;Ye(Yi,this,structuredClone(s))}jwks(){return G(Yi,this)}getKey(s,c){var l=this;return(0,D.A)(function*(){const{alg:h,kid:g}=ie(ie({},s),c?.header),m=function(I){switch("string"==typeof I&&I.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new Qe('Unsupported "alg" value for a JSON Web Key Set')}}(h),v=G(Yi,l).keys.filter(I=>{let T=m===I.kty;if(T&&"string"==typeof g&&(T=g===I.kid),!T||"string"!=typeof I.alg&&"AKP"!==m||(T=h===I.alg),T&&"string"==typeof I.use&&(T="sig"===I.use),T&&Array.isArray(I.key_ops)&&(T=I.key_ops.includes("verify")),T)switch(h){case"ES256":T="P-256"===I.crv;break;case"ES384":T="P-384"===I.crv;break;case"ES512":T="P-521"===I.crv;break;case"Ed25519":case"EdDSA":T="Ed25519"===I.crv}return T}),{0:w,length:C}=v;if(0===C)throw new Pa;if(1!==C){const I=new Oa,T=G(Ha,l);throw I[Symbol.asyncIterator]=function ya(u){return function(){return new Yr(u.apply(this,arguments))}}(function*(){for(const k of v)try{yield yield pe(Ua(T,k,h))}catch{}}),I}return Ua(G(Ha,l),w,h)})()}}function Ua(u,s,c){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,D.A)(function*(u,s,c){const l=u.get(s)||u.set(s,{}).get(s);if(void 0===l[c]){const h=yield(g=(0,D.A)(function*(m,v,w){if(!ze(m))throw new TypeError("JWK must be an object");let I;switch(null!=v||(v=m.alg),null!=I||(I=m.ext),m.kty){case"oct":if("string"!=typeof m.k||!m.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Or(m.k);case"RSA":if("oth"in m&&void 0!==m.oth)throw new Qe('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return Gi(ie(ie({},m),{},{alg:v,ext:I}));case"AKP":if("string"!=typeof m.alg||!m.alg)throw new TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==v&&v!==m.alg)throw new TypeError("JWK alg and alg option value mismatch");return Gi(ie(ie({},m),{},{ext:I}));case"EC":case"OKP":return Gi(ie(ie({},m),{},{alg:v,ext:I}));default:throw new Qe('Unsupported "kty" (Key Type) Parameter value')}}),function(m,v,w){return g.apply(this,arguments)})(ie(ie({},s),{},{ext:!0}),c);if(h instanceof Uint8Array||"public"!==h.type)throw new Ra("JSON Web Key Set members must be public keys");l[c]=h}var g;return l[c]}),Ba.apply(this,arguments)}function Xi(u){const s=new zu(u),c=function(){var l=(0,D.A)(function*(h,g){return s.getKey(h,g)});return function(g,m){return l.apply(this,arguments)}}();return Object.defineProperties(c,{jwks:{value:()=>structuredClone(s.jwks()),enumerable:!1,configurable:!1,writable:!1}}),c}let Wa;(typeof navigator>"u"||null===(po=navigator.userAgent)||void 0===po||null===(Qi=po.startsWith)||void 0===Qi||!Qi.call(po,"Mozilla/5.0 "))&&(Wa="".concat("jose","/").concat("v6.1.3"));const Dn=Symbol(),es=Symbol();var ts=new WeakMap,Se=new WeakMap,Xo=new WeakMap,gr=new WeakMap,dt=new WeakMap,Qn=new WeakMap,dn=new WeakMap,Yn=new WeakMap,wt=new WeakMap,Vr=new WeakMap;class za{constructor(s,c){if(vt(this,ts,void 0),vt(this,Se,void 0),vt(this,Xo,void 0),vt(this,gr,void 0),vt(this,dt,void 0),vt(this,Qn,void 0),vt(this,dn,void 0),vt(this,Yn,void 0),vt(this,wt,void 0),vt(this,Vr,void 0),!(s instanceof URL))throw new TypeError("url must be an instance of URL");var l,h;Ye(ts,this,new URL(s.href)),Ye(Se,this,"number"==typeof c?.timeoutDuration?c?.timeoutDuration:5e3),Ye(Xo,this,"number"==typeof c?.cooldownDuration?c?.cooldownDuration:3e4),Ye(gr,this,"number"==typeof c?.cacheMaxAge?c?.cacheMaxAge:6e5),Ye(dn,this,new Headers(c?.headers)),Wa&&!G(dn,this).has("User-Agent")&&G(dn,this).set("User-Agent",Wa),G(dn,this).has("accept")||(G(dn,this).set("accept","application/json"),G(dn,this).append("accept","application/jwk-set+json")),Ye(Yn,this,c?.[Dn]),void 0!==c?.[es]&&(Ye(Vr,this,c?.[es]),l=c?.[es],h=G(gr,this),"object"==typeof l&&null!==l&&"uat"in l&&"number"==typeof l.uat&&!(Date.now()-l.uat>=h)&&"jwks"in l&&ze(l.jwks)&&Array.isArray(l.jwks.keys)&&Array.prototype.every.call(l.jwks.keys,ze)&&(Ye(dt,this,G(Vr,this).uat),Ye(wt,this,Xi(G(Vr,this).jwks))))}pendingFetch(){return!!G(Qn,this)}coolingDown(){return"number"==typeof G(dt,this)&&Date.now()<G(dt,this)+G(Xo,this)}fresh(){return"number"==typeof G(dt,this)&&Date.now()<G(dt,this)+G(gr,this)}jwks(){var s;return null===(s=G(wt,this))||void 0===s?void 0:s.jwks()}getKey(s,c){var l=this;return(0,D.A)(function*(){G(wt,l)&&l.fresh()||(yield l.reload());try{return yield G(wt,l).call(l,s,c)}catch(h){if(h instanceof Pa&&!1===l.coolingDown())return yield l.reload(),G(wt,l).call(l,s,c);throw h}})()}reload(){var s=this;return(0,D.A)(function*(){var c;G(Qn,s)&&(typeof WebSocketPair<"u"||typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent||typeof EdgeRuntime<"u"&&"vercel"===EdgeRuntime)&&Ye(Qn,s,void 0),G(Qn,s)||Ye(Qn,s,(c=(0,D.A)(function*(l,h,g){const v=yield(arguments.length>3&&void 0!==arguments[3]?arguments[3]:fetch)(l,{method:"GET",signal:g,redirect:"manual",headers:h}).catch(w=>{throw"TimeoutError"===w.name?new Lr:w});if(200!==v.status)throw new gt("Expected 200 OK from the JSON Web Key Set HTTP response");try{return yield v.json()}catch{throw new gt("Failed to parse the JSON Web Key Set HTTP response as JSON")}}),function(l,h,g){return c.apply(this,arguments)})(G(ts,s).href,G(dn,s),AbortSignal.timeout(G(Se,s)),G(Yn,s)).then(c=>{Ye(wt,s,Xi(c)),G(Vr,s)&&(G(Vr,s).uat=Date.now(),G(Vr,s).jwks=c),Ye(dt,s,Date.now()),Ye(Qn,s,void 0)}).catch(c=>{throw Ye(Qn,s,void 0),c})),yield G(Qn,s)})()}}const tf=["mfaToken"],fn=["mfaToken"];var mr,ei,yr,Cn,vr,Oe,_r,ot,Ln=class extends Error{constructor(u,s){super(s),K(this,"code",void 0),this.name="NotSupportedError",this.code=u}},se=class extends Error{constructor(u,s,c){super(s),K(this,"cause",void 0),K(this,"code",void 0),this.code=u,this.cause=c&&{error:c.error,error_description:c.error_description,message:c.message}}},ns=class extends se{constructor(u,s){super("token_by_code_error",u,s),this.name="TokenByCodeError"}},$a=class extends se{constructor(u,s){super("token_by_client_credentials_error",u,s),this.name="TokenByClientCredentialsError"}},$u=class extends se{constructor(u,s){super("token_by_refresh_token_error",u,s),this.name="TokenByRefreshTokenError"}},Gu=class extends se{constructor(u,s){super("token_for_connection_error",u,s),this.name="TokenForConnectionErrorCode"}},jn=class extends se{constructor(u,s){super("token_exchange_error",u,s),this.name="TokenExchangeError"}},wr=class extends Error{constructor(u){super(u),K(this,"code","verify_logout_token_error"),this.name="VerifyLogoutTokenError"}},Ga=class extends se{constructor(u){super("backchannel_authentication_error","There was an error when trying to use Client-Initiated Backchannel Authentication.",u),K(this,"code","backchannel_authentication_error"),this.name="BackchannelAuthenticationError"}},Ku=class extends se{constructor(u){super("build_authorization_url_error","There was an error when trying to build the authorization URL.",u),this.name="BuildAuthorizationUrlError"}},Hr=class extends se{constructor(u){super("build_link_user_url_error","There was an error when trying to build the Link User URL.",u),this.name="BuildLinkUserUrlError"}},nf=class extends se{constructor(u){super("build_unlink_user_url_error","There was an error when trying to build the Unlink User URL.",u),this.name="BuildUnlinkUserUrlError"}},rf=class extends Error{constructor(){super("The client secret or client assertion signing key must be provided."),K(this,"code","missing_client_auth_error"),this.name="MissingClientAuthError"}};function Ka(u){return Object.entries(u).filter(s=>{let[,c]=s;return void 0!==c}).reduce((s,c)=>ie(ie({},s),{},{[c[0]]:c[1]}),{})}var rs=class extends Error{constructor(u,s,c){super(s),K(this,"cause",void 0),K(this,"code",void 0),this.code=u,this.cause=c&&{error:c.error,error_description:c.error_description,message:c.message}}},qu=class extends rs{constructor(u,s){super("mfa_list_authenticators_error",u,s),this.name="MfaListAuthenticatorsError"}},M=class extends rs{constructor(u,s){super("mfa_enrollment_error",u,s),this.name="MfaEnrollmentError"}},Ie=class extends rs{constructor(u,s){super("mfa_delete_authenticator_error",u,s),this.name="MfaDeleteAuthenticatorError"}},qa=class extends rs{constructor(u,s){super("mfa_challenge_error",u,s),this.name="MfaChallengeError"}};function Ju(u){return{id:u.id,authenticatorType:u.authenticator_type,active:u.active,name:u.name,oobChannels:u.oob_channels,type:u.type}}var Ve=(mr=new WeakMap,ei=new WeakMap,yr=new WeakMap,class{constructor(u){var s;vt(this,mr,void 0),vt(this,ei,void 0),vt(this,yr,void 0),Ye(mr,this,"https://".concat(u.domain)),Ye(ei,this,u.clientId),Ye(yr,this,null!==(s=u.customFetch)&&void 0!==s?s:function(){return fetch(...arguments)})}listAuthenticators(u){var s=this;return(0,D.A)(function*(){const c="".concat(G(mr,s),"/mfa/authenticators"),{mfaToken:l}=u,h=yield G(yr,s).call(s,c,{method:"GET",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"}});if(!h.ok){const g=yield h.json();throw new qu(g.error_description||"Failed to list authenticators",g)}return(yield h.json()).map(Ju)})()}enrollAuthenticator(u){var s=this;return(0,D.A)(function*(){const c="".concat(G(mr,s),"/mfa/associate"),{mfaToken:l}=u,h=be(u,tf),g={authenticator_types:h.authenticatorTypes};"oobChannels"in h&&(g.oob_channels=h.oobChannels),"phoneNumber"in h&&h.phoneNumber&&(g.phone_number=h.phoneNumber),"email"in h&&h.email&&(g.email=h.email);const m=yield G(yr,s).call(s,c,{method:"POST",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},body:JSON.stringify(g)});if(!m.ok){const v=yield m.json();throw new M(v.error_description||"Failed to enroll authenticator",v)}return function(v){if("otp"===v.authenticator_type)return{authenticatorType:"otp",secret:v.secret,barcodeUri:v.barcode_uri,recoveryCodes:v.recovery_codes,id:v.id};if("oob"===v.authenticator_type)return{authenticatorType:"oob",oobChannel:v.oob_channel,oobCode:v.oob_code,bindingMethod:v.binding_method,id:v.id};throw new Error("Unexpected authenticator type: ".concat(v.authenticator_type))}(yield m.json())})()}deleteAuthenticator(u){var s=this;return(0,D.A)(function*(){const{authenticatorId:c,mfaToken:l}=u,h="".concat(G(mr,s),"/mfa/authenticators/").concat(encodeURIComponent(c)),g=yield G(yr,s).call(s,h,{method:"DELETE",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"}});if(!g.ok){const m=yield g.json();throw new Ie(m.error_description||"Failed to delete authenticator",m)}})()}challengeAuthenticator(u){var s=this;return(0,D.A)(function*(){const c="".concat(G(mr,s),"/mfa/challenge"),{mfaToken:l}=u,h=be(u,fn),g={mfa_token:l,client_id:G(ei,s),challenge_type:h.challengeType};h.authenticatorId&&(g.authenticator_id=h.authenticatorId);const m=yield G(yr,s).call(s,c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!m.ok){const v=yield m.json();throw new qa(v.error_description||"Failed to challenge authenticator",v)}return function(v){const w={challengeType:v.challenge_type};return void 0!==v.oob_code&&(w.oobCode=v.oob_code),void 0!==v.binding_method&&(w.bindingMethod=v.binding_method),w}(yield m.json())})()}}),Ir=class hb{constructor(s,c,l,h,g,m,v){K(this,"accessToken",void 0),K(this,"idToken",void 0),K(this,"refreshToken",void 0),K(this,"expiresAt",void 0),K(this,"scope",void 0),K(this,"claims",void 0),K(this,"authorizationDetails",void 0),K(this,"tokenType",void 0),K(this,"issuedTokenType",void 0),this.accessToken=s,this.idToken=l,this.refreshToken=h,this.expiresAt=c,this.scope=g,this.claims=m,this.authorizationDetails=v}static fromTokenEndpointResponse(s){const c=s.id_token?s.claims():void 0,l=new hb(s.access_token,Math.floor(Date.now()/1e3)+Number(s.expires_in),s.id_token,s.refresh_token,s.scope,c,s.authorization_details);return l.tokenType=s.token_type,l.issuedTokenType=s.issued_token_type,l}},Ur="openid profile email offline_access",Sn=Object.freeze(new Set(["grant_type","client_id","client_secret","client_assertion","client_assertion_type","subject_token","subject_token_type","requested_token_type","actor_token","actor_token_type","audience","aud","resource","resources","resource_indicator","scope","connection","login_hint","organization","assertion"]));function os(u){if(null==u)throw new jn("subject_token is required");if("string"!=typeof u)throw new jn("subject_token must be a string");if(0===u.trim().length)throw new jn("subject_token cannot be blank or whitespace");if(u!==u.trim())throw new jn("subject_token must not include leading or trailing whitespace");if(/^bearer\s+/i.test(u))throw new jn("subject_token must not include the 'Bearer ' prefix")}function is(u,s){if(s)for(const[c,l]of Object.entries(s))if(!Sn.has(c))if(Array.isArray(l)){if(l.length>20)throw new jn("Parameter '".concat(c,"' exceeds maximum array size of ").concat(20));l.forEach(h=>{u.append(c,h)})}else u.append(c,l)}var Zu=(Cn=new WeakMap,vr=new WeakMap,Oe=new WeakMap,_r=new WeakMap,ot=new WeakSet,class{constructor(u){if(Re(this,c=ot),c.add(this),vt(this,Cn,void 0),vt(this,vr,void 0),vt(this,Oe,void 0),vt(this,_r,void 0),K(this,"mfa",void 0),Ye(Oe,this,u),u.useMtls&&!u.customFetch)throw new Ln("mtls_without_custom_fetch_not_supported","Using mTLS without a custom fetch implementation is not supported");var c;this.mfa=new Ve({domain:G(Oe,this).domain,clientId:G(Oe,this).clientId,customFetch:G(Oe,this).customFetch})}buildAuthorizationUrl(u){var s=this;return(0,D.A)(function*(){const{serverMetadata:c}=yield ct(ot,s,Tn).call(s);if(null!=u&&u.pushedAuthorizationRequests&&!c.pushed_authorization_request_endpoint)throw new Ln("par_not_supported_error","The Auth0 tenant does not have pushed authorization requests enabled. Learn how to enable it here: https://auth0.com/docs/get-started/applications/configure-par");try{return yield ct(ot,s,nn).call(s,u)}catch(l){throw new Ku(l)}})()}buildLinkUserUrl(u){var s=this;return(0,D.A)(function*(){try{const c=yield ct(ot,s,nn).call(s,{authorizationParams:ie(ie({},u.authorizationParams),{},{requested_connection:u.connection,requested_connection_scope:u.connectionScope,scope:"openid link_account offline_access",id_token_hint:u.idToken})});return{linkUserUrl:c.authorizationUrl,codeVerifier:c.codeVerifier}}catch(c){throw new Hr(c)}})()}buildUnlinkUserUrl(u){var s=this;return(0,D.A)(function*(){try{const c=yield ct(ot,s,nn).call(s,{authorizationParams:ie(ie({},u.authorizationParams),{},{requested_connection:u.connection,scope:"openid unlink_account",id_token_hint:u.idToken})});return{unlinkUserUrl:c.authorizationUrl,codeVerifier:c.codeVerifier}}catch(c){throw new nf(c)}})()}backchannelAuthentication(u){var s=this;return(0,D.A)(function*(){const{configuration:c,serverMetadata:l}=yield ct(ot,s,Tn).call(s),h=Ka(ie(ie({},G(Oe,s).authorizationParams),u?.authorizationParams)),g=new URLSearchParams(ie(ie({scope:Ur},h),{},{client_id:G(Oe,s).clientId,binding_message:u.bindingMessage,login_hint:JSON.stringify({format:"iss_sub",iss:l.issuer,sub:u.loginHint.sub})}));u.requestedExpiry&&g.append("requested_expiry",u.requestedExpiry.toString()),u.authorizationDetails&&g.append("authorization_details",JSON.stringify(u.authorizationDetails));try{const m=yield qo(c,g),v=yield kt(c,m);return Ir.fromTokenEndpointResponse(v)}catch(m){throw new Ga(m)}})()}initiateBackchannelAuthentication(u){var s=this;return(0,D.A)(function*(){const{configuration:c,serverMetadata:l}=yield ct(ot,s,Tn).call(s),h=Ka(ie(ie({},G(Oe,s).authorizationParams),u?.authorizationParams)),g=new URLSearchParams(ie(ie({scope:Ur},h),{},{client_id:G(Oe,s).clientId,binding_message:u.bindingMessage,login_hint:JSON.stringify({format:"iss_sub",iss:l.issuer,sub:u.loginHint.sub})}));u.requestedExpiry&&g.append("requested_expiry",u.requestedExpiry.toString()),u.authorizationDetails&&g.append("authorization_details",JSON.stringify(u.authorizationDetails));try{const m=yield qo(c,g);return{authReqId:m.auth_req_id,expiresIn:m.expires_in,interval:m.interval}}catch(m){throw new Ga(m)}})()}backchannelAuthenticationGrant(u){var s=this;return(0,D.A)(function*(){let{authReqId:c}=u;const{configuration:l}=yield ct(ot,s,Tn).call(s),h=new URLSearchParams({auth_req_id:c});try{const g=yield Lu(l,"urn:openid:params:grant-type:ciba",h);return Ir.fromTokenEndpointResponse(g)}catch(g){throw new Ga(g)}})()}getTokenForConnection(u){var s=this;return(0,D.A)(function*(){var c;if(u.refreshToken&&u.accessToken)throw new Gu("Either a refresh or access token should be specified, but not both.");const l=null!==(c=u.accessToken)&&void 0!==c?c:u.refreshToken;if(!l)throw new Gu("Either a refresh or access token must be specified.");try{return yield s.exchangeToken({connection:u.connection,subjectToken:l,subjectTokenType:u.accessToken?"urn:ietf:params:oauth:token-type:access_token":"urn:ietf:params:oauth:token-type:refresh_token",loginHint:u.loginHint})}catch(h){throw h instanceof jn?new Gu(h.message,h.cause):h}})()}exchangeToken(u){var s=this;return(0,D.A)(function*(){return"connection"in u?ct(ot,s,Yu).call(s,u):ct(ot,s,Xu).call(s,u)})()}getTokenByCode(u,s){var c=this;return(0,D.A)(function*(){const{configuration:l}=yield ct(ot,c,Tn).call(c);try{const h=yield Zo(l,u,{pkceCodeVerifier:s.codeVerifier});return Ir.fromTokenEndpointResponse(h)}catch(h){throw new ns("There was an error while trying to request a token.",h)}})()}getTokenByRefreshToken(u){var s=this;return(0,D.A)(function*(){const{configuration:c}=yield ct(ot,s,Tn).call(s);try{const l=yield fo(c,u.refreshToken);return Ir.fromTokenEndpointResponse(l)}catch(l){throw new $u("The access token has expired and there was an error while trying to refresh it.",l)}})()}getTokenByClientCredentials(u){var s=this;return(0,D.A)(function*(){const{configuration:c}=yield ct(ot,s,Tn).call(s);try{const l=new URLSearchParams({audience:u.audience});u.organization&&l.append("organization",u.organization);const h=yield Pu(c,l);return Ir.fromTokenEndpointResponse(h)}catch(l){throw new $a("There was an error while trying to request a token.",l)}})()}buildLogoutUrl(u){var s=this;return(0,D.A)(function*(){const{configuration:c,serverMetadata:l}=yield ct(ot,s,Tn).call(s);if(!l.end_session_endpoint){const h=new URL("https://".concat(G(Oe,s).domain,"/v2/logout"));return h.searchParams.set("returnTo",u.returnTo),h.searchParams.set("client_id",G(Oe,s).clientId),h}return function(h,g){pr(h);const{as:m,c:v,tlsOnly:w}=$e(h),C=Rr(m,"end_session_endpoint",!1,w);(g=new URLSearchParams(g)).has("client_id")||g.set("client_id",v.client_id);for(const[I,T]of g.entries())C.searchParams.append(I,T);return C}(c,{post_logout_redirect_uri:u.returnTo})})()}verifyLogoutToken(u){var s=this;return(0,D.A)(function*(){const{serverMetadata:c}=yield ct(ot,s,Tn).call(s);G(_r,s)||Ye(_r,s,function(h,g){const m=new za(h,g),v=function(){var w=(0,D.A)(function*(C,I){return m.getKey(C,I)});return function(I,T){return w.apply(this,arguments)}}();return Object.defineProperties(v,{coolingDown:{get:()=>m.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>m.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>m.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>m.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>m.jwks(),enumerable:!0,configurable:!1,writable:!1}}),v}(new URL(c.jwks_uri),{[Dn]:G(Oe,s).customFetch}));const{payload:l}=yield function dg(u,s,c){return Va.apply(this,arguments)}(u.logoutToken,G(_r,s),{issuer:c.issuer,audience:G(Oe,s).clientId,algorithms:["RS256"],requiredClaims:["iat"]});if(!("sid"in l)&&!("sub"in l))throw new wr('either "sid" or "sub" (or both) claims must be present');if("sid"in l&&"string"!=typeof l.sid)throw new wr('"sid" claim must be a string');if("sub"in l&&"string"!=typeof l.sub)throw new wr('"sub" claim must be a string');if("nonce"in l)throw new wr('"nonce" claim is prohibited');if(!("events"in l))throw new wr('"events" claim is missing');if("object"!=typeof l.events||null===l.events)throw new wr('"events" claim must be an object');if(!("http://schemas.openid.net/event/backchannel-logout"in l.events))throw new wr('"http://schemas.openid.net/event/backchannel-logout" member is missing in the "events" claim');if("object"!=typeof l.events["http://schemas.openid.net/event/backchannel-logout"])throw new wr('"http://schemas.openid.net/event/backchannel-logout" member in the "events" claim must be an object');return{sid:l.sid,sub:l.sub}})()}});function Tn(){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,D.A)(function*(){if(G(Cn,this)&&G(vr,this))return{configuration:G(Cn,this),serverMetadata:G(vr,this)};const u=yield ct(ot,this,Xn).call(this);return Ye(Cn,this,yield function ln(u,s,c,l,h){return Q.apply(this,arguments)}(new URL("https://".concat(G(Oe,this).domain)),G(Oe,this).clientId,{use_mtls_endpoint_aliases:G(Oe,this).useMtls},u,{[en]:G(Oe,this).customFetch})),Ye(vr,this,G(Cn,this).serverMetadata()),G(Cn,this)[en]=G(Oe,this).customFetch||fetch,{configuration:G(Cn,this),serverMetadata:G(vr,this)}}),Qu.apply(this,arguments)}function Yu(u){return ss.apply(this,arguments)}function ss(){return ss=(0,D.A)(function*(u){var s,c;const{configuration:l}=yield ct(ot,this,Tn).call(this);if("audience"in u||"resource"in u)throw new jn("audience and resource parameters are not supported for Token Vault exchanges");os(u.subjectToken);const h=new URLSearchParams({connection:u.connection,subject_token:u.subjectToken,subject_token_type:null!==(s=u.subjectTokenType)&&void 0!==s?s:"urn:ietf:params:oauth:token-type:access_token",requested_token_type:null!==(c=u.requestedTokenType)&&void 0!==c?c:"http://auth0.com/oauth/token-type/federated-connection-access-token"});u.loginHint&&h.append("login_hint",u.loginHint),u.scope&&h.append("scope",u.scope),is(h,u.extra);try{const g=yield Lu(l,"urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token",h);return Ir.fromTokenEndpointResponse(g)}catch(g){throw new jn("Failed to exchange token for connection '".concat(u.connection,"'."),g)}}),ss.apply(this,arguments)}function Xu(u){return Rt.apply(this,arguments)}function Rt(){return Rt=(0,D.A)(function*(u){const{configuration:s}=yield ct(ot,this,Tn).call(this);os(u.subjectToken);const c=new URLSearchParams({subject_token_type:u.subjectTokenType,subject_token:u.subjectToken});u.audience&&c.append("audience",u.audience),u.scope&&c.append("scope",u.scope),u.requestedTokenType&&c.append("requested_token_type",u.requestedTokenType),u.organization&&c.append("organization",u.organization),is(c,u.extra);try{const l=yield Lu(s,"urn:ietf:params:oauth:grant-type:token-exchange",c);return Ir.fromTokenEndpointResponse(l)}catch(l){throw new jn("Failed to exchange token of type '".concat(u.subjectTokenType,"'").concat(u.audience?" for audience '".concat(u.audience,"'"):"","."),l)}}),Rt.apply(this,arguments)}function Xn(){return as.apply(this,arguments)}function as(){return as=(0,D.A)(function*(){if(!G(Oe,this).clientSecret&&!G(Oe,this).clientAssertionSigningKey&&!G(Oe,this).useMtls)throw new rf;if(G(Oe,this).useMtls)return(s,c,l,h)=>{l.set("client_id",c.client_id)};let u=G(Oe,this).clientAssertionSigningKey;return!u||u instanceof CryptoKey||(u=yield(s=(0,D.A)(function*(c,l,h){if("string"!=typeof c||0!==c.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return Yd(c,l,h)}),function(c,l,h){return s.apply(this,arguments)})(u,G(Oe,this).clientAssertionSigningAlg||"RS256")),u?function(s){return function sg(u,s){const{key:c,kid:l}=(h=u)instanceof CryptoKey?{key:h}:h?.key instanceof CryptoKey?(void 0!==h.kid&&tt(h.kid,'"kid"'),{key:h.key,kid:h.kid}):{};var h;return function _a(u,s){if(function(c,l){if(!(c instanceof CryptoKey))throw Ae("".concat(l," must be a CryptoKey"),"ERR_INVALID_ARG_TYPE")}(u,s),"private"!==u.type)throw Ae("".concat(s," must be a private CryptoKey"),"ERR_INVALID_ARG_VALUE")}(c,'"clientPrivateKey.key"'),function(){var g=(0,D.A)(function*(m,v,w,C){const I={alg:Hd(c),kid:l},T=function(k,A){const R=Oo()+xt(A);return{jti:sr(),aud:k.issuer,exp:R+60,iat:R,nbf:R,iss:A.client_id,sub:A.client_id}}(m,v);var k;w.set("client_id",v.client_id),w.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),w.set("client_assertion",yield(k=(0,D.A)(function*(A,R,L){if(!L.usages.includes("sign"))throw Ae('CryptoKey instances used for signing assertions must include "sign" in their "usages"',"ERR_INVALID_ARG_VALUE");const P="".concat(et(to(JSON.stringify(A))),".").concat(et(to(JSON.stringify(R)))),O=et(yield crypto.subtle.sign(function(j){switch(j.algorithm.name){case"ECDSA":return{name:j.algorithm.name,hash:Ui(j)};case"RSA-PSS":switch(Ta(j),j.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:j.algorithm.name,saltLength:parseInt(j.algorithm.hash.name.slice(-3),10)>>3};default:throw new Bt("unsupported RSA-PSS hash name",{cause:j})}case"RSASSA-PKCS1-v1_5":return Ta(j),j.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return j.algorithm.name}throw new Bt("unsupported CryptoKey algorithm name",{cause:j})}(L),L,to(P)));return"".concat(P,".").concat(O)}),function(A,R,L){return k.apply(this,arguments)})(I,T,c))});return function(m,v,w,C){return g.apply(this,arguments)}}()}(s)}(u):Fa(G(Oe,this).clientSecret);var s}),as.apply(this,arguments)}function nn(u){return An.apply(this,arguments)}function An(){return An=(0,D.A)(function*(u){const{configuration:s}=yield ct(ot,this,Tn).call(this),c=function lo(){return sr()}(),l=yield function Zn(u){return(s=(0,D.A)(function*(c){return tt(c,"codeVerifier"),et(yield crypto.subtle.digest("SHA-256",to(c)))}),function(c){return s.apply(this,arguments)})(u);var s}(c),h=Ka(ie(ie({},G(Oe,this).authorizationParams),u?.authorizationParams)),g=new URLSearchParams(ie(ie({scope:Ur},h),{},{client_id:G(Oe,this).clientId,code_challenge:l,code_challenge_method:"S256"}));return{authorizationUrl:null!=u&&u.pushedAuthorizationRequests?yield Ou(s,g):yield Ji(s,g),codeVerifier:c}}),An.apply(this,arguments)}class br extends Ze{constructor(s,c){super(s,c),Object.setPrototypeOf(this,br.prototype)}static fromPayload(s){let{error:c,error_description:l}=s;return new br(c,l)}}class ti extends br{constructor(s,c){super(s,c),Object.setPrototypeOf(this,ti.prototype)}}class Ja extends br{constructor(s,c){super(s,c),Object.setPrototypeOf(this,Ja.prototype)}}class Za extends br{constructor(s,c){super(s,c),Object.setPrototypeOf(this,Za.prototype)}}class Er extends br{constructor(s,c){super(s,c),Object.setPrototypeOf(this,Er.prototype)}}class ni extends br{constructor(s,c){super(s,c),Object.setPrototypeOf(this,ni.prototype)}}class Qa{constructor(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6e5;this.contexts=new Map,this.ttlMs=s}set(s,c){this.cleanup(),this.contexts.set(s,Object.assign(Object.assign({},c),{createdAt:Date.now()}))}get(s){const c=this.contexts.get(s);if(c){if(!(Date.now()-c.createdAt>this.ttlMs))return c;this.contexts.delete(s)}}remove(s){this.contexts.delete(s)}cleanup(){const s=Date.now();for(const[c,l]of this.contexts)s-l.createdAt>this.ttlMs&&this.contexts.delete(c)}get size(){return this.contexts.size}}class cs{constructor(s,c){this.authJsMfaClient=s,this.auth0Client=c,this.contextManager=new Qa}setMFAAuthDetails(s,c,l,h){this.contextManager.set(s,{scope:c,audience:l,mfaRequirements:h})}getAuthenticators(s){var c=this;return(0,D.A)(function*(){var l,h;const g=c.contextManager.get(s);if(null===(l=g?.mfaRequirements)||void 0===l||!l.challenge||0===g.mfaRequirements.challenge.length)throw new ti("invalid_request","challengeType is required and must contain at least one challenge type, please check mfa_required error payload");const m=g.mfaRequirements.challenge.map(v=>v.type);try{return(yield c.authJsMfaClient.listAuthenticators({mfaToken:s})).filter(v=>!!v.type&&m.includes(v.type))}catch(v){throw v instanceof qu?new ti(null===(h=v.cause)||void 0===h?void 0:h.error,v.message):v}})()}enroll(s){var c=this;return(0,D.A)(function*(){var l;const h=function(g){const m=ga[g.factorType];return Object.assign(Object.assign(Object.assign({mfaToken:g.mfaToken,authenticatorTypes:m.authenticatorTypes},m.oobChannels&&{oobChannels:m.oobChannels}),"phoneNumber"in g&&{phoneNumber:g.phoneNumber}),"email"in g&&{email:g.email})}(s);try{return yield c.authJsMfaClient.enrollAuthenticator(h)}catch(g){throw g instanceof M?new Ja(null===(l=g.cause)||void 0===l?void 0:l.error,g.message):g}})()}challenge(s){var c=this;return(0,D.A)(function*(){var l;try{const h={challengeType:s.challengeType,mfaToken:s.mfaToken};return s.authenticatorId&&(h.authenticatorId=s.authenticatorId),yield c.authJsMfaClient.challengeAuthenticator(h)}catch(h){throw h instanceof qa?new Za(null===(l=h.cause)||void 0===l?void 0:l.error,h.message):h}})()}getEnrollmentFactors(s){var c=this;return(0,D.A)(function*(){const l=c.contextManager.get(s);if(!l||!l.mfaRequirements)throw new ni("mfa_context_not_found","MFA context not found for this MFA token. Please retry the original request to get a new MFA token.");return l.mfaRequirements.enroll&&0!==l.mfaRequirements.enroll.length?l.mfaRequirements.enroll:[]})()}verify(s){var c=this;return(0,D.A)(function*(){const l=c.contextManager.get(s.mfaToken);if(!l)throw new Er("mfa_context_not_found","MFA context not found for this MFA token. Please retry the original request to get a new MFA token.");const h="otp"in(v=s)&&v.otp?"http://auth0.com/oauth/grant-type/mfa-otp":"oobCode"in v&&v.oobCode?"http://auth0.com/oauth/grant-type/mfa-oob":"recoveryCode"in v&&v.recoveryCode?"http://auth0.com/oauth/grant-type/mfa-recovery-code":void 0;var v;if(!h)throw new Er("invalid_request","Unable to determine grant type. Provide one of: otp, oobCode, or recoveryCode.");const g=l.scope,m=l.audience;try{const v=yield c.auth0Client._requestTokenForMfa({grant_type:h,mfaToken:s.mfaToken,scope:g,audience:m,otp:s.otp,oob_code:s.oobCode,binding_code:s.bindingCode,recovery_code:s.recoveryCode});return c.contextManager.remove(s.mfaToken),v}catch(v){if(v instanceof Do)c.setMFAAuthDetails(v.mfa_token,g,m,v.mfa_requirements);else if(v instanceof Er)throw new Er(v.error,v.error_description);throw v}})()}}const ri=new wi;class el{constructor(s){var c=this;let l,h;if(this.userCache=(new Pd).enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=(0,D.A)(function*(){const I=Array.from(c.activeLockKeys);for(const T of I)yield ri.releaseLock(T);c.activeLockKeys.clear(),window.removeEventListener("pagehide",c._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),s),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),s.authorizationParams)}),typeof window<"u"&&(()=>{if(!Co())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===Co().subtle)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),s.cache&&s.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),s.cache)h=s.cache;else{if(l=s.cacheLocation||"memory",!ha(l))throw new Error('Invalid cache location "'.concat(l,'"'));h=ha(l)()}this.httpTimeoutMs=s.httpTimeoutInSeconds?1e3*s.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===s.legacySameSiteCookie?Ao:Ai,this.orgHintCookieName="auth0.".concat(this.options.clientId,".organization_hint"),this.isAuthenticatedCookieName=(()=>"auth0.".concat(this.options.clientId,".is.authenticated"))(),this.sessionCheckExpiryDays=s.sessionCheckExpiryDays||1;const m=s.useCookiesForTransactions?this.cookieStorage:Mi;var v,I,T;this.scope=function(I,T){for(var k=arguments.length,A=new Array(k>2?k-2:0),R=2;R<k;R++)A[R-2]=arguments[R];if("object"!=typeof I)return{default:ua(T,I,...A)};let L={default:ua(T,...A)};return Object.keys(I).forEach(P=>{L[P]=ua(T,I[P],...A)}),L}(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new Od(m,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||ea,this.cacheManager=new Yp(h,h.allKeys?void 0:new da(h,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new og(this.options.clientId):void 0,this.domainUrl=/^https?:\/\//.test(v=this.options.domain)?v:"https://".concat(v),this.tokenIssuer=(T=this.domainUrl,(I=this.options.issuer)?I.startsWith("https://")?I:"https://".concat(I,"/"):"".concat(T,"/"));const w="".concat(this.domainUrl,"/me/"),C=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:w},detailedResponse:!0})}));this.myAccountApi=new pa(C,w),this.authJsClient=new Zu({domain:this.options.domain,clientId:this.options.clientId}),this.mfa=new cs(this.authJsClient.mfa,this),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&"memory"===l&&(this.worker=this.options.workerUrl?new Worker(this.options.workerUrl):new du)}getConfiguration(){return Object.freeze({domain:this.options.domain,clientId:this.options.clientId})}_url(s){const l=Ei(this.options.auth0Client||eu,!0),h=encodeURIComponent(btoa(JSON.stringify(l)));return"".concat(this.domainUrl).concat(s,"&auth0Client=").concat(h)}_authorizeUrl(s){return this._url("/authorize?".concat(To(s)))}_verifyIdToken(s,c,l){var h=this;return(0,D.A)(function*(){const g=yield h.nowProvider();return(u=>{if(!u.id_token)throw new Error("ID token is required but missing");const s=(g=>{const m=g.split("."),[v,w,C]=m;if(3!==m.length||!v||!w||!C)throw new Error("ID token could not be decoded");const I=JSON.parse(xd(w)),T={__raw:g},k={};return Object.keys(I).forEach(A=>{T[A]=I[A],Ld.includes(A)||(k[A]=I[A])}),{encoded:{header:v,payload:w,signature:C},header:JSON.parse(xd(v)),claims:T,user:k}})(u.id_token);if(!s.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(s.claims.iss!==u.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(u.iss,'", found "').concat(s.claims.iss,'"'));if(!s.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==s.header.alg)throw new Error('Signature algorithm of "'.concat(s.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!s.claims.aud||"string"!=typeof s.claims.aud&&!Array.isArray(s.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(s.claims.aud)){if(!s.claims.aud.includes(u.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(u.aud,'" but was not one of "').concat(s.claims.aud.join(", "),'"'));if(s.claims.aud.length>1){if(!s.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(s.claims.azp!==u.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(u.aud,'", found "').concat(s.claims.azp,'"'))}}else if(s.claims.aud!==u.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(u.aud,'" but found "').concat(s.claims.aud,'"'));if(u.nonce){if(!s.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(s.claims.nonce!==u.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(u.nonce,'", found "').concat(s.claims.nonce,'"'))}if(u.max_age&&!Ti(s.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(null==s.claims.exp||!Ti(s.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Ti(s.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const c=u.leeway||60,l=new Date(u.now||Date.now()),h=new Date(0);if(h.setUTCSeconds(s.claims.exp+c),l>h)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(l,") is after expiration time (").concat(h,")"));if(null!=s.claims.nbf&&Ti(s.claims.nbf)){const g=new Date(0);if(g.setUTCSeconds(s.claims.nbf-c),l<g)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (".concat(l,") is before ").concat(g))}if(null!=s.claims.auth_time&&Ti(s.claims.auth_time)){const g=new Date(0);if(g.setUTCSeconds(parseInt(s.claims.auth_time)+u.max_age+c),l>g)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (".concat(l,") is after last auth at ").concat(g))}if(u.organization){const g=u.organization.trim();if(g.startsWith("org_")){const m=g;if(!s.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(m!==s.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(m,'", found "').concat(s.claims.org_id,'"'))}else{const m=g.toLowerCase();if(!s.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(m!==s.claims.org_name)throw new Error('Organization Name (org_name) claim mismatch in the ID token; expected "'.concat(m,'", found "').concat(s.claims.org_name,'"'))}}return s})({iss:h.tokenIssuer,aud:h.options.clientId,id_token:s,nonce:c,organization:l,leeway:h.options.leeway,max_age:(m=h.options.authorizationParams.max_age,"string"!=typeof m?m:parseInt(m,10)||void 0),now:g});var m})()}_processOrgHint(s){s?this.cookieStorage.save(this.orgHintCookieName,s,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(s,c,l){var h=this;return(0,D.A)(function*(){var g;const m=ru(So()),v=ru(So()),w=So(),C=yield ou(w),I=ia(C),T=yield null===(g=h.dpop)||void 0===g?void 0:g.calculateThumbprint(),k=(R=h.options,L=h.scope,P=s,O=m,j=v,ee=I,oe=s.redirect_uri||h.options.authorizationParams.redirect_uri||l,V=c?.response_mode,ye=T,Object.assign(Object.assign(Object.assign({client_id:R.clientId},R.authorizationParams),P),{scope:vn(L,P.scope,P.audience),response_type:"code",response_mode:V||"query",state:O,nonce:j,redirect_uri:oe||R.authorizationParams.redirect_uri,code_challenge:ee,code_challenge_method:"S256",dpop_jkt:ye})),A=h._authorizeUrl(k);var R,L,P,O,j,ee,oe,V,ye;return{nonce:v,code_verifier:w,scope:k.scope,audience:k.audience||"default",redirect_uri:k.redirect_uri,state:m,url:A}})()}loginWithPopup(s,c){var l=this;return(0,D.A)(function*(){var h;if(s=s||{},!(c=c||{}).popup&&(c.popup=(()=>{const C=window.screenX+(window.innerWidth-400)/2,I=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left=".concat(C,",top=").concat(I,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))})(),!c.popup))throw new Ii;const g=yield l._prepareAuthorizeUrl(s.authorizationParams||{},{response_mode:"web_message"},window.location.origin);c.popup.location.href=g.url;const m=yield(w=Object.assign(Object.assign({},c),{timeoutInSeconds:c.timeoutInSeconds||l.options.authorizeTimeoutInSeconds||60}),new Promise((C,I)=>{let T;const k=setInterval(()=>{w.popup&&w.popup.closed&&(clearInterval(k),clearTimeout(A),window.removeEventListener("message",T,!1),I(new nu(w.popup)))},1e3),A=setTimeout(()=>{clearInterval(k),I(new tu(w.popup)),window.removeEventListener("message",T,!1)},1e3*(w.timeoutInSeconds||60));T=function(R){if(R.data&&"authorization_response"===R.data.type){if(clearTimeout(A),clearInterval(k),window.removeEventListener("message",T,!1),!1!==w.closePopup&&w.popup.close(),R.data.response.error)return I(Ze.fromPayload(R.data.response));C(R.data.response)}},window.addEventListener("message",T)}));var w;if(g.state!==m.state)throw new Ze("state_mismatch","Invalid state");const v=(null===(h=s.authorizationParams)||void 0===h?void 0:h.organization)||l.options.authorizationParams.organization;yield l._requestToken({audience:g.audience,scope:g.scope,code_verifier:g.code_verifier,grant_type:"authorization_code",code:m.code,redirect_uri:g.redirect_uri},{nonceIn:g.nonce,organization:v})})()}getUser(){var s=this;return(0,D.A)(function*(){var c;const l=yield s._getIdTokenFromCache();return null===(c=l?.decodedToken)||void 0===c?void 0:c.user})()}getIdTokenClaims(){var s=this;return(0,D.A)(function*(){var c;const l=yield s._getIdTokenFromCache();return null===(c=l?.decodedToken)||void 0===c?void 0:c.claims})()}loginWithRedirect(){var s=arguments,c=this;return(0,D.A)(function*(){var l;const h=xi(s.length>0&&void 0!==s[0]?s[0]:{}),{openUrl:g,fragment:m,appState:v}=h,w=Pe(h,["openUrl","fragment","appState"]),C=(null===(l=w.authorizationParams)||void 0===l?void 0:l.organization)||c.options.authorizationParams.organization,I=yield c._prepareAuthorizeUrl(w.authorizationParams||{}),{url:T}=I,k=Pe(I,["url"]);c.transactionManager.create(Object.assign(Object.assign(Object.assign({},k),{appState:v,response_type:kr.Code}),C&&{organization:C}));const A=m?"".concat(T,"#").concat(m):T;g?yield g(A):window.location.assign(A)})()}handleRedirectCallback(){var s=arguments,c=this;return(0,D.A)(function*(){const l=(s.length>0&&void 0!==s[0]?s[0]:window.location.href).split("?").slice(1);if(0===l.length)throw new Error("There are no query params available for parsing.");const h=c.transactionManager.get();if(!h)throw new Ze("missing_transaction","Invalid state");c.transactionManager.remove();const g=(m=>{m.indexOf("#")>-1&&(m=m.substring(0,m.indexOf("#")));const v=new URLSearchParams(m);return{state:v.get("state"),code:v.get("code")||void 0,connect_code:v.get("connect_code")||void 0,error:v.get("error")||void 0,error_description:v.get("error_description")||void 0}})(l.join(""));return h.response_type===kr.ConnectCode?c._handleConnectAccountRedirectCallback(g,h):c._handleLoginRedirectCallback(g,h)})()}_handleLoginRedirectCallback(s,c){var l=this;return(0,D.A)(function*(){const{code:h,state:g,error:m,error_description:v}=s;if(m)throw new ta(m,v||m,g,c.appState);if(!c.code_verifier||c.state&&c.state!==g)throw new Ze("state_mismatch","Invalid state");const w=c.organization,C=c.nonce,I=c.redirect_uri;return yield l._requestToken(Object.assign({audience:c.audience,scope:c.scope,code_verifier:c.code_verifier,grant_type:"authorization_code",code:h},I?{redirect_uri:I}:{}),{nonceIn:C,organization:w}),{appState:c.appState,response_type:kr.Code}})()}_handleConnectAccountRedirectCallback(s,c){var l=this;return(0,D.A)(function*(){const{connect_code:h,state:g,error:m,error_description:v}=s;if(m)throw new $r(m,v||m,c.connection,g,c.appState);if(!h)throw new Ze("missing_connect_code","Missing connect code");if(!(c.code_verifier&&c.state&&c.auth_session&&c.redirect_uri&&c.state===g))throw new Ze("state_mismatch","Invalid state");const w=yield l.myAccountApi.completeAccount({auth_session:c.auth_session,connect_code:h,redirect_uri:c.redirect_uri,code_verifier:c.code_verifier});return Object.assign(Object.assign({},w),{appState:c.appState,response_type:kr.ConnectCode})})()}checkSession(s){var c=this;return(0,D.A)(function*(){if(!c.cookieStorage.get(c.isAuthenticatedCookieName)){if(!c.cookieStorage.get("auth0.is.authenticated"))return;c.cookieStorage.save(c.isAuthenticatedCookieName,!0,{daysUntilExpire:c.sessionCheckExpiryDays,cookieDomain:c.options.cookieDomain}),c.cookieStorage.remove("auth0.is.authenticated")}try{yield c.getTokenSilently(s)}catch{}})()}getTokenSilently(){var s=arguments,c=this;return(0,D.A)(function*(){let l=s.length>0&&void 0!==s[0]?s[0]:{};var h,g;const m=Object.assign(Object.assign({cacheMode:"on"},l),{authorizationParams:Object.assign(Object.assign(Object.assign({},c.options.authorizationParams),l.authorizationParams),{scope:vn(c.scope,null===(h=l.authorizationParams)||void 0===h?void 0:h.scope,(null===(g=l.authorizationParams)||void 0===g?void 0:g.audience)||c.options.authorizationParams.audience)})}),v=yield((w,C)=>{let I=la[C];return I||(I=c._getTokenSilently(m).finally(()=>{delete la[C],I=null}),la[C]=I),I})(0,"".concat(c.options.clientId,"::").concat(m.authorizationParams.audience,"::").concat(m.authorizationParams.scope));return l.detailedResponse?v:v?.access_token})()}_getTokenSilently(s){var c=this;return(0,D.A)(function*(){const{cacheMode:l}=s,h=Pe(s,["cacheMode"]);if("off"!==l){const w=yield c._getEntryFromCache({scope:h.authorizationParams.scope,audience:h.authorizationParams.audience||"default",clientId:c.options.clientId,cacheMode:l});if(w)return w}if("cache-only"===l)return;const g=(m=c.options.clientId,v=h.authorizationParams.audience||"default","".concat("auth0.lock.getTokenSilently",".").concat(m,".").concat(v));var m,v;if(!(yield me(()=>ri.acquireLock(g,5e3),10)))throw new Gr;c.activeLockKeys.add(g),1===c.activeLockKeys.size&&window.addEventListener("pagehide",c._releaseLockOnPageHide);try{if("off"!==l){const R=yield c._getEntryFromCache({scope:h.authorizationParams.scope,audience:h.authorizationParams.audience||"default",clientId:c.options.clientId});if(R)return R}const w=c.options.useRefreshTokens?yield c._getTokenUsingRefreshToken(h):yield c._getTokenFromIFrame(h),{id_token:C,token_type:I,access_token:T,oauthTokenScope:k,expires_in:A}=w;return Object.assign(Object.assign({id_token:C,token_type:I,access_token:T},k?{scope:k}:null),{expires_in:A})}finally{yield ri.releaseLock(g),c.activeLockKeys.delete(g),0===c.activeLockKeys.size&&window.removeEventListener("pagehide",c._releaseLockOnPageHide)}})()}getTokenWithPopup(){var s=arguments,c=this;return(0,D.A)(function*(){let l=s.length>0&&void 0!==s[0]?s[0]:{},h=s.length>1&&void 0!==s[1]?s[1]:{};var g,m;const v=Object.assign(Object.assign({},l),{authorizationParams:Object.assign(Object.assign(Object.assign({},c.options.authorizationParams),l.authorizationParams),{scope:vn(c.scope,null===(g=l.authorizationParams)||void 0===g?void 0:g.scope,(null===(m=l.authorizationParams)||void 0===m?void 0:m.audience)||c.options.authorizationParams.audience)})});return h=Object.assign(Object.assign({},Ad),h),yield c.loginWithPopup(v,h),(yield c.cacheManager.get(new _n({scope:v.authorizationParams.scope,audience:v.authorizationParams.audience||"default",clientId:c.options.clientId}),void 0,c.options.useMrrt)).access_token})()}isAuthenticated(){var s=this;return(0,D.A)(function*(){return!!(yield s.getUser())})()}_buildLogoutUrl(s){null!==s.clientId?s.clientId=s.clientId||this.options.clientId:delete s.clientId;const c=s.logoutParams||{},{federated:l}=c,h=Pe(c,["federated"]),g=l?"&federated":"";return this._url("/v2/logout?".concat(To(Object.assign({clientId:s.clientId},h))))+g}logout(){var s=arguments,c=this;return(0,D.A)(function*(){let l=s.length>0&&void 0!==s[0]?s[0]:{};var h;const g=xi(l),{openUrl:m}=g,v=Pe(g,["openUrl"]);null===l.clientId?yield c.cacheManager.clear():yield c.cacheManager.clear(l.clientId||c.options.clientId),c.cookieStorage.remove(c.orgHintCookieName,{cookieDomain:c.options.cookieDomain}),c.cookieStorage.remove(c.isAuthenticatedCookieName,{cookieDomain:c.options.cookieDomain}),c.userCache.remove("@@user@@"),yield null===(h=c.dpop)||void 0===h?void 0:h.clear();const w=c._buildLogoutUrl(v);m?yield m(w):!1!==m&&window.location.assign(w)})()}_getTokenFromIFrame(s){var c=this;return(0,D.A)(function*(){const l=(h=c.options.clientId,"".concat("auth0.lock.getTokenFromIFrame",".").concat(h));var h;if(!(yield me(()=>ri.acquireLock(l,5e3),10)))throw new Gr;try{const g=Object.assign(Object.assign({},s.authorizationParams),{prompt:"none"}),m=c.cookieStorage.get(c.orgHintCookieName);m&&!g.organization&&(g.organization=m);const{url:v,state:w,nonce:C,code_verifier:I,redirect_uri:T,scope:k,audience:A}=yield c._prepareAuthorizeUrl(g,{response_mode:"web_message"},window.location.origin);if(window.crossOriginIsolated)throw new Ze("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const R=s.timeoutInSeconds||c.options.authorizeTimeoutInSeconds;let L;try{L=new URL(c.domainUrl).origin}catch{L=c.domainUrl}const P=yield function(j,ee){let oe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return new Promise((V,ye)=>{const Ee=window.document.createElement("iframe");Ee.setAttribute("width","0"),Ee.setAttribute("height","0"),Ee.style.display="none";const rn=()=>{window.document.body.contains(Ee)&&(window.document.body.removeChild(Ee),window.removeEventListener("message",it,!1))};let it;const Fn=setTimeout(()=>{ye(new Gr),rn()},1e3*oe);it=function(Pt){if(Pt.origin!=ee||!Pt.data||"authorization_response"!==Pt.data.type)return;const Vn=Pt.source;Vn&&Vn.close(),Pt.data.response.error?ye(Ze.fromPayload(Pt.data.response)):V(Pt.data.response),clearTimeout(Fn),window.removeEventListener("message",it,!1),setTimeout(rn,2e3)},window.addEventListener("message",it,!1),window.document.body.appendChild(Ee),Ee.setAttribute("src",j)})}(v,L,R);if(w!==P.state)throw new Ze("state_mismatch","Invalid state");const O=yield c._requestToken(Object.assign(Object.assign({},s.authorizationParams),{code_verifier:I,code:P.code,grant_type:"authorization_code",redirect_uri:T,timeout:s.authorizationParams.timeout||c.httpTimeoutMs}),{nonceIn:C,organization:g.organization});return Object.assign(Object.assign({},O),{scope:k,oauthTokenScope:O.scope,audience:A})}catch(g){throw"login_required"===g.error&&c.logout({openUrl:!1}),g}finally{yield ri.releaseLock(l)}})()}_getTokenUsingRefreshToken(s){var c=this;return(0,D.A)(function*(){var l,h;const g=yield c.cacheManager.get(new _n({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:c.options.clientId}),void 0,c.options.useMrrt);if(!(g&&g.refresh_token||c.worker)){if(c.options.useRefreshTokensFallback)return yield c._getTokenFromIFrame(s);throw new na(s.authorizationParams.audience||"default",s.authorizationParams.scope)}const m=s.authorizationParams.redirect_uri||c.options.authorizationParams.redirect_uri||window.location.origin,v="number"==typeof s.timeoutInSeconds?1e3*s.timeoutInSeconds:null,w=((A,R,L,P)=>{var O;if(A&&L&&P){if(R.audience!==L)return R.scope;const j=P.split(" "),ee=(null===(O=R.scope)||void 0===O?void 0:O.split(" "))||[],oe=ee.every(V=>j.includes(V));return j.length>=ee.length&&oe?P:R.scope}return R.scope})(c.options.useMrrt,s.authorizationParams,g?.audience,g?.scope);try{const A=yield c._requestToken(Object.assign(Object.assign(Object.assign({},s.authorizationParams),{grant_type:"refresh_token",refresh_token:g&&g.refresh_token,redirect_uri:m}),v&&{timeout:v}),{scopesToRequest:w});if(A.refresh_token&&g?.refresh_token&&(yield c.cacheManager.updateEntry(g.refresh_token,A.refresh_token)),c.options.useMrrt&&(C=g?.audience,I=g?.scope,!(C===s.authorizationParams.audience&&fu(s.authorizationParams.scope,I)||fu(w,A.scope)))){if(c.options.useRefreshTokensFallback)return yield c._getTokenFromIFrame(s);yield c.cacheManager.remove(c.options.clientId,s.authorizationParams.audience,s.authorizationParams.scope);const R=((L,P)=>{const O=L?.split(" ")||[],j=P?.split(" ")||[];return O.filter(ee=>-1==j.indexOf(ee)).join(",")})(w,A.scope);throw new ra(s.authorizationParams.audience||"default",R)}return Object.assign(Object.assign({},A),{scope:s.authorizationParams.scope,oauthTokenScope:A.scope,audience:s.authorizationParams.audience||"default"})}catch(A){if((A.message.indexOf("Missing Refresh Token")>-1||A.message&&A.message.indexOf("invalid refresh token")>-1)&&c.options.useRefreshTokensFallback)return yield c._getTokenFromIFrame(s);throw A instanceof Do&&c.mfa.setMFAAuthDetails(A.mfa_token,null===(l=s.authorizationParams)||void 0===l?void 0:l.scope,null===(h=s.authorizationParams)||void 0===h?void 0:h.audience,A.mfa_requirements),A}var C,I})()}_saveEntryInCache(s){var c=this;return(0,D.A)(function*(){const{id_token:l,decodedToken:h}=s,g=Pe(s,["id_token","decodedToken"]);c.userCache.set("@@user@@",{id_token:l,decodedToken:h}),yield c.cacheManager.setIdToken(c.options.clientId,s.id_token,s.decodedToken),yield c.cacheManager.set(g)})()}_getIdTokenFromCache(){var s=this;return(0,D.A)(function*(){const c=s.options.authorizationParams.audience||"default",l=s.scope[c],h=yield s.cacheManager.getIdToken(new _n({clientId:s.options.clientId,audience:c,scope:l})),g=s.userCache.get("@@user@@");return h&&h.id_token===g?.id_token?g:(s.userCache.set("@@user@@",h),h)})()}_getEntryFromCache(s){var c=this;return(0,D.A)(function*(){let{scope:l,audience:h,clientId:g,cacheMode:m}=s;const v=yield c.cacheManager.get(new _n({scope:l,audience:h,clientId:g}),60,c.options.useMrrt,m);if(v&&v.access_token){const{token_type:w,access_token:C,oauthTokenScope:I,expires_in:T}=v,k=yield c._getIdTokenFromCache();return k&&Object.assign(Object.assign({id_token:k.id_token,token_type:w||"Bearer",access_token:C},I?{scope:I}:null),{expires_in:T})}})()}_requestToken(s,c){var l=this;return(0,D.A)(function*(){var h,g;const{nonceIn:m,organization:v,scopesToRequest:w}=c||{},C=yield function Qt(u,s){return cu.apply(this,arguments)}(Object.assign(Object.assign({baseUrl:l.domainUrl,client_id:l.options.clientId,auth0Client:l.options.auth0Client,useFormData:l.options.useFormData,timeout:l.httpTimeoutMs,useMrrt:l.options.useMrrt,dpop:l.dpop},s),{scope:w||s.scope}),l.worker),I=yield l._verifyIdToken(C.id_token,m,v);if("authorization_code"===s.grant_type){const T=yield l._getIdTokenFromCache();null!==(g=null===(h=T?.decodedToken)||void 0===h?void 0:h.claims)&&void 0!==g&&g.sub&&T.decodedToken.claims.sub!==I.claims.sub&&(yield l.cacheManager.clear(l.options.clientId),l.userCache.remove("@@user@@"))}return yield l._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},C),{decodedToken:I,scope:s.scope,audience:s.audience||"default"}),C.scope?{oauthTokenScope:C.scope}:null),{client_id:l.options.clientId})),l.cookieStorage.save(l.isAuthenticatedCookieName,!0,{daysUntilExpire:l.sessionCheckExpiryDays,cookieDomain:l.options.cookieDomain}),l._processOrgHint(v||I.claims.org_id),Object.assign(Object.assign({},C),{decodedToken:I})})()}exchangeToken(s){var c=this;return(0,D.A)(function*(){return c._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:s.subject_token,subject_token_type:s.subject_token_type,scope:vn(c.scope,s.scope,s.audience||c.options.authorizationParams.audience),audience:s.audience||c.options.authorizationParams.audience,organization:s.organization||c.options.authorizationParams.organization})})()}_assertDpop(s){if(!s)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(s){return this._assertDpop(this.dpop),this.dpop.getNonce(s)}setDpopNonce(s,c){return this._assertDpop(this.dpop),this.dpop.setNonce(s,c)}generateDpopProof(s){return this._assertDpop(this.dpop),this.dpop.generateProof(s)}createFetcher(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ig(s,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:c=>{var l;return this.getTokenSilently({authorizationParams:{scope:null===(l=c?.scope)||void 0===l?void 0:l.join(" "),audience:c?.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(s.dpopNonceId),setDpopNonce:c=>this.setDpopNonce(c,s.dpopNonceId),generateDpopProof:c=>this.generateDpopProof(c)})}connectAccountWithRedirect(s){var c=this;return(0,D.A)(function*(){const{openUrl:l,appState:h,connection:g,scopes:m,authorization_params:v,redirectUri:w=c.options.authorizationParams.redirect_uri||window.location.origin}=s;if(!g)throw new Error("connection is required");const C=ru(So()),I=So(),T=yield ou(I),k=ia(T),{connect_uri:A,connect_params:R,auth_session:L}=yield c.myAccountApi.connectAccount({connection:g,scopes:m,redirect_uri:w,state:C,code_challenge:k,code_challenge_method:"S256",authorization_params:v});c.transactionManager.create({state:C,code_verifier:I,auth_session:L,redirect_uri:w,appState:h,connection:g,response_type:kr.ConnectCode});const P=new URL(A);P.searchParams.set("ticket",R.ticket),l?yield l(P.toString()):window.location.assign(P)})()}_requestTokenForMfa(s,c){var l=this;return(0,D.A)(function*(){const{mfaToken:h}=s,g=Pe(s,["mfaToken"]);return l._requestToken(Object.assign(Object.assign({},g),{mfa_token:h}),c)})()}}function us(){return us=(0,D.A)(function*(u){const s=new el(u);return yield s.checkSession(),s}),us.apply(this,arguments)}class go extends Error{}go.prototype.name="InvalidTokenError";const Me={domain:"",clientId:"",redirectUri:typeof window<"u"?window.location.origin:"",logoutUri:typeof window<"u"?window.location.origin:"",audience:"",scope:"openid profile email",connection:void 0},Ge={TOKEN_STORAGE:"sessionStorage",USER_INFO_STORAGE:"sessionStorage"},Vt={ACCESS_TOKEN:"auth0_access_token",USER_INFO:"auth0_user_info"};function Le(u,s="sessionStorage"){return typeof window>"u"?null:("localStorage"===s?localStorage:sessionStorage).getItem(u)}function ec(u,s,c="sessionStorage"){typeof window>"u"||("localStorage"===c?localStorage:sessionStorage).setItem(u,s)}function tc(u,s="sessionStorage"){typeof window>"u"||("localStorage"===s?localStorage:sessionStorage).removeItem(u)}function of(u){console.log("[AuthConfig] \u{1f50d} DEBUG: configureAuth0() called with config:",{domain:u.domain||"not provided",clientId:u.clientId?"[REDACTED]":"not provided",redirectUri:u.redirectUri||"not provided",logoutUri:u.logoutUri||"not provided",audience:u.audience||"not provided",scope:u.scope||"not provided",connection:u.connection||"not provided"}),Object.assign(Me,u),console.log("[AuthConfig] \u{1f50d} DEBUG: AUTH0_CONFIG after merge:",{domain:Me.domain,clientId:Me.clientId?"[REDACTED]":void 0,redirectUri:Me.redirectUri,logoutUri:Me.logoutUri,audience:Me.audience||"not set",scope:Me.scope,connection:Me.connection||"not set"})}let ls=class{eventBus;STANDARD_JWT_CLAIMS=["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at","iss","aud","exp","iat","auth_time","nonce","acr","amr","azp","at_hash","c_hash"];auth0Client=null;initializationPromise;userSubject=new J.t(this.getUserInfoFromStorage());user$=this.userSubject.asObservable();constructor(s){this.eventBus=s,console.log("[AuthService] Initializing Auth0 authentication service"),console.log("[AuthService] \u{1f50d} DEBUG: Constructor called, starting initialization"),this.initializationPromise=this.initializeAuth0()}initializeAuth0(){var s=this;return(0,D.A)(function*(){try{if(console.log("[AuthService] Starting Auth0 client initialization..."),console.log("[AuthService] \u{1f50d} DEBUG: initializeAuth0 called"),!Me||"object"!=typeof Me)throw console.error("[AuthService] \u{1f50d} DEBUG: AUTH0_CONFIG validation failed - invalid or undefined"),new Error("[AuthService] AUTH0_CONFIG is not defined or invalid");if(!Me.domain||!Me.clientId)throw console.error("[AuthService] \u{1f50d} DEBUG: AUTH0_CONFIG validation failed - missing domain or clientId",{domain:Me.domain,clientId:Me.clientId?"[REDACTED]":void 0}),new Error("[AuthService] AUTH0_CONFIG is missing required fields (domain, clientId)");console.log("[AuthService] \u{1f50d} DEBUG: Creating Auth0 client with config:",{domain:Me.domain,clientId:Me.clientId?"[REDACTED]":void 0,redirectUri:Me.redirectUri,scope:Me.scope,audience:Me.audience||"not set"}),s.auth0Client=yield function Ya(u){return us.apply(this,arguments)}({domain:Me.domain,clientId:Me.clientId,authorizationParams:{redirect_uri:Me.redirectUri,scope:Me.scope,...Me.audience&&{audience:Me.audience}},cacheLocation:"memory",useRefreshTokens:!0}),console.log("[AuthService] Auth0 client initialized successfully"),console.log("[AuthService] \u{1f50d} DEBUG: Auth0 client created successfully")}catch(c){throw console.error("[AuthService] Failed to initialize Auth0 client:",c),console.error("[AuthService] \u{1f50d} DEBUG: initializeAuth0 failed with error:",c),c}})()}ensureInitialized(){var s=this;return(0,D.A)(function*(){if(yield s.initializationPromise,!s.auth0Client)throw new Error("[AuthService] Auth0 client failed to initialize")})()}login(s,c){var l=this;return(0,D.A)(function*(){console.log("[AuthService] \u{1f50d} DEBUG: login() called",{user:s,options:c}),s&&console.log(`[AuthService] Logging in: ${s}`);try{let h;if(yield l.ensureInitialized(),console.log("[AuthService] \u{1f50d} DEBUG: Auth0 client ensured initialized for login"),window.location.search){const m=window.location.search;h={returnTo:m},console.log("[AuthService] Preserving URL parameters through auth flow:",m),console.log("[AuthService] \u{1f50d} DEBUG: Captured URL search params for preservation:",m)}const g={redirect_uri:Me.redirectUri,scope:Me.scope,...Me.audience&&{audience:Me.audience},...Me.connection&&{connection:Me.connection}};c?.invitation&&(g.invitation=c.invitation,console.log("[AuthService] Including invitation parameter:",c.invitation)),c?.organization&&(g.organization=c.organization,console.log("[AuthService] Including organization parameter:",c.organization)),console.log("[AuthService] \u{1f50d} DEBUG: Authorization params prepared:",{redirect_uri:g.redirect_uri,scope:g.scope,audience:g.audience||"not set",connection:g.connection||"not set",invitation:g.invitation||"not set",organization:g.organization||"not set",hasAppState:!!h}),console.log("[AuthService] Starting Auth0 login redirect..."),console.log("[AuthService] \u{1f50d} DEBUG: About to call loginWithRedirect"),yield l.auth0Client.loginWithRedirect({authorizationParams:g,...h&&{appState:h}}),console.log("[AuthService] \u{1f50d} DEBUG: loginWithRedirect completed (this may not be visible due to redirect)")}catch(h){throw console.error("[AuthService] Login failed:",h),console.error("[AuthService] \u{1f50d} DEBUG: login() failed with error:",h),l.emitAuthEvent("login_failure",{error:h instanceof Error?h.message:String(h)}),h}})()}handleCallback(){var s=this;return(0,D.A)(function*(){try{console.log("[AuthService] Processing Auth0 callback..."),console.log("[AuthService] \u{1f50d} DEBUG: handleCallback() called"),console.log("[AuthService] \u{1f50d} DEBUG: Current URL:",window.location.href),console.log("[AuthService] \u{1f50d} DEBUG: URL params:",window.location.search),yield s.ensureInitialized(),console.log("[AuthService] \u{1f50d} DEBUG: Auth0 client ensured initialized for callback");const c=yield s.auth0Client.handleRedirectCallback();console.log("[AuthService] Callback processed successfully"),console.log("[AuthService] \u{1f50d} DEBUG: handleRedirectCallback result:",c),c.appState?console.log("[AuthService] Restored appState from auth flow:",JSON.stringify(c.appState)):console.log("[AuthService] No appState restored (user may not have started from invitation link)"),console.log("[AuthService] \u{1f50d} DEBUG: Fetching user info from Auth0");const l=yield s.auth0Client.getUser();if(!l)return console.warn("[AuthService] No user info returned from Auth0"),console.warn("[AuthService] \u{1f50d} DEBUG: getUser() returned null or undefined"),s.emitAuthEvent("login_failure",{error:"No user info returned from Auth0"}),{success:!1};console.log("[AuthService] \u{1f50d} DEBUG: User info retrieved successfully"),s.logUserClaims(l),s.setUserInfo(l),console.log("[AuthService] \u{1f50d} DEBUG: Fetching access token");const h=yield s.auth0Client.getTokenSilently();return console.log("[AuthService] \u{1f50d} DEBUG: Access token retrieved, length:",h?.length||0),s.setToken(h),s.decodeAndLogToken(h),console.log("[AuthService] Authentication successful"),console.log("[AuthService] \u{1f50d} DEBUG: handleCallback() completed successfully"),s.emitAuthEvent("login_success",{user:l,appState:c.appState}),{success:!0,appState:c.appState}}catch(c){return console.error("[AuthService] Error processing callback:",c),console.error("[AuthService] Error details:",JSON.stringify(c,null,2)),console.error("[AuthService] \u{1f50d} DEBUG: handleCallback() failed with error:",c),console.error("[AuthService] \u{1f50d} DEBUG: Error type:",typeof c),console.error("[AuthService] \u{1f50d} DEBUG: Error stack:",c?.stack),s.emitAuthEvent("login_failure",{error:c instanceof Error?c.message:String(c)}),{success:!1}}})()}decodeAndLogToken(s){try{console.log("=".repeat(80)),console.log("[AuthService] \u{1f513} DECODED ACCESS TOKEN:"),console.log("=".repeat(80));const c=function Xa(u,s){if("string"!=typeof u)throw new go("Invalid token specified: must be a string");s||(s={});const c=!0===s.header?0:1,l=u.split(".")[c];if("string"!=typeof l)throw new go(`Invalid token specified: missing part #${c+1}`);let h;try{h=function nl(u){let s=u.replace(/-/g,"+").replace(/_/g,"/");switch(s.length%4){case 0:break;case 2:s+="==";break;case 3:s+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function tl(u){return decodeURIComponent(atob(u).replace(/(.)/g,(s,c)=>{let l=c.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}(s)}catch{return atob(s)}}(l)}catch(g){throw new go(`Invalid token specified: invalid base64 for part #${c+1} (${g.message})`)}try{return JSON.parse(h)}catch(g){throw new go(`Invalid token specified: invalid json for part #${c+1} (${g.message})`)}}(s);console.log(JSON.stringify(c,null,2)),console.log("=".repeat(80))}catch(c){console.error("[AuthService] Failed to decode token:",c)}}logUserClaims(s){console.log("=".repeat(80)),console.log("[AuthService] \u{1f50d} AUTH0 ID TOKEN - ALL CLAIMS:"),console.log("=".repeat(80)),this.logStandardClaims(s);const c=this.getCustomClaims(s);this.logClaims("\n\u{1f511} Custom Claims (Auth0):",c,s);const l=this.getAdditionalClaims(s);this.logClaims("\n\u{1f527} Additional Claims:",l,s),console.log("\n\u{1f4e6} Complete User Object (JSON):"),console.log(JSON.stringify(s,null,2)),console.log("=".repeat(80))}logStandardClaims(s){console.log("\n\u{1f4cb} Standard OIDC Claims:"),["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at"].forEach(l=>{console.log(`  \u2022 ${"sub"===l?`${l} (Subject/User ID)`:l}:`,s[l])})}logClaims(s,c,l){console.log(s),0!==c.length?c.forEach(h=>{const g=l[h],m="object"==typeof g?JSON.stringify(g,null,2):g;console.log(`  \u2022 ${h}:`,m)}):console.log("  No custom claims found")}getCustomClaims(s){return Object.keys(s).filter(c=>!this.STANDARD_JWT_CLAIMS.includes(c)&&this.isNamespacedClaim(c))}getAdditionalClaims(s){return Object.keys(s).filter(c=>!this.STANDARD_JWT_CLAIMS.includes(c)&&!this.isNamespacedClaim(c))}isNamespacedClaim(s){return s.startsWith("http://")||s.startsWith("https://")}logout(){var s=this;return(0,D.A)(function*(){console.log("[AuthService] \u{1f50d} DEBUG: logout() called"),tc(Vt.ACCESS_TOKEN,Ge.TOKEN_STORAGE),tc(Vt.USER_INFO,Ge.USER_INFO_STORAGE),console.log("[AuthService] \u{1f50d} DEBUG: Storage cleared (token and user info removed)"),s.userSubject.next(null),s.emitAuthEvent("logout",null),console.log("[AuthService] User logged out, clearing Auth0 session");try{yield s.ensureInitialized(),console.log("[AuthService] \u{1f50d} DEBUG: About to call Auth0 logout, returnTo:",Me.logoutUri),yield s.auth0Client.logout({logoutParams:{returnTo:Me.logoutUri}}),console.log("[AuthService] \u{1f50d} DEBUG: Auth0 logout completed (this may not be visible due to redirect)")}catch(c){console.error("[AuthService] Error during Auth0 logout:",c),console.error("[AuthService] \u{1f50d} DEBUG: logout() failed with error:",c)}})()}getToken(){var s=this;return(0,D.A)(function*(){console.log("[AuthService] \u{1f50d} DEBUG: getToken() called");const c=Le(Vt.ACCESS_TOKEN,Ge.TOKEN_STORAGE);if(c)return console.log("[AuthService] \u{1f50d} DEBUG: Token found in storage, length:",c.length),c;console.log("[AuthService] \u{1f50d} DEBUG: Token not in storage, fetching from Auth0");try{yield s.ensureInitialized();const l=yield s.auth0Client.getTokenSilently();return console.log("[AuthService] \u{1f50d} DEBUG: Token retrieved from Auth0, length:",l?.length||0),s.setToken(l),l}catch(l){return console.error("[AuthService] Error getting token from Auth0:",l),console.error("[AuthService] \u{1f50d} DEBUG: getToken() failed:",l),null}})()}getTokenSync(){return Le(Vt.ACCESS_TOKEN,Ge.TOKEN_STORAGE)}setToken(s){console.log("[AuthService] \u{1f50d} DEBUG: setToken() called, storing token in storage"),ec(Vt.ACCESS_TOKEN,s,Ge.TOKEN_STORAGE),this.emitAuthEvent("token_updated",{token:s}),console.log("[AuthService] \u{1f50d} DEBUG: Token stored and token_updated event emitted")}isAuthenticated(){var s=this;return(0,D.A)(function*(){console.log("[AuthService] \u{1f50d} DEBUG: isAuthenticated() called");try{yield s.ensureInitialized();const c=yield s.auth0Client.isAuthenticated();return console.log("[AuthService] \u{1f50d} DEBUG: isAuthenticated() result from Auth0:",c),c}catch(c){console.error("[AuthService] Error checking authentication status:",c);const l=!!Le(Vt.ACCESS_TOKEN,Ge.TOKEN_STORAGE);return console.error("[AuthService] \u{1f50d} DEBUG: isAuthenticated() failed, falling back to storage check:",l),l}})()}isAuthenticatedSync(){return!!Le(Vt.ACCESS_TOKEN,Ge.TOKEN_STORAGE)}getUser(){return this.userSubject.value}getUserData(){const s=this.getUser();if(!s)return null;const c=this.extractClaimValue(s,"role","user"),l=this.extractClaimValue(s,["org","organization"],"default");return{id:s.sub,name:s.name||s.email||"User",email:s.email||"",role:c,org:l}}extractClaimValue(s,c,l){const h=Array.isArray(c)?c:[c];for(const m of h){const v=s[m];if(v)return v}const g=this.getCustomClaims(s);for(const m of h){const v=g.find(w=>w.toLowerCase().includes(m.toLowerCase()));if(v&&s[v]){const w=s[v];return Array.isArray(w)?w[0]:w}}return l}getUserInfoFromStorage(){const s=Le(Vt.USER_INFO,Ge.USER_INFO_STORAGE);return s?JSON.parse(s):null}setUserInfo(s){console.log("[AuthService] \u{1f50d} DEBUG: setUserInfo() called"),ec(Vt.USER_INFO,JSON.stringify(s),Ge.USER_INFO_STORAGE),this.userSubject.next(s),console.log("[AuthService] \u{1f4be} User info stored in sessionStorage:"),console.log("  Standard claims:",{sub:s.sub,name:s.name,email:s.email,email_verified:s.email_verified});const c=this.getCustomClaims(s);c.length>0&&(console.log("  Custom claims stored:"),c.forEach(l=>{console.log(`    \u2022 ${l}:`,s[l])})),console.log("[AuthService] \u{1f50d} DEBUG: User info stored in storage and userSubject updated"),this.emitAuthEvent("user_info_updated",s)}emitAuthEvent(s,c){const l={type:`auth:${s}`,payload:c,timestamp:(new Date).toISOString()};console.log("[AuthService] \u{1f50d} DEBUG: emitAuthEvent() called, event type:",l.type),this.eventBus.sendEvent(JSON.stringify(l)),console.log("[AuthService] Auth event emitted:",l.type)}};ls=F([(0,je._qm)(),te("design:paramtypes",[he])],ls);let ds=null;function rl(){return ds||(ds=new ls(an())),ds}},467:(ft,ge,B)=>{function D(de,Y,J,z,Ne,je,we){try{var Z=de[je](we),F=Z.value}catch(te){return void J(te)}Z.done?Y(F):Promise.resolve(F).then(z,Ne)}function q(de){return function(){var Y=this,J=arguments;return new Promise(function(z,Ne){var je=de.apply(Y,J);function we(F){D(je,z,Ne,we,Z,"next",F)}function Z(F){D(je,z,Ne,we,Z,"throw",F)}we(void 0)})}}B.d(ge,{A:()=>q})}}]);