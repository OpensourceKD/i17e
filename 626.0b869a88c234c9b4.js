(self.webpackChunkshell=self.webpackChunkshell||[]).push([[626,245],{1913:(ee,N,R)=>{Object.defineProperty(N,"__esModule",{value:!0}),R(1635).__exportStar(R(5766),N)},6245:(ee,N,R)=>{R.r(N),R.d(N,{AuthService:()=>G,CoreServicesComponent:()=>B,CoreServicesService:()=>U,DummyDataService:()=>F,EventBusService:()=>X,MfeLoaderService:()=>H,RoleService:()=>T,UserRole:()=>j,hasRequiredRole:()=>P});var p=R(5565);let U=(()=>{class l{constructor(){}static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var x=R(467),I=R(2485),k=R(1663);let G=(()=>{class l{constructor(e){this.http=e,this.id="auth of pokemon",this.ISSUER_BASE_URL="https://topfix-wrczmn.us1.zitadel.cloud",this.CLIENT_ID="336777344075263315",this.REDIRECT_URI="https://opensourcekd.github.io/i17e/auth-callback",this.SCOPE="openid profile email",this.TOKEN_KEY="zitadel_token",this.USER_INFO_KEY="zitadel_user_info",this.userSubject=new I.BehaviorSubject(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable()}login(e){this.redirectToZitadelLogin()}redirectToZitadelLogin(){const e=new URL(`${this.ISSUER_BASE_URL}/oauth/v2/authorize`),s=this.generateRandomState(),u=this.generateCodeVerifier();sessionStorage.setItem("oauth_state",s),sessionStorage.setItem("code_verifier",u),e.searchParams.append("client_id",this.CLIENT_ID),e.searchParams.append("redirect_uri",this.REDIRECT_URI),e.searchParams.append("response_type","code"),e.searchParams.append("scope",this.SCOPE),e.searchParams.append("state",s),window.location.href=e.toString()}handleCallback(e,s){var u=this;return(0,x.A)(function*(){const v=sessionStorage.getItem("oauth_state");if(s!==v)return console.error("[AuthService] State mismatch - possible CSRF attack"),!1;try{const f=yield u.exchangeCodeForToken(e);u.setToken(f.access_token);const g=u.decodeIdToken(f.id_token);return u.setUserInfo(g),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("code_verifier"),console.log("[AuthService] Authentication successful"),!0}catch(f){return console.error("[AuthService] Error exchanging code for token:",f),!1}})()}exchangeCodeForToken(e){var s=this;return(0,x.A)(function*(){const u=`${s.ISSUER_BASE_URL}/oauth/v2/token`,v=new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:s.REDIRECT_URI,client_id:s.CLIENT_ID}),f=yield fetch(u,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:v.toString()});if(!f.ok)throw new Error(`Token exchange failed: ${f.statusText}`);return f.json()})()}decodeIdToken(e){try{const s=e.split(".")[1],u=JSON.parse(atob(s));return{sub:u.sub,name:u.name,email:u.email}}catch(s){return console.error("[AuthService] Error decoding ID token:",s),{sub:""}}}logout(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_INFO_KEY),this.userSubject.next(null),console.log("[AuthService] User logged out")}getToken(){return localStorage.getItem(this.TOKEN_KEY)}setToken(e){localStorage.setItem(this.TOKEN_KEY,e)}isAuthenticated(){return!!this.getToken()}getUser(){return this.userSubject.value}getUserInfoFromStorage(){const e=localStorage.getItem(this.USER_INFO_KEY);return e?JSON.parse(e):null}setUserInfo(e){localStorage.setItem(this.USER_INFO_KEY,JSON.stringify(e)),this.userSubject.next(e)}generateRandomState(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}generateCodeVerifier(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(s){return new(s||l)(p.\u0275\u0275inject(k.HttpClient))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),B=(()=>{class l{static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275cmp=p.\u0275\u0275defineComponent({type:l,selectors:[["org-core-services"]],standalone:!0,features:[p.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(s,u){1&s&&(p.\u0275\u0275elementStart(0,"p"),p.\u0275\u0275text(1," core-services works! "),p.\u0275\u0275elementEnd())}})}}return l})();var j=function(l){return l.SUPER_ADMIN="super-admin",l.ORG_ADMIN="org-admin",l.TEAM_LEAD="team-lead",l.SALES_EXECUTIVE="sales-executive",l}(j||{});function P(l,Z){const e={[j.SUPER_ADMIN]:4,[j.ORG_ADMIN]:3,[j.TEAM_LEAD]:2,[j.SALES_EXECUTIVE]:1};return e[l]>=e[Z]}let T=(()=>{class l{constructor(){this.currentUserSubject=new I.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable(),console.log("[RoleService] Service initialized"),this.loadDummyUser()}loadDummyUser(){console.log("[RoleService] Loading user from session storage");const e=sessionStorage.getItem("current_user");if(e){const s=JSON.parse(e);console.log("[RoleService] User loaded from session:",s),this.currentUserSubject.next(s)}else{const s={id:"1",name:"John Doe",email:"john.doe@example.com",role:j.ORG_ADMIN};console.log("[RoleService] No saved user found, using default:",s),this.setCurrentUser(s)}}setCurrentUser(e){console.log("[RoleService] Setting current user:",e),this.currentUserSubject.next(e),e?(sessionStorage.setItem("current_user",JSON.stringify(e)),console.log("[RoleService] User saved to session storage")):(sessionStorage.removeItem("current_user"),console.log("[RoleService] User removed from session storage"))}getCurrentUser(){const e=this.currentUserSubject.value;return console.log("[RoleService] getCurrentUser() called, returning:",e),e}getCurrentUserRole(){const e=this.currentUserSubject.value?.role||null;return console.log("[RoleService] getCurrentUserRole() called, returning:",e),e}hasRole(e){const s=this.getCurrentUserRole();if(!s)return console.log("[RoleService] hasRole() - No current role, access denied"),!1;const u=P(s,e);return console.log(`[RoleService] hasRole() - Checking if ${s} has ${e}:`,u),u}canViewOthersData(){const e=this.getCurrentUserRole(),s=e===j.SUPER_ADMIN||e===j.ORG_ADMIN||e===j.TEAM_LEAD;return console.log(`[RoleService] canViewOthersData() - Role: ${e}, Can view:`,s),s}static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),F=(()=>{class l{constructor(){this.salesExecutivesSubject=new I.BehaviorSubject(this.generateSalesExecutives()),this.salesExecutives$=this.salesExecutivesSubject.asObservable(),this.salesRecordsSubject=new I.BehaviorSubject(this.generateSalesRecords()),this.salesRecords$=this.salesRecordsSubject.asObservable(),this.incentiveRulesSubject=new I.BehaviorSubject(this.generateIncentiveRules()),this.incentiveRules$=this.incentiveRulesSubject.asObservable(),this.incentivesEarnedSubject=new I.BehaviorSubject(this.generateIncentivesEarned()),this.incentivesEarned$=this.incentivesEarnedSubject.asObservable(),console.log("[DummyDataService] Service initialized"),console.log("[DummyDataService] Generated data:",{salesExecutives:this.salesExecutivesSubject.value.length,salesRecords:this.salesRecordsSubject.value.length,incentiveRules:this.incentiveRulesSubject.value.length,incentivesEarned:this.incentivesEarnedSubject.value.length})}generateSalesExecutives(){return console.log("[DummyDataService] Generating sales executives"),[{id:"1",name:"John Doe",email:"john.doe@example.com",teamId:"team1"},{id:"2",name:"Jane Smith",email:"jane.smith@example.com",teamId:"team1"},{id:"3",name:"Bob Johnson",email:"bob.johnson@example.com",teamId:"team2"},{id:"4",name:"Alice Williams",email:"alice.williams@example.com",teamId:"team2"},{id:"5",name:"Charlie Brown",email:"charlie.brown@example.com",teamId:"team1"}]}generateSalesRecords(){console.log("[DummyDataService] Generating sales records");const e=[],s=this.generateSalesExecutives(),u=["Product A","Product B","Product C","Product D"],v=["completed","pending","cancelled"];for(let f=0;f<50;f++){const g=s[f%s.length],D=Math.floor(f/10),A=new Date;A.setMonth(A.getMonth()-D),e.push({id:`sale-${f+1}`,salesExecutiveId:g.id,salesExecutiveName:g.name,date:A,productName:u[f%u.length],amount:Math.floor(5e4*Math.random())+1e4,quantity:Math.floor(10*Math.random())+1,status:v[f%3]})}return e}generateIncentiveRules(){return console.log("[DummyDataService] Generating incentive rules"),[{id:"rule-1",name:"Basic Sales Incentive",description:"5% incentive on all sales",type:"percentage",value:5,isActive:!0,createdBy:"admin",createdAt:new Date("2024-01-01")},{id:"rule-2",name:"High Value Sales Bonus",description:"10% incentive on sales above $50,000",type:"percentage",value:10,minSalesAmount:5e4,isActive:!0,createdBy:"admin",createdAt:new Date("2024-02-01")},{id:"rule-3",name:"Product A Special",description:"Fixed $500 bonus for Product A sales",type:"fixed",value:500,productCategory:"Product A",isActive:!0,createdBy:"team-lead-1",createdAt:new Date("2024-03-01")},{id:"rule-4",name:"Tiered Volume Incentive",description:"15% incentive on sales above $100,000",type:"tiered",value:15,minSalesAmount:1e5,isActive:!1,createdBy:"admin",createdAt:new Date("2024-04-01")}]}generateIncentivesEarned(){console.log("[DummyDataService] Generating incentives earned");const e=[],s=this.generateSalesExecutives(),u=this.generateIncentiveRules(),v=["pending","approved","paid"];for(let f=0;f<30;f++){const g=s[f%s.length],D=u[f%u.length],A=Math.floor(f/10),E=new Date;E.setMonth(E.getMonth()-A),e.push({id:`incentive-${f+1}`,salesExecutiveId:g.id,salesExecutiveName:g.name,ruleId:D.id,ruleName:D.name,salesRecordId:`sale-${f+1}`,amount:Math.floor(5e3*Math.random())+500,earnedDate:E,status:v[f%3]})}return e}getSalesRecordsForExecutive(e){console.log("[DummyDataService] getSalesRecordsForExecutive() called for:",e);const s=this.salesRecordsSubject.value.filter(u=>u.salesExecutiveId===e);return console.log("[DummyDataService] Found",s.length,"sales records for executive:",e),s}getIncentivesForExecutive(e){console.log("[DummyDataService] getIncentivesForExecutive() called for:",e);const s=this.incentivesEarnedSubject.value.filter(u=>u.salesExecutiveId===e);return console.log("[DummyDataService] Found",s.length,"incentives for executive:",e),s}getReportDataForExecutive(e){console.log("[DummyDataService] getReportDataForExecutive() called for:",e);const s=this.salesExecutivesSubject.value.find(E=>E.id===e),u=this.getSalesRecordsForExecutive(e),v=this.getIncentivesForExecutive(e),f=u.filter(E=>"completed"===E.status).reduce((E,c)=>E+c.amount,0),g=v.filter(E=>"pending"!==E.status).reduce((E,c)=>E+c.amount,0),D=[];for(let E=5;E>=0;E--){const c=new Date;c.setMonth(c.getMonth()-E);const h=c.toISOString().substring(0,7),S=u.filter(b=>b.date.toISOString().substring(0,7)===h&&"completed"===b.status).reduce((b,y)=>b+y.amount,0),O=v.filter(b=>b.earnedDate.toISOString().substring(0,7)===h&&"pending"!==b.status).reduce((b,y)=>b+y.amount,0);D.push({month:h,sales:S,incentives:O})}const A={salesExecutiveId:e,salesExecutiveName:s?.name||"Unknown",totalSales:f,totalIncentives:g,period:"Last 6 months",breakdown:D};return console.log("[DummyDataService] Report data generated:",A),A}getSalesExecutives(){const e=this.salesExecutivesSubject.value;return console.log("[DummyDataService] getSalesExecutives() called, returning",e.length,"executives"),e}getIncentiveRules(){const e=this.incentiveRulesSubject.value;return console.log("[DummyDataService] getIncentiveRules() called, returning",e.length,"rules"),e}addIncentiveRule(e){console.log("[DummyDataService] addIncentiveRule() called with:",e),this.incentiveRulesSubject.next([...this.incentiveRulesSubject.value,e]),console.log("[DummyDataService] Rule added successfully, total rules:",this.incentiveRulesSubject.value.length)}updateIncentiveRule(e,s){console.log("[DummyDataService] updateIncentiveRule() called for rule:",e,"with updates:",s);const v=this.incentiveRulesSubject.value.map(f=>f.id===e?{...f,...s}:f);this.incentiveRulesSubject.next(v),console.log("[DummyDataService] Rule updated successfully")}deleteIncentiveRule(e){console.log("[DummyDataService] deleteIncentiveRule() called for rule:",e);const u=this.incentiveRulesSubject.value.filter(v=>v.id!==e);this.incentiveRulesSubject.next(u),console.log("[DummyDataService] Rule deleted successfully, remaining rules:",this.incentiveRulesSubject.value.length)}static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var Y=R(1913);let H=(()=>{class l{constructor(){this.mfeConfigs=[],this.loadedMfesSubject=new I.BehaviorSubject(new Set),this.loadedMfes$=this.loadedMfesSubject.asObservable(),this.loadingMfesSubject=new I.BehaviorSubject(new Set),this.loadingMfes$=this.loadingMfesSubject.asObservable(),console.log("[MfeLoaderService] Service initialized")}setConfigs(e){console.log("[MfeLoaderService] setConfigs() called with",e.length,"configurations"),this.mfeConfigs=e.sort((s,u)=>u.priority-s.priority),console.log("[MfeLoaderService] Configurations sorted by priority:",this.mfeConfigs.map(s=>({name:s.name,priority:s.priority})))}getConfigs(){return console.log("[MfeLoaderService] getConfigs() called, returning",this.mfeConfigs.length,"configurations"),this.mfeConfigs}getConfigsForRole(e){console.log("[MfeLoaderService] getConfigsForRole() called for role:",e);const s=this.mfeConfigs.filter(u=>u.allowedRoles.includes(e));return console.log("[MfeLoaderService] Found",s.length,"configurations for role:",e,s.map(u=>u.name)),s}getConfigByName(e){console.log("[MfeLoaderService] getConfigByName() called for:",e);const s=this.mfeConfigs.find(u=>u.name===e);return s?console.log("[MfeLoaderService] Found configuration for:",e):console.warn("[MfeLoaderService] Configuration not found for:",e),s}preloadPriorityMfes(e){var s=this;return(0,x.A)(function*(){console.log("[MfeLoaderService] preloadPriorityMfes() called for role:",e);const v=s.getConfigsForRole(e).filter(g=>g.priority>=5);console.log("[MfeLoaderService] Preloading",v.length,"priority MFEs:",v.map(g=>({name:g.name,priority:g.priority})));const f=v.map(g=>s.loadMfe(g));yield Promise.all(f),console.log("[MfeLoaderService] Preloading complete")})()}loadMfe(e){var s=this;return(0,x.A)(function*(){const u=s.loadingMfesSubject.value,v=s.loadedMfesSubject.value;if(v.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} already loaded`);else if(u.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} is already loading`);else try{const f=new Set(u);f.add(e.name),s.loadingMfesSubject.next(f),console.log(`[MfeLoaderService] Loading MFE ${e.name} (priority: ${e.priority})`),console.log("[MfeLoaderService] MFE config:",{name:e.name,url:e.url,exposedModule:e.exposedModule,remoteName:e.remoteName});const g=yield(0,Y.loadRemoteModule)({type:"module",remoteEntry:e.url,exposedModule:e.exposedModule}),D=new Set(v);D.add(e.name),s.loadedMfesSubject.next(D);const A=new Set(s.loadingMfesSubject.value);return A.delete(e.name),s.loadingMfesSubject.next(A),console.log(`[MfeLoaderService] Successfully loaded MFE ${e.name}`),console.log("[MfeLoaderService] Currently loaded MFEs:",Array.from(s.loadedMfesSubject.value)),g}catch(f){console.error(`[MfeLoaderService] Error loading MFE ${e.name}:`,f),console.error("[MfeLoaderService] Failed config:",{name:e.name,url:e.url,exposedModule:e.exposedModule});const g=new Set(s.loadingMfesSubject.value);throw g.delete(e.name),s.loadingMfesSubject.next(g),f}})()}isMfeLoaded(e){const s=this.loadedMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoaded(${e}):`,s),s}isMfeLoading(e){const s=this.loadingMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoading(${e}):`,s),s}static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var V=R(762),W=R.n(V);let X=(()=>{class l{constructor(){this.emitter=W()(),console.log("[EventBusService] Service initialized");const e=new Event("EventBusServiceCreated");this.onePlusNEvents=new I.ReplaySubject(100),this.onePlusNEvents.next(e.type),this.emitter.on("*",s=>{console.log("[EventBusService] Event received and forwarded to ReplaySubject:",s),this.onePlusNEvents.next(s)}),console.log("[EventBusService] Event listener registered for all events")}sendEvent(e){console.log("[EventBusService] sendEvent() called with:",e),this.emitter.emit(e),console.log("[EventBusService] Event emitted successfully")}static{this.\u0275fac=function(s){return new(s||l)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})()},5766:(ee,N,R)=>{R.r(N),R.d(N,{getManifest:()=>s,initFederation:()=>u,loadManifest:()=>f,loadRemoteEntry:()=>T,loadRemoteModule:()=>X,setManifest:()=>Z});var p=R(467);let U={};const x={},I={};let k=!1;function B(){return(B=(0,p.A)(function*(c,h){return(yield x[c].get(h))()})).apply(this,arguments)}function j(c,h){return P.apply(this,arguments)}function P(){return(P=(0,p.A)(function*(c,h){return I[h]||(k||(yield R.I("default"),k=!0),yield c.init(R.S.default),I[h]=!0),c})).apply(this,arguments)}function T(c,h){return F.apply(this,arguments)}function F(){return F=(0,p.A)(function*(c,h){if("string"==typeof c)return yield V(c,h);if("script"===c.type){const S=c;return yield V(S.remoteEntry,S.remoteName)}"module"===c.type&&(yield function Y(c){return H.apply(this,arguments)}(c.remoteEntry))}),F.apply(this,arguments)}function H(){return(H=(0,p.A)(function*(c){return x[c]?Promise.resolve():yield import(c).then(h=>{j(h,c),x[c]=h})})).apply(this,arguments)}function V(c,h){return W.apply(this,arguments)}function W(){return(W=(0,p.A)(function*(c,h){return new Promise((S,O)=>{if(x[h])return void S();const b=document.createElement("script");b.src=c,b.onerror=O,b.onload=()=>{const y=window[h];j(y,h),x[h]=y,S()},document.body.appendChild(b)})})).apply(this,arguments)}function X(c,h){return l.apply(this,arguments)}function l(){return l=(0,p.A)(function*(c,h){let S,O,b,y;if(y="string"==typeof c?{type:"manifest",remoteName:c,exposedModule:h}:c,!y.type){const z=Object.keys(U).length>0;y.type=z?"manifest":"script"}if("manifest"===y.type){const z=U[y.remoteName];if(!z)throw new Error("Manifest does not contain "+y.remoteName);y={type:z.type,exposedModule:y.exposedModule,remoteEntry:z.remoteEntry,remoteName:"script"===z.type?y.remoteName:void 0},b=z.remoteEntry}else b=y.remoteEntry;return"script"===y.type?(S={type:"script",remoteEntry:y.remoteEntry,remoteName:y.remoteName},O=y.remoteName):"module"===y.type&&(S={type:"module",remoteEntry:y.remoteEntry},O=y.remoteEntry),b&&(yield T(S)),yield function G(c,h){return B.apply(this,arguments)}(O,y.exposedModule)}),l.apply(this,arguments)}function Z(c){return e.apply(this,arguments)}function e(){return(e=(0,p.A)(function*(c,h=!1){U=D(c),h||(yield A())})).apply(this,arguments)}function s(){return U}function u(c){return v.apply(this,arguments)}function v(){return(v=(0,p.A)(function*(c,h=!1){return"string"==typeof c?f(c,h):Z(c,h)})).apply(this,arguments)}function f(c){return g.apply(this,arguments)}function g(){return(g=(0,p.A)(function*(c,h=!1){const S=yield fetch(c);if(!S.ok)throw Error("could not load configFile: "+c);U=D(yield S.json()),h||(yield A())})).apply(this,arguments)}function D(c){const h={};for(const S in c){const O=c[S];let b;b="string"==typeof O?{remoteEntry:O,type:"module"}:{...O,type:O.type||"module"},h[S]=b}return h}function A(){return E.apply(this,arguments)}function E(){return(E=(0,p.A)(function*(){const c=[];for(const h in U){const S=U[h];c.push(T("module"===S.type?{type:"module",remoteEntry:S.remoteEntry}:{type:"script",remoteEntry:S.remoteEntry,remoteName:h}))}yield Promise.all(c)})).apply(this,arguments)}},467:(ee,N,R)=>{function p(x,I,k,G,B,j,P){try{var T=x[j](P),F=T.value}catch(Y){return void k(Y)}T.done?I(F):Promise.resolve(F).then(G,B)}function U(x){return function(){var I=this,k=arguments;return new Promise(function(G,B){var j=x.apply(I,k);function P(F){p(j,G,B,P,T,"next",F)}function T(F){p(j,G,B,P,T,"throw",F)}P(void 0)})}}R.d(N,{A:()=>U})},1635:(ee,N,R)=>{R.r(N),R.d(N,{__addDisposableResource:()=>y,__assign:()=>x,__asyncDelegator:()=>f,__asyncGenerator:()=>v,__asyncValues:()=>g,__await:()=>u,__awaiter:()=>Y,__classPrivateFieldGet:()=>S,__classPrivateFieldIn:()=>b,__classPrivateFieldSet:()=>O,__createBinding:()=>V,__decorate:()=>k,__disposeResources:()=>te,__esDecorate:()=>B,__exportStar:()=>W,__extends:()=>U,__generator:()=>H,__importDefault:()=>h,__importStar:()=>c,__makeTemplateObject:()=>D,__metadata:()=>F,__param:()=>G,__propKey:()=>P,__read:()=>l,__rest:()=>I,__rewriteRelativeImportExtension:()=>re,__runInitializers:()=>j,__setFunctionName:()=>T,__spread:()=>Z,__spreadArray:()=>s,__spreadArrays:()=>e,__values:()=>X,default:()=>ne});var p=function(t,r){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])})(t,r)};function U(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}p(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var x=function(){return x=Object.assign||function(r){for(var n,o=1,a=arguments.length;o<a;o++)for(var i in n=arguments[o])Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i]);return r},x.apply(this,arguments)};function I(t,r){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(t);a<o.length;a++)r.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(t,o[a])&&(n[o[a]]=t[o[a]])}return n}function k(t,r,n,o){var d,a=arguments.length,i=a<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,r,n,o);else for(var _=t.length-1;_>=0;_--)(d=t[_])&&(i=(a<3?d(i):a>3?d(r,n,i):d(r,n))||i);return a>3&&i&&Object.defineProperty(r,n,i),i}function G(t,r){return function(n,o){r(n,o,t)}}function B(t,r,n,o,a,i){function d(Q){if(void 0!==Q&&"function"!=typeof Q)throw new TypeError("Function expected");return Q}for(var C,_=o.kind,L="getter"===_?"get":"setter"===_?"set":"value",m=!r&&t?o.static?t:t.prototype:null,M=r||(m?Object.getOwnPropertyDescriptor(m,o.name):{}),q=!1,w=n.length-1;w>=0;w--){var $={};for(var K in o)$[K]="access"===K?{}:o[K];for(var K in o.access)$.access[K]=o.access[K];$.addInitializer=function(Q){if(q)throw new TypeError("Cannot add initializers after decoration has completed");i.push(d(Q||null))};var J=(0,n[w])("accessor"===_?{get:M.get,set:M.set}:M[L],$);if("accessor"===_){if(void 0===J)continue;if(null===J||"object"!=typeof J)throw new TypeError("Object expected");(C=d(J.get))&&(M.get=C),(C=d(J.set))&&(M.set=C),(C=d(J.init))&&a.unshift(C)}else(C=d(J))&&("field"===_?a.unshift(C):M[L]=C)}m&&Object.defineProperty(m,o.name,M),q=!0}function j(t,r,n){for(var o=arguments.length>2,a=0;a<r.length;a++)n=o?r[a].call(t,n):r[a].call(t);return o?n:void 0}function P(t){return"symbol"==typeof t?t:"".concat(t)}function T(t,r,n){return"symbol"==typeof r&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function F(t,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,r)}function Y(t,r,n,o){return new(n||(n=Promise))(function(i,d){function _(M){try{m(o.next(M))}catch(C){d(C)}}function L(M){try{m(o.throw(M))}catch(C){d(C)}}function m(M){M.done?i(M.value):function a(i){return i instanceof n?i:new n(function(d){d(i)})}(M.value).then(_,L)}m((o=o.apply(t,r||[])).next())})}function H(t,r){var o,a,i,n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},d=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return d.next=_(0),d.throw=_(1),d.return=_(2),"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d;function _(m){return function(M){return function L(m){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(o=1,a&&(i=2&m[0]?a.return:m[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,m[1])).done)return i;switch(a=0,i&&(m=[2&m[0],i.value]),m[0]){case 0:case 1:i=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,a=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(!(i=(i=n.trys).length>0&&i[i.length-1])&&(6===m[0]||2===m[0])){n=0;continue}if(3===m[0]&&(!i||m[1]>i[0]&&m[1]<i[3])){n.label=m[1];break}if(6===m[0]&&n.label<i[1]){n.label=i[1],i=m;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(m);break}i[2]&&n.ops.pop(),n.trys.pop();continue}m=r.call(t,n)}catch(M){m=[6,M],a=0}finally{o=i=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([m,M])}}}var V=Object.create?function(t,r,n,o){void 0===o&&(o=n);var a=Object.getOwnPropertyDescriptor(r,n);(!a||("get"in a?!r.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(t,o,a)}:function(t,r,n,o){void 0===o&&(o=n),t[o]=r[n]};function W(t,r){for(var n in t)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&V(r,t,n)}function X(t){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&t[r],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,r){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var a,d,o=n.call(t),i=[];try{for(;(void 0===r||r-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(_){d={error:_}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(d)throw d.error}}return i}function Z(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(l(arguments[r]));return t}function e(){for(var t=0,r=0,n=arguments.length;r<n;r++)t+=arguments[r].length;var o=Array(t),a=0;for(r=0;r<n;r++)for(var i=arguments[r],d=0,_=i.length;d<_;d++,a++)o[a]=i[d];return o}function s(t,r,n){if(n||2===arguments.length)for(var i,o=0,a=r.length;o<a;o++)(i||!(o in r))&&(i||(i=Array.prototype.slice.call(r,0,o)),i[o]=r[o]);return t.concat(i||Array.prototype.slice.call(r))}function u(t){return this instanceof u?(this.v=t,this):new u(t)}function v(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,o=n.apply(t,r||[]),i=[];return a=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),_("next"),_("throw"),_("return",function d(w){return function($){return Promise.resolve($).then(w,C)}}),a[Symbol.asyncIterator]=function(){return this},a;function _(w,$){o[w]&&(a[w]=function(K){return new Promise(function(J,Q){i.push([w,K,J,Q])>1||L(w,K)})},$&&(a[w]=$(a[w])))}function L(w,$){try{!function m(w){w.value instanceof u?Promise.resolve(w.value.v).then(M,C):q(i[0][2],w)}(o[w]($))}catch(K){q(i[0][3],K)}}function M(w){L("next",w)}function C(w){L("throw",w)}function q(w,$){w($),i.shift(),i.length&&L(i[0][0],i[0][1])}}function f(t){var r,n;return r={},o("next"),o("throw",function(a){throw a}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(a,i){r[a]=t[a]?function(d){return(n=!n)?{value:u(t[a](d)),done:!1}:i?i(d):d}:i}}function g(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=t[Symbol.asyncIterator];return r?r.call(t):(t=X(t),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=t[i]&&function(d){return new Promise(function(_,L){!function a(i,d,_,L){Promise.resolve(L).then(function(m){i({value:m,done:_})},d)}(_,L,(d=t[i](d)).done,d.value)})}}}function D(t,r){return Object.defineProperty?Object.defineProperty(t,"raw",{value:r}):t.raw=r,t}var A=Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r},E=function(t){return(E=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n})(t)};function c(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=E(t),o=0;o<n.length;o++)"default"!==n[o]&&V(r,t,n[o]);return A(r,t),r}function h(t){return t&&t.__esModule?t:{default:t}}function S(t,r,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?t!==r||!o:!r.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(t):o?o.value:r.get(t)}function O(t,r,n,o,a){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?t!==r||!a:!r.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?a.call(t,n):a?a.value=n:r.set(t,n),n}function b(t,r){if(null===r||"object"!=typeof r&&"function"!=typeof r)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?r===t:t.has(r)}function y(t,r,n){if(null!=r){if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Object expected.");var o,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(void 0===o){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(a=o)}if("function"!=typeof o)throw new TypeError("Object not disposable.");a&&(o=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:r,dispose:o,async:n})}else n&&t.stack.push({async:!0});return r}var z="function"==typeof SuppressedError?SuppressedError:function(t,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=t,o.suppressed=r,o};function te(t){function r(i){t.error=t.hasError?new z(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var n,o=0;return function a(){for(;n=t.stack.pop();)try{if(!n.async&&1===o)return o=0,t.stack.push(n),Promise.resolve().then(a);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(i).then(a,function(d){return r(d),a()})}else o|=1}catch(d){r(d)}if(1===o)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}function re(t,r){return"string"==typeof t&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,a,i,d){return o?r?".jsx":".js":!a||i&&d?a+i+"."+d.toLowerCase()+"js":n}):t}const ne={__extends:U,__assign:x,__rest:I,__decorate:k,__param:G,__esDecorate:B,__runInitializers:j,__propKey:P,__setFunctionName:T,__metadata:F,__awaiter:Y,__generator:H,__createBinding:V,__exportStar:W,__values:X,__read:l,__spread:Z,__spreadArrays:e,__spreadArray:s,__await:u,__asyncGenerator:v,__asyncDelegator:f,__asyncValues:g,__makeTemplateObject:D,__importStar:c,__importDefault:h,__classPrivateFieldGet:S,__classPrivateFieldSet:O,__classPrivateFieldIn:b,__addDisposableResource:y,__disposeResources:te,__rewriteRelativeImportExtension:re}}}]);