(self.webpackChunkshell=self.webpackChunkshell||[]).push([[502,662],{2502:(W,g,s)=>{s.r(g),s.d(g,{bootstrap:()=>z});var v=s(1194),m=s(467),d=s(3319),c=s(5315),p=s(3793),C=s(4866),f=s(7412),e=s(5565),l=s(8662);function x(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"option",14),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("value",t.id),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(t.name)}}function y(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",9)(1,"div",10)(2,"label",11),e.\u0275\u0275text(3,"View data for:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"span",12),e.\u0275\u0275text(5," Selecting a user will display their incentive data. "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"select",13),e.\u0275\u0275twoWayListener("ngModelChange",function(r){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275twoWayBindingSet(i.selectedSalesExecutiveId,r)||(i.selectedSalesExecutiveId=r),e.\u0275\u0275resetView(r)}),e.\u0275\u0275listener("change",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.onSalesExecutiveChange())}),e.\u0275\u0275elementStart(7,"option",14),e.\u0275\u0275text(8,"My Data"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,x,2,2,"option",15),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(6),e.\u0275\u0275twoWayProperty("ngModel",t.selectedSalesExecutiveId),e.\u0275\u0275advance(),e.\u0275\u0275property("value",t.currentUser.id),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",t.salesExecutives)}}function b(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"span",16),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate2(" ",t.currentUser.name," (",t.currentUser.role,") ")}}function S(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",17),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.logout())}),e.\u0275\u0275text(1,"Logout"),e.\u0275\u0275elementEnd()}}function _(n,a){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",18),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.login())}),e.\u0275\u0275text(1,"Login"),e.\u0275\u0275elementEnd()}}function M(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"a",21),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit;e.\u0275\u0275property("routerLink","/"+t.route),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",t.displayName," ")}}function O(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"nav",19),e.\u0275\u0275template(1,M,2,2,"a",20),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(),e.\u0275\u0275property("ngForOf",t.availableMfes)}}let P=(()=>{class n{constructor(t,o,r,i){this.roleService=t,this.dummyDataService=o,this.mfeLoader=r,this.auth=i,this.currentUser=null,this.availableMfes=[],this.salesExecutives=[],this.selectedSalesExecutiveId="",this.canViewOthers=!1}ngOnInit(){this.syncAuthenticatedUser(),this.subscribeToUserChanges()}syncAuthenticatedUser(){const t=this.auth.isAuthenticatedSync(),o=this.auth.getUser(),r=this.roleService.getCurrentUser();t&&o&&this.shouldUpdateUser(r,o)&&this.roleService.setUserFromAuth(o)}shouldUpdateUser(t,o){return!t||t.id!==o.sub}subscribeToUserChanges(){this.roleService.currentUser$.subscribe(t=>{this.currentUser=t,this.updateComponentState(t)})}updateComponentState(t){t?(this.selectedSalesExecutiveId=t.id,this.canViewOthers=this.roleService.canViewOthersData(),this.updateAvailableMfes(),this.loadSalesExecutives()):this.resetComponentState()}resetComponentState(){this.availableMfes=[],this.salesExecutives=[],this.canViewOthers=!1}updateAvailableMfes(){this.availableMfes=this.currentUser?this.mfeLoader.getConfigs():[]}loadSalesExecutives(){this.salesExecutives=this.canViewOthers?this.dummyDataService.getSalesExecutives():[]}onSalesExecutiveChange(){this.persistSelectedExecutive(this.selectedSalesExecutiveId),this.notifyExecutiveChange(this.selectedSalesExecutiveId)}persistSelectedExecutive(t){sessionStorage.setItem("selected_sales_executive_id",t)}notifyExecutiveChange(t){window.dispatchEvent(new CustomEvent("salesExecutiveChanged",{detail:{salesExecutiveId:t}}))}logout(){this.auth.logout(),this.roleService.setCurrentUser(null)}login(){this.auth.login()}static{this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(l.RoleService),e.\u0275\u0275directiveInject(l.DummyDataService),e.\u0275\u0275directiveInject(l.MfeLoaderService),e.\u0275\u0275directiveInject(l.AuthService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-header"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:10,vars:5,consts:[[1,"app-header"],[1,"header-left"],[1,"app-title"],["class","header-center",4,"ngIf"],[1,"header-right"],["class","user-info",4,"ngIf"],["class","btn-logout",3,"click",4,"ngIf"],["class","btn-login",3,"click",4,"ngIf"],["class","app-nav",4,"ngIf"],[1,"header-center"],[1,"user-selector"],["for","salesExecSelect"],["id","salesExecSelectDesc",1,"visually-hidden"],["id","salesExecSelect","aria-describedby","salesExecSelectDesc",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"user-info"],[1,"btn-logout",3,"click"],[1,"btn-login",3,"click"],[1,"app-nav"],["routerLinkActive","active","class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"header",0)(1,"div",1)(2,"h1",2),e.\u0275\u0275text(3,"Incentive Management System"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(4,y,10,3,"div",3),e.\u0275\u0275elementStart(5,"div",4),e.\u0275\u0275template(6,b,2,2,"span",5)(7,S,2,0,"button",6)(8,_,2,0,"button",7),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(9,O,2,1,"nav",8)),2&o&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",r.currentUser&&r.canViewOthers),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.currentUser),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",r.currentUser),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!r.currentUser),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",r.currentUser))},dependencies:[c.CommonModule,c.NgForOf,c.NgIf,p.FormsModule,p.NgSelectOption,p.\u0275NgSelectMultipleOption,p.SelectControlValueAccessor,p.NgControlStatus,p.NgModel,d.RouterLink,d.RouterLinkActive],styles:[".app-header[_ngcontent-%COMP%]{background:#fff;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 8px #0000001a}.header-left[_ngcontent-%COMP%]{flex:1}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:var(--gray-900);font-weight:600}.header-center[_ngcontent-%COMP%]{flex:2;display:flex;justify-content:center}.user-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--gray-700);font-weight:500}.user-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--gray-400);border-radius:.375rem;font-size:.875rem;background:#fff;cursor:pointer;min-width:200px}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.header-right[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end;align-items:center;gap:1rem}.user-info[_ngcontent-%COMP%]{color:var(--gray-700);font-size:.875rem;font-weight:500}.btn-logout[_ngcontent-%COMP%], .btn-login[_ngcontent-%COMP%]{background:var(--hot-red);color:#fff;border:none;padding:.5rem 1.5rem;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .2s ease}.btn-logout[_ngcontent-%COMP%]:hover, .btn-login[_ngcontent-%COMP%]:hover{background:var(--orange-red)}.btn-login[_ngcontent-%COMP%]{background:var(--bright-blue)}.btn-login[_ngcontent-%COMP%]:hover{background:var(--electric-violet)}.app-nav[_ngcontent-%COMP%]{background:var(--gray-900);padding:0;display:flex;gap:0}.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:1rem 1.5rem;font-size:.875rem;font-weight:500;transition:background .2s ease;border-bottom:3px solid transparent}.nav-link[_ngcontent-%COMP%]:hover{background:var(--gray-700)}.nav-link.active[_ngcontent-%COMP%]{background:var(--bright-blue);border-bottom-color:var(--electric-violet)}"]})}}return n})(),E=(()=>{class n{constructor(){this.currentYear=(new Date).getFullYear()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-footer"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:3,vars:1,consts:[[1,"app-footer"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"footer",0)(1,"p"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("\xa9 ",r.currentYear," Incentive Management System. All rights reserved."))},styles:[".app-footer[_ngcontent-%COMP%]{background:var(--gray-900);color:#fff;padding:1rem 2rem;text-align:center;font-size:.875rem;margin-top:auto}.app-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}"]})}}return n})(),k=(()=>{class n{constructor(t,o,r){this.auth=t,this.roleService=o,this.mfeLoader=r,this.title="Incentive Management System",this.subscriptions=new C.Subscription,this.mfeLoader.setConfigs(f.RG)}ngOnInit(){var t=this;return(0,m.A)(function*(){yield t.syncAuthenticatedUser()})()}ngOnDestroy(){this.subscriptions.unsubscribe()}syncAuthenticatedUser(){var t=this;return(0,m.A)(function*(){const o=yield t.auth.isAuthenticated(),r=t.auth.getUser(),i=t.roleService.getCurrentUser();o&&r&&t.shouldUpdateUser(i,r)&&(console.log("[AppComponent] Syncing authenticated user to role service"),t.roleService.setUserFromAuth(r))})()}shouldUpdateUser(t,o){return!t||t.id!==o.sub}static{this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(l.AuthService),e.\u0275\u0275directiveInject(l.RoleService),e.\u0275\u0275directiveInject(l.MfeLoaderService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-root"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:5,vars:0,consts:[[1,"app-container"],[1,"app-content"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-header"),e.\u0275\u0275elementStart(2,"main",1),e.\u0275\u0275element(3,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"app-footer"),e.\u0275\u0275elementEnd())},dependencies:[d.RouterOutlet,c.CommonModule,p.FormsModule,P,E],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.app-content[_ngcontent-%COMP%]{flex:1;padding:2rem;background:#f5f5f5}']})}}return n})();var h=s(1663);function I(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",13)(1,"span",14),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.icon)}}function w(n,a){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,", "),e.\u0275\u0275elementEnd())}function A(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275template(2,w,2,0,"span",15),e.\u0275\u0275elementEnd()),2&n){const t=a.$implicit,o=a.last;e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",t,""),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",!o)}}function F(n,a){if(1&n&&(e.\u0275\u0275elementStart(0,"div",7),e.\u0275\u0275template(1,I,3,1,"div",8),e.\u0275\u0275elementStart(2,"h3"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"p",9),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"p",10)(7,"strong"),e.\u0275\u0275text(8,"Allowed Roles:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"br"),e.\u0275\u0275template(10,A,3,2,"span",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"a",12),e.\u0275\u0275text(12),e.\u0275\u0275elementEnd()()),2&n){const t=a.$implicit;e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",t.icon),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.displayName),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1("Route: /",t.route,""),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngForOf",t.allowedRoles),e.\u0275\u0275advance(),e.\u0275\u0275property("routerLink","/"+t.route),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" Go to ",t.displayName," ")}}let U=(()=>{class n{constructor(t){this.mfeLoader=t,this.allMfes=[]}ngOnInit(){this.allMfes=this.mfeLoader.getConfigs()}static{this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(l.MfeLoaderService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-home-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:15,vars:1,consts:[[1,"home-container"],[1,"welcome-text"],[1,"routes-section"],[1,"routes-grid"],["class","route-card",4,"ngFor","ngForOf"],[1,"info-section"],[1,"note"],[1,"route-card"],["class","route-icon",4,"ngIf"],[1,"route-path"],[1,"route-roles"],[4,"ngFor","ngForOf"],[1,"btn-navigate",3,"routerLink"],[1,"route-icon"],[1,"icon"],[4,"ngIf"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"h1"),e.\u0275\u0275text(2,"Incentive Management System"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"p",1),e.\u0275\u0275text(4,"Welcome! Here are all available routes in the system:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"div",2)(6,"h2"),e.\u0275\u0275text(7,"Available MFEs (Micro Frontend Applications)"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",3),e.\u0275\u0275template(9,F,13,6,"div",4),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"div",5)(11,"p",6)(12,"strong"),e.\u0275\u0275text(13,"Note:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(14," All routes are currently accessible for testing purposes. Role-based guards are temporarily disabled. "),e.\u0275\u0275elementEnd()()()),2&o&&(e.\u0275\u0275advance(9),e.\u0275\u0275property("ngForOf",r.allMfes))},dependencies:[c.CommonModule,c.NgForOf,c.NgIf,d.RouterLink],styles:[".home-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:2rem}.home-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem;font-size:2rem}.home-container[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{color:#666;font-size:1.1rem;margin-bottom:2rem}.routes-section[_ngcontent-%COMP%]{margin-bottom:2rem}.routes-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#444;margin-bottom:1.5rem;border-bottom:2px solid #007bff;padding-bottom:.5rem}.routes-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem;margin-bottom:2rem}.route-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #ddd;border-radius:8px;padding:1.5rem;box-shadow:0 2px 4px #0000001a;transition:transform .2s,box-shadow .2s}.route-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.route-card[_ngcontent-%COMP%]   .route-icon[_ngcontent-%COMP%]{margin-bottom:1rem}.route-card[_ngcontent-%COMP%]   .route-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background:#007bff;color:#fff;border-radius:4px;font-size:.9rem;font-weight:500}.route-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem;font-size:1.3rem}.route-card[_ngcontent-%COMP%]   .route-path[_ngcontent-%COMP%]{color:#007bff;font-family:monospace;font-size:.95rem;margin-bottom:.75rem;font-weight:500}.route-card[_ngcontent-%COMP%]   .route-roles[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin-bottom:1rem;line-height:1.5}.route-card[_ngcontent-%COMP%]   .route-roles[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#444}.route-card[_ngcontent-%COMP%]   .route-roles[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic}.route-card[_ngcontent-%COMP%]   .btn-navigate[_ngcontent-%COMP%]{display:inline-block;padding:.6rem 1.2rem;background:#007bff;color:#fff;text-decoration:none;border-radius:4px;font-weight:500;transition:background .2s}.route-card[_ngcontent-%COMP%]   .btn-navigate[_ngcontent-%COMP%]:hover{background:#0056b3}.info-section[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem;background:#f8f9fa;border-left:4px solid #ffc107;border-radius:4px}.info-section[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{margin:0;color:#666}.info-section[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}"]})}}return n})();var R=s(1913);const T=["container"];let u=(()=>{class n{constructor(){this.name=""}ngAfterViewInit(){var t=this;return(0,m.A)(function*(){const o=f.Ay.find(({remoteName:i})=>i===t.name);if(!o)return;const r=yield(0,R.loadRemoteModule)(o);t.remoteContainer.createComponent(r.AppComponent)})()}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-mfe-wrapper"]],viewQuery:function(o,r){if(1&o&&e.\u0275\u0275viewQuery(T,7,e.ViewContainerRef),2&o){let i;e.\u0275\u0275queryRefresh(i=e.\u0275\u0275loadQuery())&&(r.remoteContainer=i.first)}},inputs:{name:"name"},standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:4,vars:0,consts:[["container",""]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"mfe-wrapper works!"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainer(2,null,0))},dependencies:[c.CommonModule],changeDetection:0})}}return n})(),j=(()=>{class n{constructor(){this.mfeName="crudRules"}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-rules-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",r.mfeName))},dependencies:[u],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return n})(),H=(()=>{class n{constructor(){this.mfeName="mySales"}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-sales-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",r.mfeName))},dependencies:[u],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return n})(),L=(()=>{class n{constructor(){this.mfeName="myReport"}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-reports-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",r.mfeName))},dependencies:[u],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return n})(),N=(()=>{class n{constructor(){this.mfeName="usersCrud"}static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-users-page"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:2,vars:1,consts:[[1,"page-container"],[3,"name"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"app-mfe-wrapper",1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(),e.\u0275\u0275property("name",r.mfeName))},dependencies:[u],styles:[".page-container[_ngcontent-%COMP%]{padding:2rem}"]})}}return n})();function V(n,a){1&n&&(e.\u0275\u0275elementStart(0,"p"),e.\u0275\u0275text(1,"Processing authentication..."),e.\u0275\u0275elementEnd())}const D=[{path:"",component:U},{path:"auth-callback",component:(()=>{class n{constructor(t,o,r,i){this.route=t,this.router=o,this.authService=r,this.roleService=i,this.message="Processing authentication...",this.isProcessing=!0}ngOnInit(){var t=this;return(0,m.A)(function*(){yield t.processAuthCallback()})()}processAuthCallback(){var t=this;return(0,m.A)(function*(){try{const r=(yield t.authService.handleCallback())?t.handleAuthSuccess():t.createFailureState();t.applyAuthState(r),t.scheduleRedirect(r.redirectDelayMs)}catch(o){console.error("[AuthCallbackComponent] Error processing callback:",o);const r=t.createExceptionState();t.applyAuthState(r),t.scheduleRedirect(r.redirectDelayMs)}})()}handleAuthSuccess(){const t=this.authService.getUser();if(t){console.log("[AuthCallbackComponent] \u{1f389} Authentication successful! User info retrieved:"),console.log("  User ID:",t.sub),console.log("  Name:",t.name),console.log("  Email:",t.email);const o=Object.keys(t).filter(r=>r.startsWith("http://")||r.startsWith("https://"));o.length>0&&(console.log("  Custom claims count:",o.length),console.log("  For full details, check AuthService logs above")),this.roleService.setUserFromAuth(t)}return{message:"Authentication successful! Redirecting...",isProcessing:!1,redirectDelayMs:1500}}createFailureState(){return{message:"Authentication failed. Redirecting...",isProcessing:!1,redirectDelayMs:3e3}}createExceptionState(){return{message:"Authentication failed (exception). Redirecting...",isProcessing:!1,redirectDelayMs:3e3}}applyAuthState(t){this.message=t.message,this.isProcessing=t.isProcessing}scheduleRedirect(t){setTimeout(()=>this.router.navigate(["/"]),t)}static{this.\u0275fac=function(o){return new(o||n)(e.\u0275\u0275directiveInject(d.ActivatedRoute),e.\u0275\u0275directiveInject(d.Router),e.\u0275\u0275directiveInject(l.AuthService),e.\u0275\u0275directiveInject(l.RoleService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-auth-callback"]],standalone:!0,features:[e.\u0275\u0275StandaloneFeature],decls:5,vars:2,consts:[[2,"display","flex","justify-content","center","align-items","center","height","100vh"],[2,"text-align","center"],[4,"ngIf"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h2"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(4,V,2,0,"p",2),e.\u0275\u0275elementEnd()()),2&o&&(e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(r.message),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",r.isProcessing))},dependencies:[c.CommonModule,c.NgIf],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100vh}"]})}}return n})()},{path:"rules",component:j},{path:"sales",component:H},{path:"reports",component:L},{path:"users",component:N},{path:"**",redirectTo:""}];function z(){return(0,v.bootstrapApplication)(k,{providers:[(0,d.provideRouter)(D),(0,h.provideHttpClient)((0,h.withFetch)())]})}}}]);