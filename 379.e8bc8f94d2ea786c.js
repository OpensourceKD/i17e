(self.webpackChunkshell=self.webpackChunkshell||[]).push([[379],{1633:(L,O,s)=>{s.d(O,{n:()=>P});var j=s(467),d=s(5565),R=s(7412),v=s(1913),A=s(5315);const b=["container"];let P=(()=>{class C{constructor(){this.name=""}ngAfterViewInit(){var x=this;return(0,j.A)(function*(){const p=R.A.map(({remoteName:y,exposedModule:_})=>({remoteName:y,exposedModule:_})).find(({remoteName:y})=>y===x.name);if(!p)return;const E=yield(0,v.loadRemoteModule)(p);x.remoteContainer.createComponent(E.AppComponent)})()}static{this.\u0275fac=function(p){return new(p||C)}}static{this.\u0275cmp=d.\u0275\u0275defineComponent({type:C,selectors:[["app-mfe-wrapper"]],viewQuery:function(p,E){if(1&p&&d.\u0275\u0275viewQuery(b,7,d.ViewContainerRef),2&p){let y;d.\u0275\u0275queryRefresh(y=d.\u0275\u0275loadQuery())&&(E.remoteContainer=y.first)}},inputs:{name:"name"},standalone:!0,features:[d.\u0275\u0275StandaloneFeature],decls:4,vars:0,consts:[["container",""]],template:function(p,E){1&p&&(d.\u0275\u0275elementStart(0,"p"),d.\u0275\u0275text(1,"mfe-wrapper works!"),d.\u0275\u0275elementEnd(),d.\u0275\u0275elementContainer(2,null,0))},dependencies:[A.CommonModule],changeDetection:0})}}return C})()},6379:(L,O,s)=>{s.r(O),s.d(O,{bootstrap:()=>z});var j=s(1194),d=s(467),M=s(3319),R=s(5315),v=s(3793),g=s(2485),A=s(7412),t=s(5565),b=s(1663);let P=(()=>{class r{constructor(e){this.http=e}login(){window.location.href="http://localhost:4000/auth/login"}logout(){window.location.href="http://localhost:4000/auth/logout"}getUserProfile(){return this.http.get("http://localhost:4000/auth/me",{withCredentials:!0})}static{this.\u0275fac=function(n){return new(n||r)(t.\u0275\u0275inject(b.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var C=s(8662),h=s(9903);let x=(()=>{class r{constructor(){this.currentUserSubject=new g.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable(),this.loadDummyUser()}loadDummyUser(){const e=sessionStorage.getItem("current_user");e?this.currentUserSubject.next(JSON.parse(e)):this.setCurrentUser({id:"1",name:"John Doe",email:"john.doe@example.com",role:h.g.SALES_EXECUTIVE})}setCurrentUser(e){this.currentUserSubject.next(e),e?sessionStorage.setItem("current_user",JSON.stringify(e)):sessionStorage.removeItem("current_user")}getCurrentUser(){return this.currentUserSubject.value}getCurrentUserRole(){return this.currentUserSubject.value?.role||null}hasRole(e){const n=this.getCurrentUserRole();return!!n&&(0,h.W)(n,e)}canViewOthersData(){const e=this.getCurrentUserRole();return e===h.g.SUPER_ADMIN||e===h.g.ORG_ADMIN||e===h.g.TEAM_LEAD}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),p=(()=>{class r{constructor(){this.salesExecutivesSubject=new g.BehaviorSubject(this.generateSalesExecutives()),this.salesExecutives$=this.salesExecutivesSubject.asObservable(),this.salesRecordsSubject=new g.BehaviorSubject(this.generateSalesRecords()),this.salesRecords$=this.salesRecordsSubject.asObservable(),this.incentiveRulesSubject=new g.BehaviorSubject(this.generateIncentiveRules()),this.incentiveRules$=this.incentiveRulesSubject.asObservable(),this.incentivesEarnedSubject=new g.BehaviorSubject(this.generateIncentivesEarned()),this.incentivesEarned$=this.incentivesEarnedSubject.asObservable()}generateSalesExecutives(){return[{id:"1",name:"John Doe",email:"john.doe@example.com",teamId:"team1"},{id:"2",name:"Jane Smith",email:"jane.smith@example.com",teamId:"team1"},{id:"3",name:"Bob Johnson",email:"bob.johnson@example.com",teamId:"team2"},{id:"4",name:"Alice Williams",email:"alice.williams@example.com",teamId:"team2"},{id:"5",name:"Charlie Brown",email:"charlie.brown@example.com",teamId:"team1"}]}generateSalesRecords(){const e=[],n=this.generateSalesExecutives(),o=["Product A","Product B","Product C","Product D"],c=["completed","pending","cancelled"];for(let a=0;a<50;a++){const i=n[a%n.length],m=Math.floor(a/10),l=new Date;l.setMonth(l.getMonth()-m),e.push({id:`sale-${a+1}`,salesExecutiveId:i.id,salesExecutiveName:i.name,date:l,productName:o[a%o.length],amount:Math.floor(5e4*Math.random())+1e4,quantity:Math.floor(10*Math.random())+1,status:c[a%3]})}return e}generateIncentiveRules(){return[{id:"rule-1",name:"Basic Sales Incentive",description:"5% incentive on all sales",type:"percentage",value:5,isActive:!0,createdBy:"admin",createdAt:new Date("2024-01-01")},{id:"rule-2",name:"High Value Sales Bonus",description:"10% incentive on sales above $50,000",type:"percentage",value:10,minSalesAmount:5e4,isActive:!0,createdBy:"admin",createdAt:new Date("2024-02-01")},{id:"rule-3",name:"Product A Special",description:"Fixed $500 bonus for Product A sales",type:"fixed",value:500,productCategory:"Product A",isActive:!0,createdBy:"team-lead-1",createdAt:new Date("2024-03-01")},{id:"rule-4",name:"Tiered Volume Incentive",description:"15% incentive on sales above $100,000",type:"tiered",value:15,minSalesAmount:1e5,isActive:!1,createdBy:"admin",createdAt:new Date("2024-04-01")}]}generateIncentivesEarned(){const e=[],n=this.generateSalesExecutives(),o=this.generateIncentiveRules(),c=["pending","approved","paid"];for(let a=0;a<30;a++){const i=n[a%n.length],m=o[a%o.length],l=Math.floor(a/10),u=new Date;u.setMonth(u.getMonth()-l),e.push({id:`incentive-${a+1}`,salesExecutiveId:i.id,salesExecutiveName:i.name,ruleId:m.id,ruleName:m.name,salesRecordId:`sale-${a+1}`,amount:Math.floor(5e3*Math.random())+500,earnedDate:u,status:c[a%3]})}return e}getSalesRecordsForExecutive(e){return this.salesRecordsSubject.value.filter(n=>n.salesExecutiveId===e)}getIncentivesForExecutive(e){return this.incentivesEarnedSubject.value.filter(n=>n.salesExecutiveId===e)}getReportDataForExecutive(e){const n=this.salesExecutivesSubject.value.find(l=>l.id===e),o=this.getSalesRecordsForExecutive(e),c=this.getIncentivesForExecutive(e),a=o.filter(l=>"completed"===l.status).reduce((l,u)=>l+u.amount,0),i=c.filter(l=>"pending"!==l.status).reduce((l,u)=>l+u.amount,0),m=[];for(let l=5;l>=0;l--){const u=new Date;u.setMonth(u.getMonth()-l);const I=u.toISOString().substring(0,7),G=o.filter(S=>S.date.toISOString().substring(0,7)===I&&"completed"===S.status).reduce((S,U)=>S+U.amount,0),K=c.filter(S=>S.earnedDate.toISOString().substring(0,7)===I&&"pending"!==S.status).reduce((S,U)=>S+U.amount,0);m.push({month:I,sales:G,incentives:K})}return{salesExecutiveId:e,salesExecutiveName:n?.name||"Unknown",totalSales:a,totalIncentives:i,period:"Last 6 months",breakdown:m}}getSalesExecutives(){return this.salesExecutivesSubject.value}getIncentiveRules(){return this.incentiveRulesSubject.value}addIncentiveRule(e){this.incentiveRulesSubject.next([...this.incentiveRulesSubject.value,e])}updateIncentiveRule(e,n){const c=this.incentiveRulesSubject.value.map(a=>a.id===e?{...a,...n}:a);this.incentiveRulesSubject.next(c)}deleteIncentiveRule(e){const o=this.incentiveRulesSubject.value.filter(c=>c.id!==e);this.incentiveRulesSubject.next(o)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();var E=s(1913);let y=(()=>{class r{constructor(){this.mfeConfigs=[],this.loadedMfesSubject=new g.BehaviorSubject(new Set),this.loadedMfes$=this.loadedMfesSubject.asObservable(),this.loadingMfesSubject=new g.BehaviorSubject(new Set),this.loadingMfes$=this.loadingMfesSubject.asObservable()}setConfigs(e){this.mfeConfigs=e.sort((n,o)=>o.priority-n.priority)}getConfigs(){return this.mfeConfigs}getConfigsForRole(e){return this.mfeConfigs.filter(n=>n.allowedRoles.includes(e))}getConfigByName(e){return this.mfeConfigs.find(n=>n.name===e)}preloadPriorityMfes(e){var n=this;return(0,d.A)(function*(){const a=n.getConfigsForRole(e).filter(i=>i.priority>=5).map(i=>n.loadMfe(i));yield Promise.all(a)})()}loadMfe(e){var n=this;return(0,d.A)(function*(){const o=n.loadingMfesSubject.value,c=n.loadedMfesSubject.value;if(c.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} already loaded`);else if(o.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} is already loading`);else try{const a=new Set(o);a.add(e.name),n.loadingMfesSubject.next(a),console.log(`[MfeLoaderService] Loading MFE ${e.name} (priority: ${e.priority})`);const i=yield(0,E.loadRemoteModule)({type:"module",remoteEntry:e.url,exposedModule:e.exposedModule}),m=new Set(c);m.add(e.name),n.loadedMfesSubject.next(m);const l=new Set(n.loadingMfesSubject.value);return l.delete(e.name),n.loadingMfesSubject.next(l),console.log(`[MfeLoaderService] Successfully loaded MFE ${e.name}`),i}catch(a){console.error(`[MfeLoaderService] Error loading MFE ${e.name}:`,a);const i=new Set(n.loadingMfesSubject.value);throw i.delete(e.name),n.loadingMfesSubject.next(i),a}})()}isMfeLoaded(e){return this.loadedMfesSubject.value.has(e)}isMfeLoading(e){return this.loadingMfesSubject.value.has(e)}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function _(r,f){if(1&r&&(t.\u0275\u0275elementStart(0,"option",15),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const e=f.$implicit;t.\u0275\u0275property("value",e.id),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(e.name)}}function k(r,f){if(1&r){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",10)(1,"div",11)(2,"label",12),t.\u0275\u0275text(3,"View data for:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",13),t.\u0275\u0275text(5," Selecting a user will display their incentive data. "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"select",14),t.\u0275\u0275twoWayListener("ngModelChange",function(o){t.\u0275\u0275restoreView(e);const c=t.\u0275\u0275nextContext();return t.\u0275\u0275twoWayBindingSet(c.selectedSalesExecutiveId,o)||(c.selectedSalesExecutiveId=o),t.\u0275\u0275resetView(o)}),t.\u0275\u0275listener("change",function(){t.\u0275\u0275restoreView(e);const o=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(o.onSalesExecutiveChange())}),t.\u0275\u0275elementStart(7,"option",15),t.\u0275\u0275text(8,"My Data"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,_,2,2,"option",16),t.\u0275\u0275elementEnd()()()}if(2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(6),t.\u0275\u0275twoWayProperty("ngModel",e.selectedSalesExecutiveId),t.\u0275\u0275advance(),t.\u0275\u0275property("value",e.currentUser.id),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",e.salesExecutives)}}function T(r,f){if(1&r&&(t.\u0275\u0275elementStart(0,"span",17),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate2(" ",e.currentUser.name," (",e.currentUser.role,") ")}}function F(r,f){if(1&r&&(t.\u0275\u0275elementStart(0,"a",22),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),2&r){const e=f.$implicit;t.\u0275\u0275property("routerLink","/"+e.route),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",e.displayName," ")}}function B(r,f){if(1&r&&(t.\u0275\u0275elementStart(0,"nav",18),t.\u0275\u0275template(1,F,2,2,"a",19),t.\u0275\u0275elementStart(2,"a",20),t.\u0275\u0275text(3,"Lazy Demo"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"a",21),t.\u0275\u0275text(5,"Multi-MFE Demo"),t.\u0275\u0275elementEnd()()),2&r){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",e.availableMfes)}}let N=(()=>{class r{constructor(e,n,o,c,a,i,m){this.auth2=e,this.auth=n,this.route=o,this.router=c,this.roleService=a,this.dummyDataService=i,this.mfeLoader=m,this.title="Incentive Management System",this.currentUser=null,this.availableMfes=[],this.salesExecutives=[],this.selectedSalesExecutiveId="",this.canViewOthers=!1,this.user=null,this.mfe1="pokemon",this.isAuthenticated=!1,this.userInfo=null,this.message="Processing authentication...",this.isProcessing=!0,this.mfeLoader.setConfigs(A.R)}ngOnInit(){var e=this;return(0,d.A)(function*(){e.roleService.currentUser$.subscribe(i=>{e.currentUser=i,i&&(e.selectedSalesExecutiveId=i.id,e.canViewOthers=e.roleService.canViewOthersData(),e.updateAvailableMfes(),e.loadSalesExecutives(),e.preloadMfes())});let n=null,o=null,c=null;const a=yield(0,g.firstValueFrom)(e.route.queryParams);if(a&&Object.keys(a).length>0)n=a.code??null,o=a.state??null,c=a.error??null;else{const i=new URLSearchParams(window.location.search);n=i.get("code"),o=i.get("state"),c=i.get("error")}if(c)return e.message=`Authentication failed: ${c}`,e.isProcessing=!1,void setTimeout(()=>e.router.navigate(["/"]),3e3);if(n&&o)try{(yield e.auth.handleCallback(n,o))?(e.message="Authentication successful! Redirecting...",e.isProcessing=!1,setTimeout(()=>e.router.navigate(["/"]),1500)):(e.message="Authentication failed. Redirecting...",e.isProcessing=!1,setTimeout(()=>e.router.navigate(["/"]),3e3))}catch{e.message="Authentication failed (exception). Redirecting...",e.isProcessing=!1,setTimeout(()=>e.router.navigate(["/"]),3e3)}else e.message="Invalid callback parameters. Redirecting...",e.isProcessing=!1,setTimeout(()=>e.router.navigate(["/"]),3e3)})()}updateAvailableMfes(){this.availableMfes=this.currentUser?this.mfeLoader.getConfigsForRole(this.currentUser.role):[]}loadSalesExecutives(){this.canViewOthers&&(this.salesExecutives=this.dummyDataService.getSalesExecutives())}preloadMfes(){var e=this;return(0,d.A)(function*(){if(e.currentUser)try{yield e.mfeLoader.preloadPriorityMfes(e.currentUser.role)}catch(n){console.error("[AppComponent] Error preloading MFEs:",n)}})()}onSalesExecutiveChange(){sessionStorage.setItem("selected_sales_executive_id",this.selectedSalesExecutiveId),window.dispatchEvent(new CustomEvent("salesExecutiveChanged",{detail:{salesExecutiveId:this.selectedSalesExecutiveId}}))}login(){this.auth.login()}logout(){this.auth.logout(),this.roleService.setCurrentUser(null)}fetchUser(){}static{this.\u0275fac=function(n){return new(n||r)(t.\u0275\u0275directiveInject(P),t.\u0275\u0275directiveInject(C.AuthService),t.\u0275\u0275directiveInject(M.ActivatedRoute),t.\u0275\u0275directiveInject(M.Router),t.\u0275\u0275directiveInject(x),t.\u0275\u0275directiveInject(p),t.\u0275\u0275directiveInject(y))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["app-root"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:13,vars:3,consts:[[1,"app-container"],[1,"app-header"],[1,"header-left"],[1,"app-title"],["class","header-center",4,"ngIf"],[1,"header-right"],["class","user-info",4,"ngIf"],[1,"btn-logout",3,"click"],["class","app-nav",4,"ngIf"],[1,"app-content"],[1,"header-center"],[1,"user-selector"],["for","salesExecSelect"],["id","salesExecSelectDesc",1,"visually-hidden"],["id","salesExecSelect","aria-describedby","salesExecSelectDesc",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"user-info"],[1,"app-nav"],["routerLinkActive","active","class","nav-link",3,"routerLink",4,"ngFor","ngForOf"],["routerLink","/lazy","routerLinkActive","active",1,"nav-link"],["routerLink","/multi-mfe-demo","routerLinkActive","active",1,"nav-link"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",0)(1,"header",1)(2,"div",2)(3,"h1",3),t.\u0275\u0275text(4,"Incentive Management System"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,k,10,3,"div",4),t.\u0275\u0275elementStart(6,"div",5),t.\u0275\u0275template(7,T,2,2,"span",6),t.\u0275\u0275elementStart(8,"button",7),t.\u0275\u0275listener("click",function(){return o.logout()}),t.\u0275\u0275text(9,"Logout"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(10,B,6,1,"nav",8),t.\u0275\u0275elementStart(11,"main",9),t.\u0275\u0275element(12,"router-outlet"),t.\u0275\u0275elementEnd()()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",o.currentUser&&o.canViewOthers),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",o.currentUser),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",o.currentUser))},dependencies:[M.RouterOutlet,R.CommonModule,R.NgForOf,R.NgIf,M.RouterLink,M.RouterLinkActive,v.FormsModule,v.NgSelectOption,v.\u0275NgSelectMultipleOption,v.SelectControlValueAccessor,v.NgControlStatus,v.NgModel],styles:['[_nghost-%COMP%]{--bright-blue: oklch(51.01% .274 263.83);--electric-violet: oklch(53.18% .28 296.97);--french-violet: oklch(47.66% .246 305.88);--vivid-pink: oklch(69.02% .277 332.77);--hot-red: oklch(61.42% .238 15.34);--orange-red: oklch(63.32% .24 31.68);--gray-900: oklch(19.37% .006 300.98);--gray-700: oklch(36.98% .014 302.71);--gray-400: oklch(70.9% .015 304.04);--red-to-pink-to-purple-vertical-gradient: linear-gradient( 180deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--red-to-pink-to-purple-horizontal-gradient: linear-gradient( 90deg, var(--orange-red) 0%, var(--vivid-pink) 50%, var(--electric-violet) 100% );--pill-accent: var(--bright-blue);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh}.app-header[_ngcontent-%COMP%]{background:#fff;padding:1rem 2rem;border-bottom:2px solid var(--gray-400);display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 8px #0000001a}.header-left[_ngcontent-%COMP%]{flex:1}.app-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:var(--gray-900);font-weight:600}.header-center[_ngcontent-%COMP%]{flex:2;display:flex;justify-content:center}.user-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.user-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--gray-700);font-weight:500}.user-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem 1rem;border:1px solid var(--gray-400);border-radius:.375rem;font-size:.875rem;background:#fff;cursor:pointer;min-width:200px}.header-right[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:flex-end;align-items:center;gap:1rem}.user-info[_ngcontent-%COMP%]{color:var(--gray-700);font-size:.875rem;font-weight:500}.btn-logout[_ngcontent-%COMP%]{background:var(--hot-red);color:#fff;border:none;padding:.5rem 1.5rem;border-radius:.375rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .2s ease}.btn-logout[_ngcontent-%COMP%]:hover{background:var(--orange-red)}.app-nav[_ngcontent-%COMP%]{background:var(--gray-900);padding:0;display:flex;gap:0}.nav-link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:1rem 1.5rem;font-size:.875rem;font-weight:500;transition:background .2s ease;border-bottom:3px solid transparent}.nav-link[_ngcontent-%COMP%]:hover{background:var(--gray-700)}.nav-link.active[_ngcontent-%COMP%]{background:var(--bright-blue);border-bottom-color:var(--electric-violet)}.app-content[_ngcontent-%COMP%]{flex:1;padding:2rem;background:#f5f5f5}.auth-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background:#fff;padding:1rem 2rem;border-bottom:1px solid var(--gray-400);display:flex;justify-content:space-between;align-items:center;z-index:1000;box-shadow:0 2px 4px #0000001a}.auth-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.user-name[_ngcontent-%COMP%]{color:var(--gray-900);font-weight:500}.auth-button[_ngcontent-%COMP%]{background:var(--bright-blue);color:#fff;border:none;padding:.5rem 1.5rem;border-radius:.5rem;font-size:.875rem;font-weight:500;cursor:pointer;transition:background .3s ease}.auth-button[_ngcontent-%COMP%]:hover{background:var(--electric-violet)}.logout-button[_ngcontent-%COMP%]{background:var(--hot-red)}.logout-button[_ngcontent-%COMP%]:hover{background:var(--orange-red)}']})}}return r})();function w(r){return()=>{const f=(0,t.inject)(x),e=(0,t.inject)(M.Router),n=f.getCurrentUser();return n?!!r.includes(n.role)||(console.warn(`[RoleGuard] User role ${n.role} not allowed, redirecting to home`),e.navigate(["/"]),!1):(console.warn("[RoleGuard] No user found, redirecting to home"),e.navigate(["/"]),!1)}}w([h.g.SUPER_ADMIN,h.g.ORG_ADMIN,h.g.TEAM_LEAD]),w([h.g.SUPER_ADMIN,h.g.ORG_ADMIN]);const D=w([h.g.SUPER_ADMIN,h.g.ORG_ADMIN,h.g.TEAM_LEAD,h.g.SALES_EXECUTIVE]);var $=s(1633);const V=[{path:"report",component:(()=>{class r{constructor(){this.mfe1="myReport"}static{this.\u0275fac=function(n){return new(n||r)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["report-component"]],standalone:!0,features:[t.\u0275\u0275StandaloneFeature],decls:6,vars:1,consts:[[1,"demo-container"],[3,"name"]],template:function(n,o){1&n&&(t.\u0275\u0275elementStart(0,"div",0)(1,"h2"),t.\u0275\u0275text(2,"Multiple MFE Demo"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"p"),t.\u0275\u0275text(4,"This page demonstrates loading multiple MFEs with lazy loading enabled."),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(5,"app-mfe-wrapper",1),t.\u0275\u0275elementEnd()),2&n&&(t.\u0275\u0275advance(5),t.\u0275\u0275property("name",o.mfe1))},dependencies:[$.n],styles:[".demo-container[_ngcontent-%COMP%]{padding:2rem}.demo-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#333}.demo-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem;color:#666}"]})}}return r})()},{path:"sales",loadChildren:()=>s.e(654).then(s.bind(s,2654)).then(r=>r.MY_SALES_ROUTES),canActivate:[D]},{path:"reports",loadChildren:()=>s.e(654).then(s.bind(s,2654)).then(r=>r.MY_REPORT_ROUTES),canActivate:[D]},{path:"**",redirectTo:"",pathMatch:"full"}],W=(r,f)=>new g.Observable(e=>{let n;return(0,d.A)(function*(){const{urlWithParams:c}=r,i=yield caches.open("http"),m=yield i.match(c);if(m){let l;console.log("Serve from Cache for",c);try{l=yield m.clone().json()}catch{l=yield m.clone().text()}return e.next(new b.HttpResponse({body:l,status:m.status||200,url:r.urlWithParams})),void e.complete()}var l;n=f(r).subscribe({next:(l=(0,d.A)(function*(u){if(console.log("Cache miss for ",c),e.next(u),u instanceof b.HttpResponse&&u.ok){const I=new Response(JSON.stringify(u.body),{headers:{"Content-Type":"application/json"},status:u.status,statusText:u.statusText});yield i.put(r.urlWithParams,I)}}),function(I){return l.apply(this,arguments)}),error:l=>e.error(l),complete:()=>e.complete()})})(),()=>n?.unsubscribe()});function z(){return(0,j.bootstrapApplication)(N,{providers:[(0,M.provideRouter)(V),(0,b.provideHttpClient)((0,b.withFetch)(),(0,b.withInterceptors)([W]))]})}}}]);