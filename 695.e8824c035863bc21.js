(self.webpackChunkshell=self.webpackChunkshell||[]).push([[695],{1913:(ne,B,w)=>{Object.defineProperty(B,"__esModule",{value:!0}),w(1635).__exportStar(w(5766),B)},7695:(ne,B,w)=>{w.r(B),w.d(B,{API_CONFIG:()=>E,API_ENDPOINTS:()=>R,AuthService:()=>U,BrandContextService:()=>V,CoreServicesComponent:()=>N,CoreServicesService:()=>$,DummyDataService:()=>q,EventBusService:()=>k,IncentiveRulesApiService:()=>v,IncentivesApiService:()=>I,MfeLoaderService:()=>re,ProductCategory:()=>M,RoleService:()=>Z,SalesDataService:()=>H,SalesStatus:()=>D,SseControlService:()=>Q,SseFromEventService:()=>K,TargetsApiService:()=>L,TasksApiService:()=>x,UserRole:()=>g,authInterceptor:()=>_,cacheInterceptor:()=>ee,getApiUrl:()=>b,hasRequiredRole:()=>J,updateApiConfig:()=>f});var d=w(5565);let $=(()=>{class s{constructor(){}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var j=w(467),m=w(4866),O=w(1663),z=w(762),F=w.n(z);let k=(()=>{class s{constructor(){this.emitter=F()(),console.log("[EventBusService] Service initialized");const e=new Event("EventBusServiceCreated");this.onePlusNEvents=new m.ReplaySubject(100),this.onePlusNEvents.next(e.type),this.emitter.on("*",t=>{console.log("[EventBusService] Event received and forwarded to ReplaySubject:",t),this.onePlusNEvents.next(t)}),console.log("[EventBusService] Event listener registered for all events")}sendEvent(e){console.log("[EventBusService] sendEvent() called with:",e),this.emitter.emit(e),console.log("[EventBusService] Event emitted successfully")}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),U=(()=>{class s{constructor(e,t){this.http=e,this.eventBus=t,this.id="auth of pokemon",this.STANDARD_JWT_CLAIMS=["sub","name","email","email_verified","preferred_username","given_name","family_name","locale","picture","phone","phone_verified","updated_at","iss","aud","exp","iat","auth_time","nonce","acr","amr","azp"],this.ISSUER_BASE_URL="https://topfix-wrczmn.us1.zitadel.cloud",this.CLIENT_ID="336777344075263315",this.REDIRECT_URI="https://opensourcekd.github.io/i17e/auth-callback",this.SCOPE="openid profile email urn:zitadel:iam:org:project:roles",this.TOKEN_KEY="zitadel_token",this.USER_INFO_KEY="zitadel_user_info",this.userSubject=new m.BehaviorSubject(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable(),console.log("In constructor of auth service in i17e")}login(e){e&&console.log(`in i17e [AuthService] Logged in: ${e}`),this.redirectToZitadelLogin()}redirectToZitadelLogin(){const e=new URL(`${this.ISSUER_BASE_URL}/oauth/v2/authorize`),t=this.generateRandomState(),r=this.generateCodeVerifier();sessionStorage.setItem("oauth_state",t),sessionStorage.setItem("code_verifier",r),e.searchParams.append("client_id",this.CLIENT_ID),e.searchParams.append("redirect_uri",this.REDIRECT_URI),e.searchParams.append("response_type","code"),e.searchParams.append("scope",this.SCOPE),e.searchParams.append("state",t),window.location.href=e.toString()}handleCallback(e,t){var r=this;return(0,j.A)(function*(){const n=sessionStorage.getItem("oauth_state");if(t!==n)return console.error("[AuthService] State mismatch - possible CSRF attack"),!1;try{const o=yield r.exchangeCodeForToken(e);r.setToken(o.access_token);const i=r.decodeIdToken(o.id_token);return r.setUserInfo(i),sessionStorage.removeItem("oauth_state"),sessionStorage.removeItem("code_verifier"),console.log("[AuthService] Authentication successful"),!0}catch(o){return console.error("[AuthService] Error exchanging code for token:",o),!1}})()}exchangeCodeForToken(e){var t=this;return(0,j.A)(function*(){const r=`${t.ISSUER_BASE_URL}/oauth/v2/token`,n=new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:t.REDIRECT_URI,client_id:t.CLIENT_ID}),o=yield fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n.toString()});if(!o.ok)throw new Error(`Token exchange failed: ${o.statusText}`);return o.json()})()}decodeIdToken(e){try{const t=e.split(".")[1],r=JSON.parse(atob(t));console.log("=".repeat(80)),console.log("[AuthService] \u{1f50d} ZITADEL ID TOKEN - ALL CLAIMS:"),console.log("=".repeat(80)),console.log("\n\u{1f4cb} Standard OIDC Claims:"),console.log("  \u2022 sub (Subject/User ID):",r.sub),console.log("  \u2022 name:",r.name),console.log("  \u2022 email:",r.email),console.log("  \u2022 email_verified:",r.email_verified),console.log("  \u2022 preferred_username:",r.preferred_username),console.log("  \u2022 given_name:",r.given_name),console.log("  \u2022 family_name:",r.family_name),console.log("  \u2022 locale:",r.locale),console.log("  \u2022 picture:",r.picture),console.log("  \u2022 phone:",r.phone),console.log("  \u2022 phone_verified:",r.phone_verified),console.log("  \u2022 updated_at:",r.updated_at),console.log("\n\u{1f3e2} Zitadel Organization Claims:");const n=Object.keys(r).filter(i=>i.startsWith("urn:zitadel"));n.length>0?n.forEach(i=>{const a=r[i];"object"==typeof a?console.log(`  \u2022 ${i}:`,JSON.stringify(a,null,2)):console.log(`  \u2022 ${i}:`,a)}):console.log("  No Zitadel-specific claims found"),console.log("\n\u{1f527} Additional Claims:");const o=Object.keys(r).filter(i=>!this.STANDARD_JWT_CLAIMS.includes(i)&&!i.startsWith("urn:zitadel"));return o.length>0?o.forEach(i=>{const a=r[i];"object"==typeof a?console.log(`  \u2022 ${i}:`,JSON.stringify(a,null,2)):console.log(`  \u2022 ${i}:`,a)}):console.log("  No additional claims found"),console.log("\n\u{1f510} Token Metadata:"),console.log("  \u2022 iss (Issuer):",r.iss),console.log("  \u2022 aud (Audience):",r.aud),console.log("  \u2022 exp (Expiration):",r.exp,r.exp?`(${new Date(1e3*r.exp).toISOString()})`:""),console.log("  \u2022 iat (Issued At):",r.iat,r.iat?`(${new Date(1e3*r.iat).toISOString()})`:""),console.log("  \u2022 auth_time:",r.auth_time),console.log("  \u2022 nonce:",r.nonce),console.log("  \u2022 azp (Authorized Party):",r.azp),console.log("\n\u{1f4e6} Complete Token Payload (JSON):"),console.log(JSON.stringify(r,null,2)),console.log("=".repeat(80)),{sub:r.sub,name:r.name,email:r.email,email_verified:r.email_verified,preferred_username:r.preferred_username,given_name:r.given_name,family_name:r.family_name,locale:r.locale,picture:r.picture,phone:r.phone,phone_verified:r.phone_verified,updated_at:r.updated_at,...Object.keys(r).filter(i=>i.startsWith("urn:zitadel")).reduce((i,a)=>({...i,[a]:r[a]}),{}),...Object.keys(r).filter(i=>!this.STANDARD_JWT_CLAIMS.includes(i)&&!i.startsWith("urn:zitadel")).reduce((i,a)=>({...i,[a]:r[a]}),{})}}catch(t){return console.error("[AuthService] Error decoding ID token:",t),{sub:""}}}logout(){sessionStorage.removeItem(this.TOKEN_KEY),sessionStorage.removeItem(this.USER_INFO_KEY),this.userSubject.next(null),this.emitAuthEvent("logout",null),console.log("[AuthService] User logged out")}getToken(){return sessionStorage.getItem(this.TOKEN_KEY)}setToken(e){sessionStorage.setItem(this.TOKEN_KEY,e),this.emitAuthEvent("token_updated",{token:e})}isAuthenticated(){return!!this.getToken()}getUser(){return this.userSubject.value}getUserInfoFromStorage(){const e=sessionStorage.getItem(this.USER_INFO_KEY);return e?JSON.parse(e):null}setUserInfo(e){sessionStorage.setItem(this.USER_INFO_KEY,JSON.stringify(e)),this.userSubject.next(e),console.log("[AuthService] \u{1f4be} User info stored in sessionStorage:"),console.log("  Standard claims:",{sub:e.sub,name:e.name,email:e.email,email_verified:e.email_verified});const t=Object.keys(e).filter(r=>r.startsWith("urn:zitadel"));t.length>0&&(console.log("  Zitadel claims stored:"),t.forEach(r=>{console.log(`    \u2022 ${r}:`,e[r])})),this.emitAuthEvent("user_info_updated",e)}emitAuthEvent(e,t){const r={type:`auth:${e}`,payload:t,timestamp:(new Date).toISOString()};this.eventBus.sendEvent(JSON.stringify(r)),console.log("[AuthService] Auth event emitted:",r.type)}generateRandomState(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}generateCodeVerifier(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}static{this.\u0275fac=function(t){return new(t||s)(d.\u0275\u0275inject(O.HttpClient),d.\u0275\u0275inject(k))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),N=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275cmp=d.\u0275\u0275defineComponent({type:s,selectors:[["org-core-services"]],standalone:!0,features:[d.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(t,r){1&t&&(d.\u0275\u0275elementStart(0,"p"),d.\u0275\u0275text(1," core-services works! "),d.\u0275\u0275elementEnd())}})}}return s})();var g=function(s){return s.SUPER_ADMIN="super-admin",s.ORG_ADMIN="org-admin",s.TEAM_LEAD="team-lead",s.SALES_EXECUTIVE="sales-executive",s}(g||{});function J(s,h){const e={[g.SUPER_ADMIN]:4,[g.ORG_ADMIN]:3,[g.TEAM_LEAD]:2,[g.SALES_EXECUTIVE]:1};return e[s]>=e[h]}let Z=(()=>{class s{constructor(){this.currentUserSubject=new m.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable(),console.log("[RoleService] Service initialized"),this.loadInitialUser()}setUserFromAuth(e){console.log("[RoleService] Setting user from Zitadel auth:",e);const t=Object.keys(e).filter(n=>n.startsWith("urn:zitadel"));t.length>0&&(console.log("[RoleService] \u{1f3e2} Zitadel-specific claims available:"),t.forEach(n=>{console.log(`  \u2022 ${n}:`,e[n])}),e["urn:zitadel:iam:user:resourceowner:name"]&&console.log(`[RoleService] \u{1f3e2} User belongs to organization: ${e["urn:zitadel:iam:user:resourceowner:name"]}`),e["urn:zitadel:iam:org:project:roles"]&&console.log("[RoleService] \u{1f464} Zitadel project roles:",e["urn:zitadel:iam:org:project:roles"]));const r=this.mapUserInfoToUser(e);console.log("[RoleService] Mapped user with role:",r),this.setCurrentUser(r)}mapUserInfoToUser(e){return{id:e.sub,name:e.name||e.email||"User",email:e.email||"",role:this.determineRoleFromEmail(e.email||"")}}determineRoleFromEmail(e){const t=e.toLowerCase();return[{patterns:["admin","super"],role:g.SUPER_ADMIN},{patterns:["manager","org"],role:g.ORG_ADMIN},{patterns:["lead","team"],role:g.TEAM_LEAD}].find(({patterns:o})=>o.some(i=>t.includes(i)))?.role??g.SALES_EXECUTIVE}loadInitialUser(){const e=this.getDevMimicUser();if(e)return console.log("[RoleService] Using dev mimic user:",e),void this.currentUserSubject.next(e)}getDevMimicUser(){try{const e=localStorage.getItem("dev_mimic_user");if(e){const t=JSON.parse(e);if(t.id&&t.name&&t.role)return t}}catch(e){console.error("[RoleService] Error parsing dev mimic user:",e)}return null}setDevMimicUser(e){e?(localStorage.setItem("dev_mimic_user",JSON.stringify(e)),this.currentUserSubject.next(e),console.log("[RoleService] Dev mimic user set:",e)):(localStorage.removeItem("dev_mimic_user"),this.loadDummyUser(),console.log("[RoleService] Dev mimic user cleared"))}loadDummyUser(){console.log("[RoleService] Loading user from session storage");const e=sessionStorage.getItem("current_user");if(e){const t=JSON.parse(e);console.log("[RoleService] User loaded from session:",t),this.currentUserSubject.next(t)}else{const t={id:"user-1",name:"John Admin",email:"john.admin@company.com",role:g.ORG_ADMIN};console.log("[RoleService] No saved user found, using default:",t),this.setCurrentUser(t)}}setCurrentUser(e){console.log("[RoleService] Setting current user:",e),this.currentUserSubject.next(e),e?(sessionStorage.setItem("current_user",JSON.stringify(e)),console.log("[RoleService] User saved to session storage")):(sessionStorage.removeItem("current_user"),console.log("[RoleService] User removed from session storage"))}getCurrentUser(){const e=this.currentUserSubject.value;return console.log("[RoleService] getCurrentUser() called, returning:",e),e}getCurrentUserRole(){const e=this.currentUserSubject.value?.role||null;return console.log("[RoleService] getCurrentUserRole() called, returning:",e),e}hasRole(e){const t=this.getCurrentUserRole();if(!t)return console.log("[RoleService] hasRole() - No current role, access denied"),!1;const r=J(t,e);return console.log(`[RoleService] hasRole() - Checking if ${t} has ${e}:`,r),r}canViewOthersData(){const e=this.getCurrentUserRole(),t=e===g.SUPER_ADMIN||e===g.ORG_ADMIN||e===g.TEAM_LEAD;return console.log(`[RoleService] canViewOthersData() - Role: ${e}, Can view:`,t),t}getViewableUsers(){const e=this.getCurrentUser();if(!e)return[];const t=this.getAllUsers();return this.isTeamLeadOrHigher()?t.filter(r=>r.role===g.SALES_EXECUTIVE||r.id===e.id):t.filter(r=>r.id===e.id)}hasAnyRole(e){const t=this.getCurrentUser();return!!t&&e.includes(t.role)}isAdmin(){return this.hasAnyRole([g.SUPER_ADMIN,g.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([g.SUPER_ADMIN,g.ORG_ADMIN,g.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:g.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:g.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:g.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:g.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:g.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:g.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var l=w(2778),D=function(s){return s.COMPLETED="completed",s.PENDING="pending",s.CANCELLED="cancelled",s}(D||{}),M=function(s){return s.ELECTRONICS="Electronics",s.SOFTWARE="Software",s.SERVICES="Services",s.HARDWARE="Hardware",s}(M||{});let H=(()=>{class s{constructor(){this.dummySalesData=this.generateDummyData(),console.log("IN sales data service of SHELLLL")}getSalesHistory(e,t,r){let n=this.dummySalesData.filter(o=>o.salesExecutiveId===e);return t&&(n=n.filter(o=>o.date>=t)),r&&(n=n.filter(o=>o.date<=r)),(0,m.of)(n).pipe((0,l.delay)(300))}getSalesSummary(e){const t=this.dummySalesData.filter(n=>n.salesExecutiveId===e),r={totalSales:t.filter(n=>n.status===D.COMPLETED).reduce((n,o)=>n+o.amount,0),totalCommission:t.filter(n=>n.status===D.COMPLETED).reduce((n,o)=>n+o.commission,0),completedCount:t.filter(n=>n.status===D.COMPLETED).length,pendingCount:t.filter(n=>n.status===D.PENDING).length,cancelledCount:t.filter(n=>n.status===D.CANCELLED).length};return(0,m.of)(r).pipe((0,l.delay)(300))}getAllSales(){return(0,m.of)(this.dummySalesData).pipe((0,l.delay)(300))}generateDummyData(){const e=[{name:"Enterprise Software License",category:M.SOFTWARE,basePrice:5e4},{name:"Cloud Storage Solution",category:M.SERVICES,basePrice:25e3},{name:"Server Hardware",category:M.HARDWARE,basePrice:35e3},{name:"IoT Device Package",category:M.ELECTRONICS,basePrice:15e3},{name:"Consulting Services",category:M.SERVICES,basePrice:2e4},{name:"Mobile App Development",category:M.SOFTWARE,basePrice:45e3},{name:"Security Suite",category:M.SOFTWARE,basePrice:3e4},{name:"Network Infrastructure",category:M.HARDWARE,basePrice:6e4}],t=["Acme Corporation","Tech Innovations Inc","Global Solutions Ltd","Digital Dynamics","Future Systems","Smart Technologies","Enterprise Solutions","Cloud Masters"],r=["North","South","East","West","Central"],n=[{id:"user-4",name:"Alice Sales"},{id:"user-5",name:"Bob Sales"},{id:"user-6",name:"Carol Sales"}],o=[D.COMPLETED,D.COMPLETED,D.COMPLETED,D.PENDING,D.CANCELLED],i=[];let a=1;for(let c=0;c<50;c++){const u=n[c%n.length],y=e[Math.floor(Math.random()*e.length)],p=t[Math.floor(Math.random()*t.length)],A=r[Math.floor(Math.random()*r.length)],C=o[Math.floor(Math.random()*o.length)],T=y.basePrice+(1e4*Math.random()-5e3),S=.05*T,P=new Date;P.setDate(P.getDate()-Math.floor(180*Math.random())),i.push({id:"sale-"+a++,salesExecutiveId:u.id,salesExecutiveName:u.name,productName:y.name,productCategory:y.category,amount:Math.round(T),commission:Math.round(S),status:C,date:P,clientName:p,region:A})}return i.sort((c,u)=>u.date.getTime()-c.date.getTime())}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),q=(()=>{class s{constructor(){this.salesExecutivesSubject=new m.BehaviorSubject(this.generateSalesExecutives()),this.salesExecutives$=this.salesExecutivesSubject.asObservable(),this.salesRecordsSubject=new m.BehaviorSubject(this.generateSalesRecords()),this.salesRecords$=this.salesRecordsSubject.asObservable(),this.incentiveRulesSubject=new m.BehaviorSubject(this.generateIncentiveRules()),this.incentiveRules$=this.incentiveRulesSubject.asObservable(),this.incentivesEarnedSubject=new m.BehaviorSubject(this.generateIncentivesEarned()),this.incentivesEarned$=this.incentivesEarnedSubject.asObservable(),console.log("[DummyDataService] Service initialized"),console.log("[DummyDataService] Generated data:",{salesExecutives:this.salesExecutivesSubject.value.length,salesRecords:this.salesRecordsSubject.value.length,incentiveRules:this.incentiveRulesSubject.value.length,incentivesEarned:this.incentivesEarnedSubject.value.length})}generateSalesExecutives(){return console.log("[DummyDataService] Generating sales executives"),[{id:"user-1",name:"John Admin",email:"john.admin@company.com",teamId:"team-1"},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",teamId:"team-1"},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",teamId:"team-1"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",teamId:"team-1"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",teamId:"team-1"}]}generateSalesRecords(){console.log("[DummyDataService] Generating sales records");const e=[],t=this.generateSalesExecutives(),r=["Product A","Product B","Product C","Product D"],n=[D.COMPLETED,D.PENDING,D.CANCELLED];for(let o=0;o<50;o++){const i=t[o%t.length],a=Math.floor(o/10),c=new Date;c.setMonth(c.getMonth()-a),e.push({id:`sale-${o+1}`,salesExecutiveId:i.id,salesExecutiveName:i.name,date:c,productName:r[o%r.length],productCategory:M.SOFTWARE,amount:Math.floor(5e4*Math.random())+1e4,commission:Math.floor(5e3*Math.random()),quantity:Math.floor(10*Math.random())+1,status:n[o%n.length],clientName:`Client ${o+1}`,region:["North","South","East","West"][o%4]})}return e}generateIncentiveRules(){return console.log("[DummyDataService] Generating incentive rules"),[{id:"rule-1",name:"Basic Sales Incentive",description:"5% incentive on all sales",type:"percentage",value:5,isActive:!0,createdBy:"admin",createdAt:new Date("2024-01-01")},{id:"rule-2",name:"High Value Sales Bonus",description:"10% incentive on sales above $50,000",type:"percentage",value:10,minSalesAmount:5e4,isActive:!0,createdBy:"admin",createdAt:new Date("2024-02-01")},{id:"rule-3",name:"Product A Special",description:"Fixed $500 bonus for Product A sales",type:"fixed",value:500,productCategory:"Product A",isActive:!0,createdBy:"team-lead-1",createdAt:new Date("2024-03-01")},{id:"rule-4",name:"Tiered Volume Incentive",description:"15% incentive on sales above $100,000",type:"tiered",value:15,minSalesAmount:1e5,isActive:!1,createdBy:"admin",createdAt:new Date("2024-04-01")}]}generateIncentivesEarned(){console.log("[DummyDataService] Generating incentives earned");const e=[],t=this.generateSalesExecutives(),r=this.generateIncentiveRules(),n=["pending","approved","paid"];for(let o=0;o<30;o++){const i=t[o%t.length],a=r[o%r.length],c=Math.floor(o/10),u=new Date;u.setMonth(u.getMonth()-c),e.push({id:`incentive-${o+1}`,salesExecutiveId:i.id,salesExecutiveName:i.name,ruleId:a.id,ruleName:a.name,salesRecordId:`sale-${o+1}`,amount:Math.floor(5e3*Math.random())+500,earnedDate:u,status:n[o%3]})}return e}getSalesRecordsForExecutive(e){console.log("[DummyDataService] getSalesRecordsForExecutive() called for:",e);const t=this.salesRecordsSubject.value.filter(r=>r.salesExecutiveId===e);return console.log("[DummyDataService] Found",t.length,"sales records for executive:",e),t}getIncentivesForExecutive(e){console.log("[DummyDataService] getIncentivesForExecutive() called for:",e);const t=this.incentivesEarnedSubject.value.filter(r=>r.salesExecutiveId===e);return console.log("[DummyDataService] Found",t.length,"incentives for executive:",e),t}getReportDataForExecutive(e){console.log("[DummyDataService] getReportDataForExecutive() called for:",e);const t=this.salesExecutivesSubject.value.find(u=>u.id===e),r=this.getSalesRecordsForExecutive(e),n=this.getIncentivesForExecutive(e),o=r.filter(u=>"completed"===u.status).reduce((u,y)=>u+y.amount,0),i=n.filter(u=>"pending"!==u.status).reduce((u,y)=>u+y.amount,0),a=[];for(let u=5;u>=0;u--){const y=new Date;y.setMonth(y.getMonth()-u);const p=y.toISOString().substring(0,7),A=r.filter(T=>T.date.toISOString().substring(0,7)===p&&"completed"===T.status).reduce((T,S)=>T+S.amount,0),C=n.filter(T=>T.earnedDate.toISOString().substring(0,7)===p&&"pending"!==T.status).reduce((T,S)=>T+S.amount,0);a.push({month:p,sales:A,incentives:C})}const c={salesExecutiveId:e,salesExecutiveName:t?.name||"Unknown",totalSales:o,totalIncentives:i,period:"Last 6 months",breakdown:a};return console.log("[DummyDataService] Report data generated:",c),c}getSalesExecutives(){const e=this.salesExecutivesSubject.value;return console.log("[DummyDataService] getSalesExecutives() called, returning",e.length,"executives"),e}getIncentiveRules(){const e=this.incentiveRulesSubject.value;return console.log("[DummyDataService] getIncentiveRules() called, returning",e.length,"rules"),e}addIncentiveRule(e){console.log("[DummyDataService] addIncentiveRule() called with:",e),this.incentiveRulesSubject.next([...this.incentiveRulesSubject.value,e]),console.log("[DummyDataService] Rule added successfully, total rules:",this.incentiveRulesSubject.value.length)}updateIncentiveRule(e,t){console.log("[DummyDataService] updateIncentiveRule() called for rule:",e,"with updates:",t);const n=this.incentiveRulesSubject.value.map(o=>o.id===e?{...o,...t}:o);this.incentiveRulesSubject.next(n),console.log("[DummyDataService] Rule updated successfully")}deleteIncentiveRule(e){console.log("[DummyDataService] deleteIncentiveRule() called for rule:",e);const r=this.incentiveRulesSubject.value.filter(n=>n.id!==e);this.incentiveRulesSubject.next(r),console.log("[DummyDataService] Rule deleted successfully, remaining rules:",this.incentiveRulesSubject.value.length)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var X=w(1913);let re=(()=>{class s{constructor(){this.mfeConfigs=[],this.loadedMfesSubject=new m.BehaviorSubject(new Set),this.loadedMfes$=this.loadedMfesSubject.asObservable(),this.loadingMfesSubject=new m.BehaviorSubject(new Set),this.loadingMfes$=this.loadingMfesSubject.asObservable(),console.log("[MfeLoaderService] Service initialized")}setConfigs(e){console.log("[MfeLoaderService] setConfigs() called with",e.length,"configurations"),this.mfeConfigs=e.sort((t,r)=>r.priority-t.priority),console.log("[MfeLoaderService] Configurations sorted by priority:",this.mfeConfigs.map(t=>({name:t.name,priority:t.priority})))}getConfigs(){return console.log("[MfeLoaderService] getConfigs() called, returning",this.mfeConfigs.length,"configurations"),this.mfeConfigs}getConfigsForRole(e){console.log("[MfeLoaderService] getConfigsForRole() called for role:",e);const t=this.mfeConfigs.filter(r=>r.allowedRoles.includes(e));return console.log("[MfeLoaderService] Found",t.length,"configurations for role:",e,t.map(r=>r.name)),t}getConfigByName(e){console.log("[MfeLoaderService] getConfigByName() called for:",e);const t=this.mfeConfigs.find(r=>r.name===e);return t?console.log("[MfeLoaderService] Found configuration for:",e):console.warn("[MfeLoaderService] Configuration not found for:",e),t}preloadPriorityMfes(e){var t=this;return(0,j.A)(function*(){console.log("[MfeLoaderService] preloadPriorityMfes() called for role:",e);const n=t.getConfigsForRole(e).filter(i=>i.priority>=5);console.log("[MfeLoaderService] Preloading",n.length,"priority MFEs:",n.map(i=>({name:i.name,priority:i.priority})));const o=n.map(i=>t.loadMfe(i));yield Promise.all(o),console.log("[MfeLoaderService] Preloading complete")})()}loadMfe(e){var t=this;return(0,j.A)(function*(){const r=t.loadingMfesSubject.value,n=t.loadedMfesSubject.value;if(n.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} already loaded`);else if(r.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} is already loading`);else try{const o=new Set(r);o.add(e.name),t.loadingMfesSubject.next(o),console.log(`[MfeLoaderService] Loading MFE ${e.name} (priority: ${e.priority})`),console.log("[MfeLoaderService] MFE config:",{name:e.name,url:e.url,exposedModule:e.exposedModule,remoteName:e.remoteName});const i=yield(0,X.loadRemoteModule)({type:"module",remoteEntry:e.url,exposedModule:e.exposedModule}),a=new Set(n);a.add(e.name),t.loadedMfesSubject.next(a);const c=new Set(t.loadingMfesSubject.value);return c.delete(e.name),t.loadingMfesSubject.next(c),console.log(`[MfeLoaderService] Successfully loaded MFE ${e.name}`),console.log("[MfeLoaderService] Currently loaded MFEs:",Array.from(t.loadedMfesSubject.value)),i}catch(o){console.error(`[MfeLoaderService] Error loading MFE ${e.name}:`,o),console.error("[MfeLoaderService] Failed config:",{name:e.name,url:e.url,exposedModule:e.exposedModule});const i=new Set(t.loadingMfesSubject.value);throw i.delete(e.name),t.loadingMfesSubject.next(i),o}})()}isMfeLoaded(e){const t=this.loadedMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoaded(${e}):`,t),t}isMfeLoading(e){const t=this.loadingMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoading(${e}):`,t),t}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),K=(()=>{class s{constructor(e){this.zone=e}listen(){const e=new EventSource("https://stream.wikimedia.org/v2/stream/recentchange");return(0,m.fromEvent)(e,"message").pipe((0,l.map)(t=>{let r;return this.zone.run(()=>r=t.data),r}))}static{this.\u0275fac=function(t){return new(t||s)(d.\u0275\u0275inject(d.NgZone))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Q=(()=>{class s{constructor(e){this.zone=e}start(e){this.eventSource=new EventSource(e);const t=this.eventSource;return new m.Observable(r=>{const n=(0,m.fromEvent)(t,"message").subscribe(o=>{this.zone.run(()=>r.next(o.data))});return t.onerror=o=>{this.zone.run(()=>r.error(o))},()=>{n.unsubscribe(),t.close()}})}stop(){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0)}static{this.\u0275fac=function(t){return new(t||s)(d.\u0275\u0275inject(d.NgZone))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();const ee=(s,h)=>new m.Observable(e=>{let t;return(0,j.A)(function*(){const{urlWithParams:n}=s,i=yield caches.open("http"),a=yield i.match(n);if(a){let c;console.log("Serve from Cache for",n);try{c=yield a.clone().json()}catch{c=yield a.clone().text()}return e.next(new O.HttpResponse({body:c,status:a.status||200,url:s.urlWithParams})),void e.complete()}var c;t=h(s).subscribe({next:(c=(0,j.A)(function*(u){if(console.log("Cache miss for ",n),e.next(u),u instanceof O.HttpResponse&&u.ok){const y=new Response(JSON.stringify(u.body),{headers:{"Content-Type":"application/json"},status:u.status,statusText:u.statusText});yield i.put(s.urlWithParams,y)}}),function(y){return c.apply(this,arguments)}),error:c=>e.error(c),complete:()=>e.complete()})})(),()=>t?.unsubscribe()});let V=(()=>{class s{constructor(){this.DEFAULT_BRAND_ID="default",this.STORAGE_KEY="current_brand_id";const e=this.getStoredBrandId();this.brandIdSubject=new m.BehaviorSubject(e),this.brandId$=this.brandIdSubject.asObservable()}getStoredBrandId(){return sessionStorage.getItem(this.STORAGE_KEY)??this.DEFAULT_BRAND_ID}getBrandId(){return this.brandIdSubject.value}setBrandId(e){e?.trim()||(console.warn("[BrandContextService] Invalid brand ID, using default"),e=this.DEFAULT_BRAND_ID),sessionStorage.setItem(this.STORAGE_KEY,e),this.brandIdSubject.next(e),console.log("[BrandContextService] Brand ID updated to:",e)}resetToDefault(){this.setBrandId(this.DEFAULT_BRAND_ID)}clear(){sessionStorage.removeItem(this.STORAGE_KEY),this.brandIdSubject.next(this.DEFAULT_BRAND_ID)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();const E={baseUrl:"https://7f1m8qlvpd.execute-api.us-east-1.amazonaws.com/db",timeout:3e4},R={health:s=>`/health?brandId=${s}`,info:"/",seed:s=>`/seed/${s}`,clearData:s=>`/data/${s}`,users:{list:s=>`/users/${s}`,getById:(s,h)=>`/users/${s}/${h}`,create:s=>`/users/${s}`},incentiveRules:{list:s=>`/incentive-rules/${s}`,getById:(s,h)=>`/incentive-rules/${s}/${h}`,create:s=>`/incentive-rules/${s}`,update:(s,h)=>`/incentive-rules/${s}/${h}`,delete:(s,h)=>`/incentive-rules/${s}/${h}`},incentives:{list:(s,h)=>{const e=new URLSearchParams;h?.userId&&e.append("userId",h.userId),h?.status&&e.append("status",h.status);const t=e.toString();return`/incentives/${s}${t?"?"+t:""}`},getById:(s,h)=>`/incentives/${s}/${h}`,create:s=>`/incentives/${s}`,update:(s,h)=>`/incentives/${s}/${h}`},targets:{list:(s,h)=>{const e=new URLSearchParams;h?.userId&&e.append("userId",h.userId),h?.status&&e.append("status",h.status);const t=e.toString();return`/targets/${s}${t?"?"+t:""}`},getById:(s,h)=>`/targets/${s}/${h}`,create:s=>`/targets/${s}`,update:(s,h)=>`/targets/${s}/${h}`,delete:(s,h)=>`/targets/${s}/${h}`},tasks:{list:(s,h)=>{const e=new URLSearchParams;h?.userId&&e.append("userId",h.userId),h?.status&&e.append("status",h.status);const t=e.toString();return`/tasks/${s}${t?"?"+t:""}`},getById:(s,h)=>`/tasks/${s}/${h}`,create:s=>`/tasks/${s}`,update:(s,h)=>`/tasks/${s}/${h}`,delete:(s,h)=>`/tasks/${s}/${h}`}},b=(s,h=E)=>`${h.baseUrl}${s}`,f=s=>{Object.assign(E,s)};let v=(()=>{class s{constructor(e,t){this.http=e,this.brandContext=t}getRules(){const e=this.brandContext.getBrandId(),t=R.incentiveRules.list(e),r=b(t);return this.http.get(r).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(n=>n.data),(0,l.catchError)(this.handleError("getRules",[])))}getRuleById(e){if(!this.isValidId(e))return(0,m.of)(null);const t=this.brandContext.getBrandId(),r=R.incentiveRules.getById(t,e),n=b(r);return this.http.get(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("getRuleById",null)))}createRule(e){if(!this.isValidRuleRequest(e))return console.error("[IncentiveRulesApiService] Invalid rule request"),(0,m.of)(null);const t=this.brandContext.getBrandId(),r=R.incentiveRules.create(t),n=b(r);return this.http.post(n,e).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("createRule",null)))}updateRule(e,t){if(!this.isValidId(e))return(0,m.of)(null);const r=this.brandContext.getBrandId(),n=R.incentiveRules.update(r,e),o=b(n);return this.http.put(o,t).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(i=>i.data),(0,l.catchError)(this.handleError("updateRule",null)))}deleteRule(e){if(!this.isValidId(e))return(0,m.of)(!1);const t=this.brandContext.getBrandId(),r=R.incentiveRules.delete(t,e),n=b(r);return this.http.delete(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(()=>!0),(0,l.catchError)(this.handleError("deleteRule",!1)))}isValidId(e){return!!e&&e.trim().length>0}isValidRuleRequest(e){return!!(e.name?.trim()&&e.description?.trim()&&e.type&&"number"==typeof e.value)}handleError(e,t){return r=>{console.error(`[IncentiveRulesApiService] ${e} failed:`,r);const n=this.extractApiError(r);return console.error("[IncentiveRulesApiService] API Error:",n),void 0!==t?(0,m.of)(t):(0,m.throwError)(()=>r)}}extractApiError(e){return e.error&&"object"==typeof e.error?e.error:{error:e.statusText||"Unknown Error",message:e.message||"An unexpected error occurred",statusCode:e.status,timestamp:(new Date).toISOString()}}static{this.\u0275fac=function(t){return new(t||s)(d.\u0275\u0275inject(O.HttpClient),d.\u0275\u0275inject(V))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),I=(()=>{class s{constructor(e,t){this.http=e,this.brandContext=t}getIncentives(e){const t=this.brandContext.getBrandId(),r=R.incentives.list(t,e),n=b(r);return this.http.get(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("getIncentives",[])))}getIncentiveById(e){if(!this.isValidId(e))return(0,m.of)(null);const t=this.brandContext.getBrandId(),r=R.incentives.getById(t,e),n=b(r);return this.http.get(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("getIncentiveById",null)))}createIncentive(e){if(!this.isValidIncentiveRequest(e))return console.error("[IncentivesApiService] Invalid incentive request"),(0,m.of)(null);const t=this.brandContext.getBrandId(),r=R.incentives.create(t),n=b(r);return this.http.post(n,e).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("createIncentive",null)))}updateIncentive(e,t){if(!this.isValidId(e))return(0,m.of)(null);const r=this.brandContext.getBrandId(),n=R.incentives.update(r,e),o=b(n);return this.http.put(o,t).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(i=>i.data),(0,l.catchError)(this.handleError("updateIncentive",null)))}isValidId(e){return!!e&&e.trim().length>0}isValidIncentiveRequest(e){return!!(e.userId?.trim()&&e.ruleId?.trim()&&"number"==typeof e.amount&&e.earnedDate)}handleError(e,t){return r=>{console.error(`[IncentivesApiService] ${e} failed:`,r);const n=this.extractApiError(r);return console.error("[IncentivesApiService] API Error:",n),void 0!==t?(0,m.of)(t):(0,m.throwError)(()=>r)}}extractApiError(e){return e.error&&"object"==typeof e.error?e.error:{error:e.statusText||"Unknown Error",message:e.message||"An unexpected error occurred",statusCode:e.status,timestamp:(new Date).toISOString()}}static{this.\u0275fac=function(t){return new(t||s)(d.\u0275\u0275inject(O.HttpClient),d.\u0275\u0275inject(V))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),L=(()=>{class s{constructor(e,t){this.http=e,this.brandContext=t}getTargets(e){const t=this.brandContext.getBrandId(),r=R.targets.list(t,e),n=b(r);return this.http.get(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("getTargets",[])))}getTargetById(e){if(!this.isValidId(e))return(0,m.of)(null);const t=this.brandContext.getBrandId(),r=R.targets.getById(t,e),n=b(r);return this.http.get(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("getTargetById",null)))}createTarget(e){if(!this.isValidTargetRequest(e))return console.error("[TargetsApiService] Invalid target request"),(0,m.of)(null);const t=this.brandContext.getBrandId(),r=R.targets.create(t),n=b(r);return this.http.post(n,e).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("createTarget",null)))}updateTarget(e,t){if(!this.isValidId(e))return(0,m.of)(null);const r=this.brandContext.getBrandId(),n=R.targets.update(r,e),o=b(n);return this.http.put(o,t).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(i=>i.data),(0,l.catchError)(this.handleError("updateTarget",null)))}deleteTarget(e){if(!this.isValidId(e))return(0,m.of)(!1);const t=this.brandContext.getBrandId(),r=R.targets.delete(t,e),n=b(r);return this.http.delete(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(()=>!0),(0,l.catchError)(this.handleError("deleteTarget",!1)))}isValidId(e){return!!e&&e.trim().length>0}isValidTargetRequest(e){return!!(e.userId?.trim()&&e.name?.trim()&&"number"==typeof e.targetValue&&e.unit?.trim()&&e.startDate&&e.endDate)}handleError(e,t){return r=>{console.error(`[TargetsApiService] ${e} failed:`,r);const n=this.extractApiError(r);return console.error("[TargetsApiService] API Error:",n),void 0!==t?(0,m.of)(t):(0,m.throwError)(()=>r)}}extractApiError(e){return e.error&&"object"==typeof e.error?e.error:{error:e.statusText||"Unknown Error",message:e.message||"An unexpected error occurred",statusCode:e.status,timestamp:(new Date).toISOString()}}static{this.\u0275fac=function(t){return new(t||s)(d.\u0275\u0275inject(O.HttpClient),d.\u0275\u0275inject(V))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),x=(()=>{class s{constructor(e,t){this.http=e,this.brandContext=t}getTasks(e){const t=this.brandContext.getBrandId(),r=R.tasks.list(t,e),n=b(r);return this.http.get(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("getTasks",[])))}getTaskById(e){if(!this.isValidId(e))return(0,m.of)(null);const t=this.brandContext.getBrandId(),r=R.tasks.getById(t,e),n=b(r);return this.http.get(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("getTaskById",null)))}createTask(e){if(!this.isValidTaskRequest(e))return console.error("[TasksApiService] Invalid task request"),(0,m.of)(null);const t=this.brandContext.getBrandId(),r=R.tasks.create(t),n=b(r);return this.http.post(n,e).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(o=>o.data),(0,l.catchError)(this.handleError("createTask",null)))}updateTask(e,t){if(!this.isValidId(e))return(0,m.of)(null);const r=this.brandContext.getBrandId(),n=R.tasks.update(r,e),o=b(n);return this.http.put(o,t).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(i=>i.data),(0,l.catchError)(this.handleError("updateTask",null)))}deleteTask(e){if(!this.isValidId(e))return(0,m.of)(!1);const t=this.brandContext.getBrandId(),r=R.tasks.delete(t,e),n=b(r);return this.http.delete(n).pipe((0,l.timeout)(E.timeout??3e4),(0,l.map)(()=>!0),(0,l.catchError)(this.handleError("deleteTask",!1)))}isValidId(e){return!!e&&e.trim().length>0}isValidTaskRequest(e){return!!(e.userId?.trim()&&e.title?.trim()&&e.priority)}handleError(e,t){return r=>{console.error(`[TasksApiService] ${e} failed:`,r);const n=this.extractApiError(r);return console.error("[TasksApiService] API Error:",n),void 0!==t?(0,m.of)(t):(0,m.throwError)(()=>r)}}extractApiError(e){return e.error&&"object"==typeof e.error?e.error:{error:e.statusText||"Unknown Error",message:e.message||"An unexpected error occurred",statusCode:e.status,timestamp:(new Date).toISOString()}}static{this.\u0275fac=function(t){return new(t||s)(d.\u0275\u0275inject(O.HttpClient),d.\u0275\u0275inject(V))}}static{this.\u0275prov=d.\u0275\u0275defineInjectable({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();const _=(s,h)=>{const t=(0,d.inject)(U).getToken();return!t||G(s.url)?h(s):h(s.clone({setHeaders:{Authorization:`Bearer ${t}`}}))},G=s=>["/oauth","/auth","zitadel.cloud"].some(e=>s.includes(e))},5766:(ne,B,w)=>{w.r(B),w.d(B,{getManifest:()=>re,initFederation:()=>K,loadManifest:()=>ee,loadRemoteEntry:()=>N,loadRemoteModule:()=>M,setManifest:()=>q});var d=w(467);let $={};const j={},m={};let O=!1;function F(){return(F=(0,d.A)(function*(f,v){return(yield j[f].get(v))()})).apply(this,arguments)}function k(f,v){return U.apply(this,arguments)}function U(){return(U=(0,d.A)(function*(f,v){return m[v]||(O||(yield w.I("default"),O=!0),yield f.init(w.S.default),m[v]=!0),f})).apply(this,arguments)}function N(f,v){return g.apply(this,arguments)}function g(){return g=(0,d.A)(function*(f,v){if("string"==typeof f)return yield l(f,v);if("script"===f.type){const I=f;return yield l(I.remoteEntry,I.remoteName)}"module"===f.type&&(yield function J(f){return Z.apply(this,arguments)}(f.remoteEntry))}),g.apply(this,arguments)}function Z(){return(Z=(0,d.A)(function*(f){return j[f]?Promise.resolve():yield import(f).then(v=>{k(v,f),j[f]=v})})).apply(this,arguments)}function l(f,v){return D.apply(this,arguments)}function D(){return(D=(0,d.A)(function*(f,v){return new Promise((I,L)=>{if(j[v])return void I();const x=document.createElement("script");x.src=f,x.onerror=L,x.onload=()=>{const _=window[v];k(_,v),j[v]=_,I()},document.body.appendChild(x)})})).apply(this,arguments)}function M(f,v){return H.apply(this,arguments)}function H(){return H=(0,d.A)(function*(f,v){let I,L,x,_;if(_="string"==typeof f?{type:"manifest",remoteName:f,exposedModule:v}:f,!_.type){const G=Object.keys($).length>0;_.type=G?"manifest":"script"}if("manifest"===_.type){const G=$[_.remoteName];if(!G)throw new Error("Manifest does not contain "+_.remoteName);_={type:G.type,exposedModule:_.exposedModule,remoteEntry:G.remoteEntry,remoteName:"script"===G.type?_.remoteName:void 0},x=G.remoteEntry}else x=_.remoteEntry;return"script"===_.type?(I={type:"script",remoteEntry:_.remoteEntry,remoteName:_.remoteName},L=_.remoteName):"module"===_.type&&(I={type:"module",remoteEntry:_.remoteEntry},L=_.remoteEntry),x&&(yield N(I)),yield function z(f,v){return F.apply(this,arguments)}(L,_.exposedModule)}),H.apply(this,arguments)}function q(f){return X.apply(this,arguments)}function X(){return(X=(0,d.A)(function*(f,v=!1){$=E(f),v||(yield R())})).apply(this,arguments)}function re(){return $}function K(f){return Q.apply(this,arguments)}function Q(){return(Q=(0,d.A)(function*(f,v=!1){return"string"==typeof f?ee(f,v):q(f,v)})).apply(this,arguments)}function ee(f){return V.apply(this,arguments)}function V(){return(V=(0,d.A)(function*(f,v=!1){const I=yield fetch(f);if(!I.ok)throw Error("could not load configFile: "+f);$=E(yield I.json()),v||(yield R())})).apply(this,arguments)}function E(f){const v={};for(const I in f){const L=f[I];let x;x="string"==typeof L?{remoteEntry:L,type:"module"}:{...L,type:L.type||"module"},v[I]=x}return v}function R(){return b.apply(this,arguments)}function b(){return(b=(0,d.A)(function*(){const f=[];for(const v in $){const I=$[v];f.push(N("module"===I.type?{type:"module",remoteEntry:I.remoteEntry}:{type:"script",remoteEntry:I.remoteEntry,remoteName:v}))}yield Promise.all(f)})).apply(this,arguments)}},467:(ne,B,w)=>{function d(j,m,O,z,F,k,U){try{var N=j[k](U),g=N.value}catch(J){return void O(J)}N.done?m(g):Promise.resolve(g).then(z,F)}function $(j){return function(){var m=this,O=arguments;return new Promise(function(z,F){var k=j.apply(m,O);function U(g){d(k,z,F,U,N,"next",g)}function N(g){d(k,z,F,U,N,"throw",g)}U(void 0)})}}w.d(B,{A:()=>$})},1635:(ne,B,w)=>{w.r(B),w.d(B,{__addDisposableResource:()=>_,__assign:()=>j,__asyncDelegator:()=>ee,__asyncGenerator:()=>Q,__asyncValues:()=>V,__await:()=>K,__awaiter:()=>J,__classPrivateFieldGet:()=>I,__classPrivateFieldIn:()=>x,__classPrivateFieldSet:()=>L,__createBinding:()=>l,__decorate:()=>O,__disposeResources:()=>s,__esDecorate:()=>F,__exportStar:()=>D,__extends:()=>$,__generator:()=>Z,__importDefault:()=>v,__importStar:()=>f,__makeTemplateObject:()=>E,__metadata:()=>g,__param:()=>z,__propKey:()=>U,__read:()=>H,__rest:()=>m,__rewriteRelativeImportExtension:()=>h,__runInitializers:()=>k,__setFunctionName:()=>N,__spread:()=>q,__spreadArray:()=>re,__spreadArrays:()=>X,__values:()=>M,default:()=>e});var d=function(t,r){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])})(t,r)};function $(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}d(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var j=function(){return j=Object.assign||function(r){for(var n,o=1,i=arguments.length;o<i;o++)for(var a in n=arguments[o])Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a]);return r},j.apply(this,arguments)};function m(t,r){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(t);i<o.length;i++)r.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]])}return n}function O(t,r,n,o){var c,i=arguments.length,a=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,r,n,o);else for(var u=t.length-1;u>=0;u--)(c=t[u])&&(a=(i<3?c(a):i>3?c(r,n,a):c(r,n))||a);return i>3&&a&&Object.defineProperty(r,n,a),a}function z(t,r){return function(n,o){r(n,o,t)}}function F(t,r,n,o,i,a){function c(te){if(void 0!==te&&"function"!=typeof te)throw new TypeError("Function expected");return te}for(var C,u=o.kind,y="getter"===u?"get":"setter"===u?"set":"value",p=!r&&t?o.static?t:t.prototype:null,A=r||(p?Object.getOwnPropertyDescriptor(p,o.name):{}),T=!1,S=n.length-1;S>=0;S--){var P={};for(var W in o)P[W]="access"===W?{}:o[W];for(var W in o.access)P.access[W]=o.access[W];P.addInitializer=function(te){if(T)throw new TypeError("Cannot add initializers after decoration has completed");a.push(c(te||null))};var Y=(0,n[S])("accessor"===u?{get:A.get,set:A.set}:A[y],P);if("accessor"===u){if(void 0===Y)continue;if(null===Y||"object"!=typeof Y)throw new TypeError("Object expected");(C=c(Y.get))&&(A.get=C),(C=c(Y.set))&&(A.set=C),(C=c(Y.init))&&i.unshift(C)}else(C=c(Y))&&("field"===u?i.unshift(C):A[y]=C)}p&&Object.defineProperty(p,o.name,A),T=!0}function k(t,r,n){for(var o=arguments.length>2,i=0;i<r.length;i++)n=o?r[i].call(t,n):r[i].call(t);return o?n:void 0}function U(t){return"symbol"==typeof t?t:"".concat(t)}function N(t,r,n){return"symbol"==typeof r&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",r):r})}function g(t,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,r)}function J(t,r,n,o){return new(n||(n=Promise))(function(a,c){function u(A){try{p(o.next(A))}catch(C){c(C)}}function y(A){try{p(o.throw(A))}catch(C){c(C)}}function p(A){A.done?a(A.value):function i(a){return a instanceof n?a:new n(function(c){c(a)})}(A.value).then(u,y)}p((o=o.apply(t,r||[])).next())})}function Z(t,r){var o,i,a,n={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},c=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return c.next=u(0),c.throw=u(1),c.return=u(2),"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(p){return function(A){return function y(p){if(o)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(o=1,i&&(a=2&p[0]?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(!(a=(a=n.trys).length>0&&a[a.length-1])&&(6===p[0]||2===p[0])){n=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3])){n.label=p[1];break}if(6===p[0]&&n.label<a[1]){n.label=a[1],a=p;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(p);break}a[2]&&n.ops.pop(),n.trys.pop();continue}p=r.call(t,n)}catch(A){p=[6,A],i=0}finally{o=a=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,A])}}}var l=Object.create?function(t,r,n,o){void 0===o&&(o=n);var i=Object.getOwnPropertyDescriptor(r,n);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[n]}}),Object.defineProperty(t,o,i)}:function(t,r,n,o){void 0===o&&(o=n),t[o]=r[n]};function D(t,r){for(var n in t)"default"!==n&&!Object.prototype.hasOwnProperty.call(r,n)&&l(r,t,n)}function M(t){var r="function"==typeof Symbol&&Symbol.iterator,n=r&&t[r],o=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function H(t,r){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,c,o=n.call(t),a=[];try{for(;(void 0===r||r-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(u){c={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(c)throw c.error}}return a}function q(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(H(arguments[r]));return t}function X(){for(var t=0,r=0,n=arguments.length;r<n;r++)t+=arguments[r].length;var o=Array(t),i=0;for(r=0;r<n;r++)for(var a=arguments[r],c=0,u=a.length;c<u;c++,i++)o[i]=a[c];return o}function re(t,r,n){if(n||2===arguments.length)for(var a,o=0,i=r.length;o<i;o++)(a||!(o in r))&&(a||(a=Array.prototype.slice.call(r,0,o)),a[o]=r[o]);return t.concat(a||Array.prototype.slice.call(r))}function K(t){return this instanceof K?(this.v=t,this):new K(t)}function Q(t,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=n.apply(t,r||[]),a=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",function c(S){return function(P){return Promise.resolve(P).then(S,C)}}),i[Symbol.asyncIterator]=function(){return this},i;function u(S,P){o[S]&&(i[S]=function(W){return new Promise(function(Y,te){a.push([S,W,Y,te])>1||y(S,W)})},P&&(i[S]=P(i[S])))}function y(S,P){try{!function p(S){S.value instanceof K?Promise.resolve(S.value.v).then(A,C):T(a[0][2],S)}(o[S](P))}catch(W){T(a[0][3],W)}}function A(S){y("next",S)}function C(S){y("throw",S)}function T(S,P){S(P),a.shift(),a.length&&y(a[0][0],a[0][1])}}function ee(t){var r,n;return r={},o("next"),o("throw",function(i){throw i}),o("return"),r[Symbol.iterator]=function(){return this},r;function o(i,a){r[i]=t[i]?function(c){return(n=!n)?{value:K(t[i](c)),done:!1}:a?a(c):c}:a}}function V(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,r=t[Symbol.asyncIterator];return r?r.call(t):(t=M(t),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(a){n[a]=t[a]&&function(c){return new Promise(function(u,y){!function i(a,c,u,y){Promise.resolve(y).then(function(p){a({value:p,done:u})},c)}(u,y,(c=t[a](c)).done,c.value)})}}}function E(t,r){return Object.defineProperty?Object.defineProperty(t,"raw",{value:r}):t.raw=r,t}var R=Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r},b=function(t){return(b=Object.getOwnPropertyNames||function(r){var n=[];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[n.length]=o);return n})(t)};function f(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n=b(t),o=0;o<n.length;o++)"default"!==n[o]&&l(r,t,n[o]);return R(r,t),r}function v(t){return t&&t.__esModule?t:{default:t}}function I(t,r,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof r?t!==r||!o:!r.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(t):o?o.value:r.get(t)}function L(t,r,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof r?t!==r||!i:!r.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(t,n):i?i.value=n:r.set(t,n),n}function x(t,r){if(null===r||"object"!=typeof r&&"function"!=typeof r)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof t?r===t:t.has(r)}function _(t,r,n){if(null!=r){if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Object expected.");var o,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=r[Symbol.asyncDispose]}if(void 0===o){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=r[Symbol.dispose],n&&(i=o)}if("function"!=typeof o)throw new TypeError("Object not disposable.");i&&(o=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),t.stack.push({value:r,dispose:o,async:n})}else n&&t.stack.push({async:!0});return r}var G="function"==typeof SuppressedError?SuppressedError:function(t,r,n){var o=new Error(n);return o.name="SuppressedError",o.error=t,o.suppressed=r,o};function s(t){function r(a){t.error=t.hasError?new G(a,t.error,"An error was suppressed during disposal."):a,t.hasError=!0}var n,o=0;return function i(){for(;n=t.stack.pop();)try{if(!n.async&&1===o)return o=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var a=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(a).then(i,function(c){return r(c),i()})}else o|=1}catch(c){r(c)}if(1===o)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}()}function h(t,r){return"string"==typeof t&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,i,a,c){return o?r?".jsx":".js":!i||a&&c?i+a+"."+c.toLowerCase()+"js":n}):t}const e={__extends:$,__assign:j,__rest:m,__decorate:O,__param:z,__esDecorate:F,__runInitializers:k,__propKey:U,__setFunctionName:N,__metadata:g,__awaiter:J,__generator:Z,__createBinding:l,__exportStar:D,__values:M,__read:H,__spread:q,__spreadArrays:X,__spreadArray:re,__await:K,__asyncGenerator:Q,__asyncDelegator:ee,__asyncValues:V,__makeTemplateObject:E,__importStar:f,__importDefault:v,__classPrivateFieldGet:I,__classPrivateFieldSet:L,__classPrivateFieldIn:x,__addDisposableResource:_,__disposeResources:s,__rewriteRelativeImportExtension:h}}}]);