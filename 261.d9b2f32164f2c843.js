(self.webpackChunkshell=self.webpackChunkshell||[]).push([[261,642],{1913:(ne,O,g)=>{Object.defineProperty(O,"__esModule",{value:!0}),g(1635).__exportStar(g(5766),O)},6642:(ne,O,g)=>{g.r(O),g.d(O,{API_CONFIG:()=>N,CoreServicesComponent:()=>M,CoreServicesService:()=>x,DummyDataService:()=>I,EventBusService:()=>J,MfeLoaderService:()=>H,ProductCategory:()=>j,RoleService:()=>L,SalesStatus:()=>w,SseControlService:()=>K,SseFromEventService:()=>Y,UserProfileService:()=>Z,UserRole:()=>f,authInterceptor:()=>Q,hasRequiredRole:()=>F});var v=g(4304);let x=(()=>{class l{constructor(){}static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275prov=v.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),M=(()=>{class l{static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275cmp=v.\u0275\u0275defineComponent({type:l,selectors:[["org-core-services"]],standalone:!0,features:[v.\u0275\u0275StandaloneFeature],decls:2,vars:0,template:function(t,c){1&t&&(v.\u0275\u0275elementStart(0,"p"),v.\u0275\u0275text(1," core-services works! "),v.\u0275\u0275elementEnd())}})}}return l})();var S=g(5883),f=function(l){return l.SUPER_ADMIN="super-admin",l.ORG_ADMIN="org-admin",l.TEAM_LEAD="team-lead",l.SALES_EXECUTIVE="sales-executive",l}(f||{});function F(l,C){const e={[f.SUPER_ADMIN]:4,[f.ORG_ADMIN]:3,[f.TEAM_LEAD]:2,[f.SALES_EXECUTIVE]:1};return e[l]>=e[C]}let L=(()=>{class l{constructor(){this.currentUserSubject=new S.BehaviorSubject(null),this.currentUser$=this.currentUserSubject.asObservable(),console.log("[RoleService] Service initialized"),this.loadInitialUser()}setUserFromProfile(e){console.log("[RoleService] Setting user from API profile:",e);const t=this.mapApiRoleToUserRole(e.roles),c={id:e.userId,name:e.name||e.email||"User",email:e.email||"",role:t};console.log("[RoleService] Mapped user with role from API:",c),this.setCurrentUser(c)}mapApiRoleToUserRole(e){return e&&0!==e.length?this.mapStringToUserRole(e[0].name):(console.warn("[RoleService] No roles found in API response, defaulting to SALES_EXECUTIVE"),f.SALES_EXECUTIVE)}setUserFromAuth(e){console.log("[RoleService] Setting user from Auth0 auth:",e);const t=this.mapUserInfoToUser(e);console.log("[RoleService] Mapped user with role:",t),this.setCurrentUser(t)}mapUserInfoToUser(e){const t=this.extractRoleFromToken(e);return{id:e.sub,name:e.name||e.email||"User",email:e.email||"",role:t}}extractRoleFromToken(e){if(e.role)return this.mapStringToUserRole(e.role);if(e.org_and_roles){const d=this.extractRoleFromOrgAndRoles(e.org_and_roles);if(d)return console.log("[RoleService] Extracted role from org_and_roles:",d),d}const c=Object.keys(e).filter(d=>d.startsWith("http://")||d.startsWith("https://")).find(d=>d.toLowerCase().includes("role"));if(c&&e[c]){const d=e[c],u=Array.isArray(d)?d[0]:d;return this.mapStringToUserRole(u)}return console.warn("[RoleService] No role found in token, falling back to email pattern"),this.determineRoleFromEmail(e.email||"")}extractRoleFromOrgAndRoles(e){if(!e||"object"!=typeof e)return null;const t=[];for(const d in e){const u=e[d];Array.isArray(u)&&u.forEach(h=>{const _=this.mapStringToUserRole(h);t.push(_)})}if(0===t.length)return null;const c=[f.SUPER_ADMIN,f.ORG_ADMIN,f.TEAM_LEAD,f.SALES_EXECUTIVE];for(const d of c)if(t.includes(d))return console.log("[RoleService] Selected highest privilege role:",d),d;return t[0]}mapStringToUserRole(e){const t=e.toLowerCase().replace(/[-_\s]/g,"");return{superadmin:f.SUPER_ADMIN,super:f.SUPER_ADMIN,admin:f.SUPER_ADMIN,orgadmin:f.ORG_ADMIN,organizationadmin:f.ORG_ADMIN,manager:f.ORG_ADMIN,teamlead:f.TEAM_LEAD,lead:f.TEAM_LEAD,salesexecutive:f.SALES_EXECUTIVE,sales:f.SALES_EXECUTIVE,executive:f.SALES_EXECUTIVE}[t]||f.SALES_EXECUTIVE}determineRoleFromEmail(e){const t=e.toLowerCase();return[{patterns:["admin","super"],role:f.SUPER_ADMIN},{patterns:["manager","org"],role:f.ORG_ADMIN},{patterns:["lead","team"],role:f.TEAM_LEAD}].find(({patterns:u})=>u.some(h=>t.includes(h)))?.role??f.SALES_EXECUTIVE}loadInitialUser(){const e=this.getDevMimicUser();if(e)return console.log("[RoleService] Using dev mimic user:",e),void this.currentUserSubject.next(e)}getDevMimicUser(){try{const e=localStorage.getItem("dev_mimic_user");if(e){const t=JSON.parse(e);if(t.id&&t.name&&t.role)return t}}catch(e){console.error("[RoleService] Error parsing dev mimic user:",e)}return null}setDevMimicUser(e){e?(localStorage.setItem("dev_mimic_user",JSON.stringify(e)),this.currentUserSubject.next(e),console.log("[RoleService] Dev mimic user set:",e)):(localStorage.removeItem("dev_mimic_user"),this.loadDummyUser(),console.log("[RoleService] Dev mimic user cleared"))}loadDummyUser(){console.log("[RoleService] Loading user from session storage");const e=sessionStorage.getItem("current_user");if(e){const t=JSON.parse(e);console.log("[RoleService] User loaded from session:",t),this.currentUserSubject.next(t)}else{const t={id:"user-1",name:"John Admin",email:"john.admin@company.com",role:f.ORG_ADMIN};console.log("[RoleService] No saved user found, using default:",t),this.setCurrentUser(t)}}setCurrentUser(e){console.log("[RoleService] Setting current user:",e),this.currentUserSubject.next(e),e?(sessionStorage.setItem("current_user",JSON.stringify(e)),console.log("[RoleService] User saved to session storage")):(sessionStorage.removeItem("current_user"),console.log("[RoleService] User removed from session storage"))}getCurrentUser(){const e=this.currentUserSubject.value;return console.log("[RoleService] getCurrentUser() called, returning:",e),e}getCurrentUserRole(){const e=this.currentUserSubject.value?.role||null;return console.log("[RoleService] getCurrentUserRole() called, returning:",e),e}hasRole(e){const t=this.getCurrentUserRole();if(!t)return console.log("[RoleService] hasRole() - No current role, access denied"),!1;const c=F(t,e);return console.log(`[RoleService] hasRole() - Checking if ${t} has ${e}:`,c),c}canViewOthersData(){const e=this.getCurrentUserRole(),t=e===f.SUPER_ADMIN||e===f.ORG_ADMIN||e===f.TEAM_LEAD;return console.log(`[RoleService] canViewOthersData() - Role: ${e}, Can view:`,t),t}getViewableUsers(){const e=this.getCurrentUser();if(!e)return[];const t=this.getAllUsers();return this.isTeamLeadOrHigher()?t.filter(c=>c.role===f.SALES_EXECUTIVE||c.id===e.id):t.filter(c=>c.id===e.id)}hasAnyRole(e){const t=this.getCurrentUser();return!!t&&e.includes(t.role)}isAdmin(){return this.hasAnyRole([f.SUPER_ADMIN,f.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([f.SUPER_ADMIN,f.ORG_ADMIN,f.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:f.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:f.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:f.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:f.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:f.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:f.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275prov=v.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var w=function(l){return l.COMPLETED="completed",l.PENDING="pending",l.CANCELLED="cancelled",l}(w||{}),j=function(l){return l.ELECTRONICS="Electronics",l.SOFTWARE="Software",l.SERVICES="Services",l.HARDWARE="Hardware",l}(j||{});let I=(()=>{class l{constructor(){this.salesExecutivesSubject=new S.BehaviorSubject(this.generateSalesExecutives()),this.salesExecutives$=this.salesExecutivesSubject.asObservable(),this.salesRecordsSubject=new S.BehaviorSubject(this.generateSalesRecords()),this.salesRecords$=this.salesRecordsSubject.asObservable(),this.incentiveRulesSubject=new S.BehaviorSubject(this.generateIncentiveRules()),this.incentiveRules$=this.incentiveRulesSubject.asObservable(),this.incentivesEarnedSubject=new S.BehaviorSubject(this.generateIncentivesEarned()),this.incentivesEarned$=this.incentivesEarnedSubject.asObservable(),console.log("[DummyDataService] Service initialized"),console.log("[DummyDataService] Generated data:",{salesExecutives:this.salesExecutivesSubject.value.length,salesRecords:this.salesRecordsSubject.value.length,incentiveRules:this.incentiveRulesSubject.value.length,incentivesEarned:this.incentivesEarnedSubject.value.length})}generateSalesExecutives(){return console.log("[DummyDataService] Generating sales executives"),[{id:"user-1",name:"John Admin",email:"john.admin@company.com",teamId:"team-1"},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",teamId:"team-1"},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",teamId:"team-1"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",teamId:"team-1"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",teamId:"team-1"}]}generateSalesRecords(){console.log("[DummyDataService] Generating sales records");const e=[],t=this.generateSalesExecutives(),c=["Product A","Product B","Product C","Product D"],d=[w.COMPLETED,w.PENDING,w.CANCELLED];for(let u=0;u<50;u++){const h=t[u%t.length],_=Math.floor(u/10),U=new Date;U.setMonth(U.getMonth()-_),e.push({id:`sale-${u+1}`,salesExecutiveId:h.id,salesExecutiveName:h.name,date:U,productName:c[u%c.length],productCategory:j.SOFTWARE,amount:Math.floor(5e4*Math.random())+1e4,commission:Math.floor(5e3*Math.random()),quantity:Math.floor(10*Math.random())+1,status:d[u%d.length],clientName:`Client ${u+1}`,region:["North","South","East","West"][u%4]})}return e}generateIncentiveRules(){return console.log("[DummyDataService] Generating incentive rules"),[{id:"rule-1",name:"Basic Sales Incentive",description:"5% incentive on all sales",type:"percentage",value:5,isActive:!0,createdBy:"admin",createdAt:new Date("2024-01-01")},{id:"rule-2",name:"High Value Sales Bonus",description:"10% incentive on sales above $50,000",type:"percentage",value:10,minSalesAmount:5e4,isActive:!0,createdBy:"admin",createdAt:new Date("2024-02-01")},{id:"rule-3",name:"Product A Special",description:"Fixed $500 bonus for Product A sales",type:"fixed",value:500,productCategory:"Product A",isActive:!0,createdBy:"team-lead-1",createdAt:new Date("2024-03-01")},{id:"rule-4",name:"Tiered Volume Incentive",description:"15% incentive on sales above $100,000",type:"tiered",value:15,minSalesAmount:1e5,isActive:!1,createdBy:"admin",createdAt:new Date("2024-04-01")}]}generateIncentivesEarned(){console.log("[DummyDataService] Generating incentives earned");const e=[],t=this.generateSalesExecutives(),c=this.generateIncentiveRules(),d=["pending","approved","paid"];for(let u=0;u<30;u++){const h=t[u%t.length],_=c[u%c.length],U=Math.floor(u/10),R=new Date;R.setMonth(R.getMonth()-U),e.push({id:`incentive-${u+1}`,salesExecutiveId:h.id,salesExecutiveName:h.name,ruleId:_.id,ruleName:_.name,salesRecordId:`sale-${u+1}`,amount:Math.floor(5e3*Math.random())+500,earnedDate:R,status:d[u%3]})}return e}getSalesRecordsForExecutive(e){console.log("[DummyDataService] getSalesRecordsForExecutive() called for:",e);const t=this.salesRecordsSubject.value.filter(c=>c.salesExecutiveId===e);return console.log("[DummyDataService] Found",t.length,"sales records for executive:",e),t}getIncentivesForExecutive(e){console.log("[DummyDataService] getIncentivesForExecutive() called for:",e);const t=this.incentivesEarnedSubject.value.filter(c=>c.salesExecutiveId===e);return console.log("[DummyDataService] Found",t.length,"incentives for executive:",e),t}getReportDataForExecutive(e){console.log("[DummyDataService] getReportDataForExecutive() called for:",e);const t=this.salesExecutivesSubject.value.find(R=>R.id===e),c=this.getSalesRecordsForExecutive(e),d=this.getIncentivesForExecutive(e),u=c.filter(R=>"completed"===R.status).reduce((R,z)=>R+z.amount,0),h=d.filter(R=>"pending"!==R.status).reduce((R,z)=>R+z.amount,0),_=[];for(let R=5;R>=0;R--){const z=new Date;z.setMonth(z.getMonth()-R);const r=z.toISOString().substring(0,7),n=c.filter(o=>o.date.toISOString().substring(0,7)===r&&"completed"===o.status).reduce((o,i)=>o+i.amount,0),s=d.filter(o=>o.earnedDate.toISOString().substring(0,7)===r&&"pending"!==o.status).reduce((o,i)=>o+i.amount,0);_.push({month:r,sales:n,incentives:s})}const U={salesExecutiveId:e,salesExecutiveName:t?.name||"Unknown",totalSales:u,totalIncentives:h,period:"Last 6 months",breakdown:_};return console.log("[DummyDataService] Report data generated:",U),U}getSalesExecutives(){const e=this.salesExecutivesSubject.value;return console.log("[DummyDataService] getSalesExecutives() called, returning",e.length,"executives"),e}getIncentiveRules(){const e=this.incentiveRulesSubject.value;return console.log("[DummyDataService] getIncentiveRules() called, returning",e.length,"rules"),e}addIncentiveRule(e){console.log("[DummyDataService] addIncentiveRule() called with:",e),this.incentiveRulesSubject.next([...this.incentiveRulesSubject.value,e]),console.log("[DummyDataService] Rule added successfully, total rules:",this.incentiveRulesSubject.value.length)}updateIncentiveRule(e,t){console.log("[DummyDataService] updateIncentiveRule() called for rule:",e,"with updates:",t);const d=this.incentiveRulesSubject.value.map(u=>u.id===e?{...u,...t}:u);this.incentiveRulesSubject.next(d),console.log("[DummyDataService] Rule updated successfully")}deleteIncentiveRule(e){console.log("[DummyDataService] deleteIncentiveRule() called for rule:",e);const c=this.incentiveRulesSubject.value.filter(d=>d.id!==e);this.incentiveRulesSubject.next(c),console.log("[DummyDataService] Rule deleted successfully, remaining rules:",this.incentiveRulesSubject.value.length)}static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275prov=v.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var A=g(467),X=g(1913);let H=(()=>{class l{constructor(){this.mfeConfigs=[],this.loadedMfesSubject=new S.BehaviorSubject(new Set),this.loadedMfes$=this.loadedMfesSubject.asObservable(),this.loadingMfesSubject=new S.BehaviorSubject(new Set),this.loadingMfes$=this.loadingMfesSubject.asObservable(),console.log("[MfeLoaderService] Service initialized")}setConfigs(e){console.log("[MfeLoaderService] setConfigs() called with",e.length,"configurations"),this.mfeConfigs=e.sort((t,c)=>c.priority-t.priority),console.log("[MfeLoaderService] Configurations sorted by priority:",this.mfeConfigs.map(t=>({name:t.name,priority:t.priority})))}getConfigs(){return console.log("[MfeLoaderService] getConfigs() called, returning",this.mfeConfigs.length,"configurations"),this.mfeConfigs}getConfigsForRole(e){console.log("[MfeLoaderService] getConfigsForRole() called for role:",e);const t=this.mfeConfigs.filter(c=>c.allowedRoles.includes(e));return console.log("[MfeLoaderService] Found",t.length,"configurations for role:",e,t.map(c=>c.name)),t}getConfigByName(e){console.log("[MfeLoaderService] getConfigByName() called for:",e);const t=this.mfeConfigs.find(c=>c.name===e);return t?console.log("[MfeLoaderService] Found configuration for:",e):console.warn("[MfeLoaderService] Configuration not found for:",e),t}preloadPriorityMfes(e){var t=this;return(0,A.A)(function*(){console.log("[MfeLoaderService] preloadPriorityMfes() called for role:",e);const d=t.getConfigsForRole(e).filter(h=>h.priority>=5);console.log("[MfeLoaderService] Preloading",d.length,"priority MFEs:",d.map(h=>({name:h.name,priority:h.priority})));const u=d.map(h=>t.loadMfe(h));yield Promise.all(u),console.log("[MfeLoaderService] Preloading complete")})()}loadMfe(e){var t=this;return(0,A.A)(function*(){const c=t.loadingMfesSubject.value,d=t.loadedMfesSubject.value;if(d.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} already loaded`);else if(c.has(e.name))console.log(`[MfeLoaderService] MFE ${e.name} is already loading`);else try{const u=new Set(c);u.add(e.name),t.loadingMfesSubject.next(u),console.log(`[MfeLoaderService] Loading MFE ${e.name} (priority: ${e.priority})`),console.log("[MfeLoaderService] MFE config:",{name:e.name,url:e.url,exposedModule:e.exposedModule,remoteName:e.remoteName});const h=yield(0,X.loadRemoteModule)({type:"module",remoteEntry:e.url,exposedModule:e.exposedModule}),_=new Set(d);_.add(e.name),t.loadedMfesSubject.next(_);const U=new Set(t.loadingMfesSubject.value);return U.delete(e.name),t.loadingMfesSubject.next(U),console.log(`[MfeLoaderService] Successfully loaded MFE ${e.name}`),console.log("[MfeLoaderService] Currently loaded MFEs:",Array.from(t.loadedMfesSubject.value)),h}catch(u){console.error(`[MfeLoaderService] Error loading MFE ${e.name}:`,u),console.error("[MfeLoaderService] Failed config:",{name:e.name,url:e.url,exposedModule:e.exposedModule});const h=new Set(t.loadingMfesSubject.value);throw h.delete(e.name),t.loadingMfesSubject.next(h),u}})()}isMfeLoaded(e){const t=this.loadedMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoaded(${e}):`,t),t}isMfeLoading(e){const t=this.loadingMfesSubject.value.has(e);return console.log(`[MfeLoaderService] isMfeLoading(${e}):`,t),t}static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275prov=v.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var V=g(7555),W=g.n(V);let J=(()=>{class l{constructor(){this.emitter=W()(),console.log("[EventBusService] Service initialized");const e=new Event("EventBusServiceCreated");this.onePlusNEvents=new S.ReplaySubject(100),this.onePlusNEvents.next(e.type),this.emitter.on("*",t=>{console.log("[EventBusService] Event received and forwarded to ReplaySubject:",t),this.onePlusNEvents.next(t)}),console.log("[EventBusService] Event listener registered for all events")}sendEvent(e){console.log("[EventBusService] sendEvent() called with:",e),this.emitter.emit(e),console.log("[EventBusService] Event emitted successfully")}static{this.\u0275fac=function(t){return new(t||l)}}static{this.\u0275prov=v.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var G=g(6883);let Y=(()=>{class l{constructor(e){this.zone=e}listen(){const e=new EventSource("https://stream.wikimedia.org/v2/stream/recentchange");return(0,S.fromEvent)(e,"message").pipe((0,G.map)(t=>{let c;return this.zone.run(()=>c=t.data),c}))}static{this.\u0275fac=function(t){return new(t||l)(v.\u0275\u0275inject(v.NgZone))}}static{this.\u0275prov=v.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),K=(()=>{class l{constructor(e){this.zone=e}start(e){this.eventSource=new EventSource(e);const t=this.eventSource;return new S.Observable(c=>{const d=(0,S.fromEvent)(t,"message").subscribe(u=>{this.zone.run(()=>c.next(u.data))});return t.onerror=u=>{this.zone.run(()=>c.error(u))},()=>{d.unsubscribe(),t.close()}})}stop(){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0)}static{this.\u0275fac=function(t){return new(t||l)(v.\u0275\u0275inject(v.NgZone))}}static{this.\u0275prov=v.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const N={baseUrl:"https://tmzuktmjy7.execute-api.us-east-1.amazonaws.com"};var $=g(8072);let Z=(()=>{class l{constructor(e){this.http=e,this.profileSubject=new S.BehaviorSubject(null),this.profile$=this.profileSubject.asObservable(),console.log("[UserProfileService] Service initialized")}fetchUserProfile(){return console.log("[UserProfileService] Fetching user profile from API"),N&&N.baseUrl?this.http.get(`${N.baseUrl}/auth/me`).pipe((0,G.map)(e=>e.success&&e.data?(console.log("[UserProfileService] Profile loaded successfully"),this.profileSubject.next(e.data),e.data):null),(0,G.catchError)(e=>(console.error("[UserProfileService] Error fetching profile:",e),this.profileSubject.next(null),(0,S.of)(null)))):(console.error("[UserProfileService] API_CONFIG or baseUrl is not defined"),(0,S.of)(null))}getCurrentProfile(){return this.profileSubject.value}getPrimaryOrganization(){return this.profileSubject.value?.organizations?.[0]||null}getPrimaryRole(){return this.profileSubject.value?.roles?.[0]||null}getRoleName(){return this.getPrimaryRole()?.name||null}getOrganizationDisplayName(){return this.getPrimaryOrganization()?.displayName||null}clearProfile(){this.profileSubject.next(null)}static{this.\u0275fac=function(t){return new(t||l)(v.\u0275\u0275inject($.HttpClient))}}static{this.\u0275prov=v.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var q=g(7544);const Q=(l,C)=>{const t=(0,v.inject)(q.AuthService).getTokenSync();return!t||ee(l.url)?C(l):C(l.clone({setHeaders:{Authorization:`Bearer ${t}`}}))},ee=l=>{try{if(N&&"object"==typeof N&&N.baseUrl&&l.startsWith(N.baseUrl))return!1}catch(e){console.warn("[authInterceptor] API_CONFIG not available, using pattern-based auth endpoint detection",e)}return["/oauth","auth0.com","/authorize","/token"].some(e=>l.includes(e))}},5766:(ne,O,g)=>{g.r(O),g.d(O,{getManifest:()=>N,initFederation:()=>$,loadManifest:()=>q,loadRemoteEntry:()=>I,loadRemoteModule:()=>J,setManifest:()=>Y});var v=g(467);let x={};const M={},S={};let f=!1;function L(){return(L=(0,v.A)(function*(e,t){return(yield M[e].get(t))()})).apply(this,arguments)}function w(e,t){return j.apply(this,arguments)}function j(){return(j=(0,v.A)(function*(e,t){return S[t]||(f||(yield g.I("default"),f=!0),yield e.init(g.S.default),S[t]=!0),e})).apply(this,arguments)}function I(e,t){return A.apply(this,arguments)}function A(){return A=(0,v.A)(function*(e,t){if("string"==typeof e)return yield V(e,t);if("script"===e.type){const c=e;return yield V(c.remoteEntry,c.remoteName)}"module"===e.type&&(yield function X(e){return H.apply(this,arguments)}(e.remoteEntry))}),A.apply(this,arguments)}function H(){return(H=(0,v.A)(function*(e){return M[e]?Promise.resolve():yield import(e).then(t=>{w(t,e),M[e]=t})})).apply(this,arguments)}function V(e,t){return W.apply(this,arguments)}function W(){return(W=(0,v.A)(function*(e,t){return new Promise((c,d)=>{if(M[t])return void c();const u=document.createElement("script");u.src=e,u.onerror=d,u.onload=()=>{const h=window[t];w(h,t),M[t]=h,c()},document.body.appendChild(u)})})).apply(this,arguments)}function J(e,t){return G.apply(this,arguments)}function G(){return G=(0,v.A)(function*(e,t){let c,d,u,h;if(h="string"==typeof e?{type:"manifest",remoteName:e,exposedModule:t}:e,!h.type){const _=Object.keys(x).length>0;h.type=_?"manifest":"script"}if("manifest"===h.type){const _=x[h.remoteName];if(!_)throw new Error("Manifest does not contain "+h.remoteName);h={type:_.type,exposedModule:h.exposedModule,remoteEntry:_.remoteEntry,remoteName:"script"===_.type?h.remoteName:void 0},u=_.remoteEntry}else u=h.remoteEntry;return"script"===h.type?(c={type:"script",remoteEntry:h.remoteEntry,remoteName:h.remoteName},d=h.remoteName):"module"===h.type&&(c={type:"module",remoteEntry:h.remoteEntry},d=h.remoteEntry),u&&(yield I(c)),yield function F(e,t){return L.apply(this,arguments)}(d,h.exposedModule)}),G.apply(this,arguments)}function Y(e){return K.apply(this,arguments)}function K(){return(K=(0,v.A)(function*(e,t=!1){x=ee(e),t||(yield l())})).apply(this,arguments)}function N(){return x}function $(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,v.A)(function*(e,t=!1){return"string"==typeof e?q(e,t):Y(e,t)})).apply(this,arguments)}function q(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,v.A)(function*(e,t=!1){const c=yield fetch(e);if(!c.ok)throw Error("could not load configFile: "+e);x=ee(yield c.json()),t||(yield l())})).apply(this,arguments)}function ee(e){const t={};for(const c in e){const d=e[c];let u;u="string"==typeof d?{remoteEntry:d,type:"module"}:{...d,type:d.type||"module"},t[c]=u}return t}function l(){return C.apply(this,arguments)}function C(){return(C=(0,v.A)(function*(){const e=[];for(const t in x){const c=x[t];e.push(I("module"===c.type?{type:"module",remoteEntry:c.remoteEntry}:{type:"script",remoteEntry:c.remoteEntry,remoteName:t}))}yield Promise.all(e)})).apply(this,arguments)}},467:(ne,O,g)=>{function v(M,S,f,F,L,w,j){try{var I=M[w](j),A=I.value}catch(X){return void f(X)}I.done?S(A):Promise.resolve(A).then(F,L)}function x(M){return function(){var S=this,f=arguments;return new Promise(function(F,L){var w=M.apply(S,f);function j(A){v(w,F,L,j,I,"next",A)}function I(A){v(w,F,L,j,I,"throw",A)}j(void 0)})}}g.d(O,{A:()=>x})},1635:(ne,O,g)=>{g.r(O),g.d(O,{__addDisposableResource:()=>h,__assign:()=>M,__asyncDelegator:()=>q,__asyncGenerator:()=>Z,__asyncValues:()=>Q,__await:()=>$,__awaiter:()=>X,__classPrivateFieldGet:()=>c,__classPrivateFieldIn:()=>u,__classPrivateFieldSet:()=>d,__createBinding:()=>V,__decorate:()=>f,__disposeResources:()=>U,__esDecorate:()=>L,__exportStar:()=>W,__extends:()=>x,__generator:()=>H,__importDefault:()=>t,__importStar:()=>e,__makeTemplateObject:()=>ee,__metadata:()=>A,__param:()=>F,__propKey:()=>j,__read:()=>G,__rest:()=>S,__rewriteRelativeImportExtension:()=>R,__runInitializers:()=>w,__setFunctionName:()=>I,__spread:()=>Y,__spreadArray:()=>N,__spreadArrays:()=>K,__values:()=>J,default:()=>z});var v=function(r,n){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])})(r,n)};function x(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=r}v(r,n),r.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}var M=function(){return M=Object.assign||function(n){for(var s,o=1,i=arguments.length;o<i;o++)for(var a in s=arguments[o])Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a]);return n},M.apply(this,arguments)};function S(r,n){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.indexOf(o)<0&&(s[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(r);i<o.length;i++)n.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(r,o[i])&&(s[o[i]]=r[o[i]])}return s}function f(r,n,s,o){var m,i=arguments.length,a=i<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,s):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,n,s,o);else for(var y=r.length-1;y>=0;y--)(m=r[y])&&(a=(i<3?m(a):i>3?m(n,s,a):m(n,s))||a);return i>3&&a&&Object.defineProperty(n,s,a),a}function F(r,n){return function(s,o){n(s,o,r)}}function L(r,n,s,o,i,a){function m(te){if(void 0!==te&&"function"!=typeof te)throw new TypeError("Function expected");return te}for(var D,y=o.kind,P="getter"===y?"get":"setter"===y?"set":"value",p=!n&&r?o.static?r:r.prototype:null,b=n||(p?Object.getOwnPropertyDescriptor(p,o.name):{}),re=!1,E=s.length-1;E>=0;E--){var T={};for(var B in o)T[B]="access"===B?{}:o[B];for(var B in o.access)T.access[B]=o.access[B];T.addInitializer=function(te){if(re)throw new TypeError("Cannot add initializers after decoration has completed");a.push(m(te||null))};var k=(0,s[E])("accessor"===y?{get:b.get,set:b.set}:b[P],T);if("accessor"===y){if(void 0===k)continue;if(null===k||"object"!=typeof k)throw new TypeError("Object expected");(D=m(k.get))&&(b.get=D),(D=m(k.set))&&(b.set=D),(D=m(k.init))&&i.unshift(D)}else(D=m(k))&&("field"===y?i.unshift(D):b[P]=D)}p&&Object.defineProperty(p,o.name,b),re=!0}function w(r,n,s){for(var o=arguments.length>2,i=0;i<n.length;i++)s=o?n[i].call(r,s):n[i].call(r);return o?s:void 0}function j(r){return"symbol"==typeof r?r:"".concat(r)}function I(r,n,s){return"symbol"==typeof n&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:s?"".concat(s," ",n):n})}function A(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)}function X(r,n,s,o){return new(s||(s=Promise))(function(a,m){function y(b){try{p(o.next(b))}catch(D){m(D)}}function P(b){try{p(o.throw(b))}catch(D){m(D)}}function p(b){b.done?a(b.value):function i(a){return a instanceof s?a:new s(function(m){m(a)})}(b.value).then(y,P)}p((o=o.apply(r,n||[])).next())})}function H(r,n){var o,i,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},m=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return m.next=y(0),m.throw=y(1),m.return=y(2),"function"==typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m;function y(p){return function(b){return function P(p){if(o)throw new TypeError("Generator is already executing.");for(;m&&(m=0,p[0]&&(s=0)),s;)try{if(o=1,i&&(a=2&p[0]?i.return:p[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,p[1])).done)return a;switch(i=0,a&&(p=[2&p[0],a.value]),p[0]){case 0:case 1:a=p;break;case 4:return s.label++,{value:p[1],done:!1};case 5:s.label++,i=p[1],p=[0];continue;case 7:p=s.ops.pop(),s.trys.pop();continue;default:if(!(a=(a=s.trys).length>0&&a[a.length-1])&&(6===p[0]||2===p[0])){s=0;continue}if(3===p[0]&&(!a||p[1]>a[0]&&p[1]<a[3])){s.label=p[1];break}if(6===p[0]&&s.label<a[1]){s.label=a[1],a=p;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(p);break}a[2]&&s.ops.pop(),s.trys.pop();continue}p=n.call(r,s)}catch(b){p=[6,b],i=0}finally{o=a=0}if(5&p[0])throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}([p,b])}}}var V=Object.create?function(r,n,s,o){void 0===o&&(o=s);var i=Object.getOwnPropertyDescriptor(n,s);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[s]}}),Object.defineProperty(r,o,i)}:function(r,n,s,o){void 0===o&&(o=s),r[o]=n[s]};function W(r,n){for(var s in r)"default"!==s&&!Object.prototype.hasOwnProperty.call(n,s)&&V(n,r,s)}function J(r){var n="function"==typeof Symbol&&Symbol.iterator,s=n&&r[n],o=0;if(s)return s.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(r,n){var s="function"==typeof Symbol&&r[Symbol.iterator];if(!s)return r;var i,m,o=s.call(r),a=[];try{for(;(void 0===n||n-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(y){m={error:y}}finally{try{i&&!i.done&&(s=o.return)&&s.call(o)}finally{if(m)throw m.error}}return a}function Y(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(G(arguments[n]));return r}function K(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;var o=Array(r),i=0;for(n=0;n<s;n++)for(var a=arguments[n],m=0,y=a.length;m<y;m++,i++)o[i]=a[m];return o}function N(r,n,s){if(s||2===arguments.length)for(var a,o=0,i=n.length;o<i;o++)(a||!(o in n))&&(a||(a=Array.prototype.slice.call(n,0,o)),a[o]=n[o]);return r.concat(a||Array.prototype.slice.call(n))}function $(r){return this instanceof $?(this.v=r,this):new $(r)}function Z(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,o=s.apply(r,n||[]),a=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),y("next"),y("throw"),y("return",function m(E){return function(T){return Promise.resolve(T).then(E,D)}}),i[Symbol.asyncIterator]=function(){return this},i;function y(E,T){o[E]&&(i[E]=function(B){return new Promise(function(k,te){a.push([E,B,k,te])>1||P(E,B)})},T&&(i[E]=T(i[E])))}function P(E,T){try{!function p(E){E.value instanceof $?Promise.resolve(E.value.v).then(b,D):re(a[0][2],E)}(o[E](T))}catch(B){re(a[0][3],B)}}function b(E){P("next",E)}function D(E){P("throw",E)}function re(E,T){E(T),a.shift(),a.length&&P(a[0][0],a[0][1])}}function q(r){var n,s;return n={},o("next"),o("throw",function(i){throw i}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(i,a){n[i]=r[i]?function(m){return(s=!s)?{value:$(r[i](m)),done:!1}:a?a(m):m}:a}}function Q(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=r[Symbol.asyncIterator];return n?n.call(r):(r=J(r),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(a){s[a]=r[a]&&function(m){return new Promise(function(y,P){!function i(a,m,y,P){Promise.resolve(P).then(function(p){a({value:p,done:y})},m)}(y,P,(m=r[a](m)).done,m.value)})}}}function ee(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r}var l=Object.create?function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}:function(r,n){r.default=n},C=function(r){return(C=Object.getOwnPropertyNames||function(n){var s=[];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[s.length]=o);return s})(r)};function e(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var s=C(r),o=0;o<s.length;o++)"default"!==s[o]&&V(n,r,s[o]);return l(n,r),n}function t(r){return r&&r.__esModule?r:{default:r}}function c(r,n,s,o){if("a"===s&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===s?o:"a"===s?o.call(r):o?o.value:n.get(r)}function d(r,n,s,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?r!==n||!i:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(r,s):i?i.value=s:n.set(r,s),s}function u(r,n){if(null===n||"object"!=typeof n&&"function"!=typeof n)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof r?n===r:r.has(n)}function h(r,n,s){if(null!=n){if("object"!=typeof n&&"function"!=typeof n)throw new TypeError("Object expected.");var o,i;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=n[Symbol.asyncDispose]}if(void 0===o){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=n[Symbol.dispose],s&&(i=o)}if("function"!=typeof o)throw new TypeError("Object not disposable.");i&&(o=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),r.stack.push({value:n,dispose:o,async:s})}else s&&r.stack.push({async:!0});return n}var _="function"==typeof SuppressedError?SuppressedError:function(r,n,s){var o=new Error(s);return o.name="SuppressedError",o.error=r,o.suppressed=n,o};function U(r){function n(a){r.error=r.hasError?new _(a,r.error,"An error was suppressed during disposal."):a,r.hasError=!0}var s,o=0;return function i(){for(;s=r.stack.pop();)try{if(!s.async&&1===o)return o=0,r.stack.push(s),Promise.resolve().then(i);if(s.dispose){var a=s.dispose.call(s.value);if(s.async)return o|=2,Promise.resolve(a).then(i,function(m){return n(m),i()})}else o|=1}catch(m){n(m)}if(1===o)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}()}function R(r,n){return"string"==typeof r&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,o,i,a,m){return o?n?".jsx":".js":!i||a&&m?i+a+"."+m.toLowerCase()+"js":s}):r}const z={__extends:x,__assign:M,__rest:S,__decorate:f,__param:F,__esDecorate:L,__runInitializers:w,__propKey:j,__setFunctionName:I,__metadata:A,__awaiter:X,__generator:H,__createBinding:V,__exportStar:W,__values:J,__read:G,__spread:Y,__spreadArrays:K,__spreadArray:N,__await:$,__asyncGenerator:Z,__asyncDelegator:q,__asyncValues:Q,__makeTemplateObject:ee,__importStar:e,__importDefault:t,__classPrivateFieldGet:c,__classPrivateFieldSet:d,__classPrivateFieldIn:u,__addDisposableResource:h,__disposeResources:U,__rewriteRelativeImportExtension:R}}}]);