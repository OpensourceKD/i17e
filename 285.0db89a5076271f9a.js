(self.webpackChunkshell=self.webpackChunkshell||[]).push([[285,666],{1913:(ot,le,x)=>{Object.defineProperty(le,"__esModule",{value:!0}),x(1635).__exportStar(x(5766),le)},8666:(ot,le,x)=>{x.r(le),x.d(le,{API_CONFIG:()=>Gr,AUTH0_CONFIG:()=>Bn,AuthService:()=>lu,CoreServicesComponent:()=>Df,CoreServicesService:()=>F,DummyDataService:()=>Ef,EventBusService:()=>xl,MfeLoaderService:()=>fu,ProductCategory:()=>gs,RoleService:()=>du,STORAGE_CONFIG:()=>xo,STORAGE_KEYS:()=>zr,SalesStatus:()=>Oi,SseControlService:()=>ho,SseFromEventService:()=>Ks,UserProfileService:()=>Za,UserRole:()=>ct,authInterceptor:()=>gu,getStorage:()=>Ws,getStorageItem:()=>En,hasRequiredRole:()=>Ka,removeStorageItem:()=>Wr,setStorageItem:()=>Wa});var C=x(4438);let F=(()=>{class u{constructor(){}static{this.\u0275fac=function(l){return new(l||u)}}static{this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var A=x(467),ne=x(4412);function W(u,a){var s={};for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&a.indexOf(l)<0&&(s[l]=u[l]);if(null!=u&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(l=Object.getOwnPropertySymbols(u);p<l.length;p++)a.indexOf(l[p])<0&&Object.prototype.propertyIsEnumerable.call(u,l[p])&&(s[l[p]]=u[l[p]])}return s}"function"==typeof SuppressedError&&SuppressedError;var Z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge={},Re={};Object.defineProperty(Re,"__esModule",{value:!0});var be=function(){function u(){var a=this;this.locked=new Map,this.addToLocked=function(s,l){var p=a.locked.get(s);void 0===p?a.locked.set(s,void 0===l?[]:[l]):void 0!==l&&(p.unshift(l),a.locked.set(s,p))},this.isLocked=function(s){return a.locked.has(s)},this.lock=function(s){return new Promise(function(l,p){a.isLocked(s)?a.addToLocked(s,l):(a.addToLocked(s),l())})},this.unlock=function(s){var l=a.locked.get(s);if(void 0!==l&&0!==l.length){var p=l.pop();a.locked.set(s,l),void 0!==p&&setTimeout(p,0)}else a.locked.delete(s)}}return u.getInstance=function(){return void 0===u.instance&&(u.instance=new u),u.instance},u}();Re.default=function(){return be.getInstance()};var Q=Z&&Z.__awaiter||function(u,a,s,l){return new(s||(s=Promise))(function(p,v){function y(P){try{S(l.next(P))}catch(T){v(T)}}function E(P){try{S(l.throw(P))}catch(T){v(T)}}function S(P){P.done?p(P.value):new s(function(T){T(P.value)}).then(y,E)}S((l=l.apply(u,a||[])).next())})},B=Z&&Z.__generator||function(u,a){var s,l,p,v,y={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return v={next:E(0),throw:E(1),return:E(2)},"function"==typeof Symbol&&(v[Symbol.iterator]=function(){return this}),v;function E(S){return function(P){return function(T){if(s)throw new TypeError("Generator is already executing.");for(;y;)try{if(s=1,l&&(p=2&T[0]?l.return:T[0]?l.throw||((p=l.return)&&p.call(l),0):l.next)&&!(p=p.call(l,T[1])).done)return p;switch(l=0,p&&(T=[2&T[0],p.value]),T[0]){case 0:case 1:p=T;break;case 4:return y.label++,{value:T[1],done:!1};case 5:y.label++,l=T[1],T=[0];continue;case 7:T=y.ops.pop(),y.trys.pop();continue;default:if(!((p=(p=y.trys).length>0&&p[p.length-1])||6!==T[0]&&2!==T[0])){y=0;continue}if(3===T[0]&&(!p||T[1]>p[0]&&T[1]<p[3])){y.label=T[1];break}if(6===T[0]&&y.label<p[1]){y.label=p[1],p=T;break}if(p&&y.label<p[2]){y.label=p[2],y.ops.push(T);break}p[2]&&y.ops.pop(),y.trys.pop();continue}T=a.call(u,y)}catch(j){T=[6,j],l=0}finally{s=p=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([S,P])}}},fe=Z;Object.defineProperty(ge,"__esModule",{value:!0});var ze=Re,Ie={key:function(u){return Q(fe,void 0,void 0,function(){return B(this,function(a){throw new Error("Unsupported")})})},getItem:function(u){return Q(fe,void 0,void 0,function(){return B(this,function(a){throw new Error("Unsupported")})})},clear:function(){return Q(fe,void 0,void 0,function(){return B(this,function(u){return[2,window.localStorage.clear()]})})},removeItem:function(u){return Q(fe,void 0,void 0,function(){return B(this,function(a){throw new Error("Unsupported")})})},setItem:function(u,a){return Q(fe,void 0,void 0,function(){return B(this,function(s){throw new Error("Unsupported")})})},keySync:function(u){return window.localStorage.key(u)},getItemSync:function(u){return window.localStorage.getItem(u)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(u){return window.localStorage.removeItem(u)},setItemSync:function(u,a){return window.localStorage.setItem(u,a)}};function Xe(u){return new Promise(function(a){return setTimeout(a,u)})}function Tt(u){for(var s="",l=0;l<u;l++)s+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"[Math.floor(61*Math.random())];return s}var mt=function(){function u(a){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+Tt(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=a,void 0===u.waiters&&(u.waiters=[])}return u.prototype.acquireLock=function(a,s){return void 0===s&&(s=5e3),Q(this,void 0,void 0,function(){var l,p,v,y,E,S,P;return B(this,function(T){switch(T.label){case 0:l=Date.now()+Tt(4),p=Date.now()+s,v="browser-tabs-lock-key-"+a,y=void 0===this.storageHandler?Ie:this.storageHandler,T.label=1;case 1:return Date.now()<p?[4,Xe(30)]:[3,8];case 2:return T.sent(),null!==y.getItemSync(v)?[3,5]:(E=this.id+"-"+a+"-"+l,[4,Xe(Math.floor(25*Math.random()))]);case 3:return T.sent(),y.setItemSync(v,JSON.stringify({id:this.id,iat:l,timeoutKey:E,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,Xe(30)];case 4:return T.sent(),null!==(S=y.getItemSync(v))&&(P=JSON.parse(S)).id===this.id&&P.iat===l?(this.acquiredIatSet.add(l),this.refreshLockWhileAcquired(v,l),[2,!0]):[3,7];case 5:return u.lockCorrector(void 0===this.storageHandler?Ie:this.storageHandler),[4,this.waitForSomethingToChange(p)];case 6:T.sent(),T.label=7;case 7:return l=Date.now()+Tt(4),[3,1];case 8:return[2,!1]}})})},u.prototype.refreshLockWhileAcquired=function(a,s){return Q(this,void 0,void 0,function(){var l=this;return B(this,function(p){return setTimeout(function(){return Q(l,void 0,void 0,function(){var v,y,E;return B(this,function(S){switch(S.label){case 0:return[4,ze.default().lock(s)];case 1:return S.sent(),this.acquiredIatSet.has(s)?null===(y=(v=void 0===this.storageHandler?Ie:this.storageHandler).getItemSync(a))?(ze.default().unlock(s),[2]):((E=JSON.parse(y)).timeRefreshed=Date.now(),v.setItemSync(a,JSON.stringify(E)),ze.default().unlock(s),this.refreshLockWhileAcquired(a,s),[2]):(ze.default().unlock(s),[2])}})})},1e3),[2]})})},u.prototype.waitForSomethingToChange=function(a){return Q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,new Promise(function(l){var p=!1,v=Date.now(),y=!1;function E(){if(y||(window.removeEventListener("storage",E),u.removeFromWaiting(E),clearTimeout(S),y=!0),!p){p=!0;var P=50-(Date.now()-v);P>0?setTimeout(l,P):l(null)}}window.addEventListener("storage",E),u.addToWaiting(E);var S=setTimeout(E,Math.max(0,a-Date.now()))})];case 1:return s.sent(),[2]}})})},u.addToWaiting=function(a){this.removeFromWaiting(a),void 0!==u.waiters&&u.waiters.push(a)},u.removeFromWaiting=function(a){void 0!==u.waiters&&(u.waiters=u.waiters.filter(function(s){return s!==a}))},u.notifyWaiters=function(){void 0!==u.waiters&&u.waiters.slice().forEach(function(a){return a()})},u.prototype.releaseLock=function(a){return Q(this,void 0,void 0,function(){return B(this,function(s){switch(s.label){case 0:return[4,this.releaseLock__private__(a)];case 1:return[2,s.sent()]}})})},u.prototype.releaseLock__private__=function(a){return Q(this,void 0,void 0,function(){var s,l,p,v;return B(this,function(y){switch(y.label){case 0:return null===(p=(s=void 0===this.storageHandler?Ie:this.storageHandler).getItemSync(l="browser-tabs-lock-key-"+a))?[2]:(v=JSON.parse(p)).id!==this.id?[3,2]:[4,ze.default().lock(v.iat)];case 1:y.sent(),this.acquiredIatSet.delete(v.iat),s.removeItemSync(l),ze.default().unlock(v.iat),u.notifyWaiters(),y.label=2;case 2:return[2]}})})},u.lockCorrector=function(a){for(var s=Date.now()-5e3,l=a,p=[],v=0;;){var y=l.keySync(v);if(null===y)break;p.push(y),v++}for(var E=!1,S=0;S<p.length;S++){var P=p[S];if(P.includes("browser-tabs-lock-key")){var T=l.getItemSync(P);if(null!==T){var j=JSON.parse(T);(void 0===j.timeRefreshed&&j.timeAcquired<s||void 0!==j.timeRefreshed&&j.timeRefreshed<s)&&(l.removeItemSync(P),E=!0)}}}E&&u.notifyWaiters()},u.waiters=void 0,u}(),It=ge.default=mt;const Ht={timeoutInSeconds:60},Qt={name:"auth0-spa-js",version:"2.12.0"},Ne=()=>Date.now();class se extends Error{constructor(a,s){super(s),this.error=a,this.error_description=s,Object.setPrototypeOf(this,se.prototype)}static fromPayload(a){let{error:s,error_description:l}=a;return new se(s,l)}}class Ve extends se{constructor(a,s,l){let p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(a,s),this.state=l,this.appState=p,Object.setPrototypeOf(this,Ve.prototype)}}class it extends se{constructor(a,s,l,p){let v=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(a,s),this.connection=l,this.state=p,this.appState=v,Object.setPrototypeOf(this,it.prototype)}}class Le extends se{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Le.prototype)}}class Te extends Le{constructor(a){super(),this.popup=a,Object.setPrototypeOf(this,Te.prototype)}}class je extends se{constructor(a){super("cancelled","Popup closed"),this.popup=a,Object.setPrototypeOf(this,je.prototype)}}class de extends se{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,de.prototype)}}class xe extends se{constructor(a,s,l){super(a,s),this.mfa_token=l,Object.setPrototypeOf(this,xe.prototype)}}class st extends se{constructor(a,s){super("missing_refresh_token","Missing Refresh Token (audience: '".concat(Et(a,["default"]),"', scope: '").concat(Et(s),"')")),this.audience=a,this.scope=s,Object.setPrototypeOf(this,st.prototype)}}class Ft extends se{constructor(a,s){super("missing_scopes","Missing requested scopes after refresh (audience: '".concat(Et(a,["default"]),"', missing scope: '").concat(Et(s),"')")),this.audience=a,this.scope=s,Object.setPrototypeOf(this,Ft.prototype)}}class Gt extends se{constructor(a){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=a,Object.setPrototypeOf(this,Gt.prototype)}}function Et(u){return u&&!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).includes(u)?u:""}const en=()=>window.crypto,Ln=()=>{let a="";return Array.from(en().getRandomValues(new Uint8Array(43))).forEach(s=>a+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~."[s%66]),a},ar=u=>btoa(u),Hi=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],U=u=>Object.keys(u).reduce((a,s)=>{const l=Hi.find(p=>p.key===s);return l&&l.type.includes(typeof u[s])&&(a[s]=u[s]),a},{}),H=u=>{var l,{clientId:a}=u,s=W(u,["clientId"]);return new URLSearchParams((l=Object.assign({client_id:a},s),Object.keys(l).filter(p=>void 0!==l[p]).reduce((p,v)=>Object.assign(Object.assign({},p),{[v]:l[v]}),{}))).toString()},G=function(){var u=(0,A.A)(function*(a){return yield en().subtle.digest({name:"SHA-256"},(new TextEncoder).encode(a))});return function(s){return u.apply(this,arguments)}}(),z=u=>{return a=u.replace(/_/g,"/").replace(/-/g,"+"),decodeURIComponent(atob(a).split("").map(s=>"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)).join(""));var a},he=u=>{const a=new Uint8Array(u);return(s=>{const l={"+":"-","/":"_","=":""};return s.replace(/[+/=]/g,p=>l[p])})(window.btoa(String.fromCharCode(...Array.from(a))))},pe=new TextEncoder,Ke=new TextDecoder;function At(u){return"string"==typeof u?pe.encode(u):Ke.decode(u)}function tn(u){if("number"!=typeof u.modulusLength||u.modulusLength<2048)throw new Nt(`${u.name} modulusLength must be at least 2048 bits`)}function Vt(){return(Vt=(0,A.A)(function*(u,a,s){if(!1===s.usages.includes("sign"))throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const l=`${Fn(At(JSON.stringify(u)))}.${Fn(At(JSON.stringify(a)))}`;return`${l}.${Fn(yield crypto.subtle.sign(function(p){switch(p.algorithm.name){case"ECDSA":return{name:p.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return tn(p.algorithm),{name:p.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return tn(p.algorithm),{name:p.algorithm.name};case"Ed25519":return{name:p.algorithm.name}}throw new Ct}(s),s,At(l)))}`})).apply(this,arguments)}let an;function Fn(u){return an(u)}an=Uint8Array.prototype.toBase64?u=>(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),u.toBase64({alphabet:"base64url",omitPadding:!0})):a=>{a instanceof ArrayBuffer&&(a=new Uint8Array(a));const s=[];for(let l=0;l<a.byteLength;l+=32768)s.push(String.fromCharCode.apply(null,a.subarray(l,l+32768)));return btoa(s.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};class Ct extends Error{constructor(a){var s;super(a??"operation not supported"),this.name=this.constructor.name,null===(s=Error.captureStackTrace)||void 0===s||s.call(Error,this,this.constructor)}}class Nt extends Error{constructor(a){var s;super(a),this.name=this.constructor.name,null===(s=Error.captureStackTrace)||void 0===s||s.call(Error,this,this.constructor)}}function bn(u){switch(u.algorithm.name){case"RSA-PSS":return function(a){if("SHA-256"===a.algorithm.hash.name)return"PS256";throw new Ct("unsupported RsaHashedKeyAlgorithm hash name")}(u);case"RSASSA-PKCS1-v1_5":return function(a){if("SHA-256"===a.algorithm.hash.name)return"RS256";throw new Ct("unsupported RsaHashedKeyAlgorithm hash name")}(u);case"ECDSA":return function(a){if("P-256"===a.algorithm.namedCurve)return"ES256";throw new Ct("unsupported EcKeyAlgorithm namedCurve")}(u);case"Ed25519":return"Ed25519";default:throw new Ct("unsupported CryptoKey algorithm name")}}function Nn(u){return u instanceof CryptoKey}function we(u){return Nn(u)&&"public"===u.type}function mo(){return mo=(0,A.A)(function*(u,a,s,l,p,v){const y=u?.privateKey,E=u?.publicKey;if(!Nn(S=y)||"private"!==S.type)throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var S;if(!we(E))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(!0!==E.extractable)throw new TypeError('"keypair.publicKey.extractable" must be true');if("string"!=typeof a)throw new TypeError('"htu" must be a string');if("string"!=typeof s)throw new TypeError('"htm" must be a string');if(void 0!==l&&"string"!=typeof l)throw new TypeError('"nonce" must be a string or undefined');if(void 0!==p&&"string"!=typeof p)throw new TypeError('"accessToken" must be a string or undefined');if(void 0!==v&&("object"!=typeof v||null===v||Array.isArray(v)))throw new TypeError('"additional" must be an object');return function Qe(u,a,s){return Vt.apply(this,arguments)}({alg:bn(y),typ:"dpop+jwt",jwk:yield Nr(E)},Object.assign(Object.assign({},v),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:s,nonce:l,htu:a,ath:p?Fn(yield crypto.subtle.digest("SHA-256",At(p))):void 0}),y)}),mo.apply(this,arguments)}function Nr(u){return bs.apply(this,arguments)}function bs(){return(bs=(0,A.A)(function*(u){const{kty:a,e:s,n:l,x:p,y:v,crv:y}=yield crypto.subtle.exportKey("jwk",u);return{kty:a,crv:y,e:s,n:l,x:p,y:v}})).apply(this,arguments)}const xr=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange"];const yr=function(){var u=(0,A.A)(function*(a,s){const l=yield fetch(a,s);return{ok:l.ok,json:yield l.json(),headers:(p=l.headers,[...p].reduce((v,y)=>{let[E,S]=y;return v[E]=S,v},{}))};var p});return function(s,l){return u.apply(this,arguments)}}(),xn=function(){var u=(0,A.A)(function*(a,s,l){const p=new AbortController;let v;return s.signal=p.signal,Promise.race([yr(a,s),new Promise((y,E)=>{v=setTimeout(()=>{p.abort(),E(new Error("Timeout when executing 'fetch'"))},l)})]).finally(()=>{clearTimeout(v)})});return function(s,l,p){return u.apply(this,arguments)}}(),vo=function(){var u=(0,A.A)(function*(a,s,l,p,v,y,E,S){return P={auth:{audience:s,scope:l},timeout:v,fetchUrl:a,fetchOptions:p,useFormData:E,useMrrt:S},T=y,new Promise(function(j,Y){const K=new MessageChannel;K.port1.onmessage=function(ae){ae.data.error?Y(new Error(ae.data.error)):j(ae.data),K.port1.close()},T.postMessage(P,[K.port2])});var P,T});return function(s,l,p,v,y,E,S,P){return u.apply(this,arguments)}}(),Rn=function(){var u=(0,A.A)(function*(a,s,l,p,v,y){let E=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e4;return v?vo(a,s,l,p,E,v,y,arguments.length>7?arguments[7]:void 0):xn(a,p,E)});return function(s,l,p,v,y,E){return u.apply(this,arguments)}}();function Rr(u,a,s,l,p,v,y,E,S,P){return cn.apply(this,arguments)}function cn(){return(cn=(0,A.A)(function*(u,a,s,l,p,v,y,E,S,P){if(S){const Pe=yield S.generateProof({url:u,method:p.method||"GET",nonce:yield S.getNonce()});p.headers=Object.assign(Object.assign({},p.headers),{dpop:Pe})}let T,j=null;for(let Pe=0;Pe<3;Pe++)try{T=yield Rn(u,s,l,p,v,y,a,E),j=null;break}catch(Ge){j=Ge}if(j)throw j;const Y=T.json,{error:K,error_description:ae}=Y,te=W(Y,["error","error_description"]),{headers:oe,ok:ue}=T;let _e;if(S&&(_e=oe["dpop-nonce"],_e&&(yield S.setNonce(_e))),!ue){const Pe=ae||"HTTP error. Unable to fetch ".concat(u);if("mfa_required"===K)throw new xe(K,Pe,te.mfa_token);if("missing_refresh_token"===K)throw new st(s,l);if("use_dpop_nonce"===K){if(!S||!_e||P)throw new Gt(_e);return Rr(u,a,s,l,p,v,y,E,S,!0)}throw new se(K||"request_error",Pe)}return te})).apply(this,arguments)}function jt(){return(jt=(0,A.A)(function*(u,a){var{baseUrl:s,timeout:l,audience:p,scope:v,auth0Client:y,useFormData:E,useMrrt:S,dpop:P}=u,T=W(u,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const j="urn:ietf:params:oauth:grant-type:token-exchange"===T.grant_type,Y="refresh_token"===T.grant_type&&S,K=Object.assign(Object.assign(Object.assign(Object.assign({},T),j&&p&&{audience:p}),j&&v&&{scope:v}),Y&&{audience:p,scope:v}),ae=E?H(K):JSON.stringify(K),te=xr.includes(T.grant_type);return yield Rr("".concat(s,"/oauth/token"),l,p||"default",v,{method:"POST",body:ae,headers:{"Content-Type":E?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(U(y||Qt)))}},a,E,S,te?P:void 0)})).apply(this,arguments)}const yt=function(){for(var u=arguments.length,a=new Array(u),s=0;s<u;s++)a[s]=arguments[s];return(u=>Array.from(new Set(u)))(a.filter(Boolean).join(" ").trim().split(/\s+/)).join(" ")},Fo=(u,a,s)=>{let l;return s&&(l=u[s]),l||(l=u.default),yt(l,a)};class bt{constructor(a){let l=arguments.length>2?arguments[2]:void 0;this.prefix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@@auth0spajs@@",this.suffix=l,this.clientId=a.clientId,this.scope=a.scope,this.audience=a.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(a){const[s,l,p,v]=a.split("::");return new bt({clientId:l,scope:v,audience:p},s)}static fromCacheEntry(a){const{scope:s,audience:l,client_id:p}=a;return new bt({scope:s,audience:l,clientId:p})}}class di{set(a,s){localStorage.setItem(a,JSON.stringify(s))}get(a){const s=window.localStorage.getItem(a);if(s)try{return JSON.parse(s)}catch{return}}remove(a){localStorage.removeItem(a)}allKeys(){return Object.keys(window.localStorage).filter(a=>a.startsWith("@@auth0spajs@@"))}}class fi{constructor(){this.enclosedCache=function(){let a={};return{set(s,l){a[s]=l},get(s){const l=a[s];if(l)return l},remove(s){delete a[s]},allKeys:()=>Object.keys(a)}}()}}class jo{constructor(a,s,l){this.cache=a,this.keyManifest=s,this.nowProvider=l||Ne}setIdToken(a,s,l){var p=this;return(0,A.A)(function*(){var v;const y=p.getIdTokenCacheKey(a);yield p.cache.set(y,{id_token:s,decodedToken:l}),yield null===(v=p.keyManifest)||void 0===v?void 0:v.add(y)})()}getIdToken(a){var s=this;return(0,A.A)(function*(){const l=yield s.cache.get(s.getIdTokenCacheKey(a.clientId));if(!l&&a.scope&&a.audience){const p=yield s.get(a);return p&&p.id_token&&p.decodedToken?{id_token:p.id_token,decodedToken:p.decodedToken}:void 0}if(l)return{id_token:l.id_token,decodedToken:l.decodedToken}})()}get(a){var s=arguments,l=this;return(0,A.A)(function*(){let p=s.length>1&&void 0!==s[1]?s[1]:0,v=s.length>2&&void 0!==s[2]&&s[2],y=s.length>3?s[3]:void 0;var E;let S=yield l.cache.get(a.toKey());if(!S){const j=yield l.getCacheKeys();if(!j)return;const Y=l.matchExistingCacheKey(a,j);if(Y&&(S=yield l.cache.get(Y)),!S&&v&&"cache-only"!==y)return l.getEntryWithRefreshToken(a,j)}if(!S)return;const P=yield l.nowProvider(),T=Math.floor(P/1e3);return S.expiresAt-p<T?S.body.refresh_token?l.modifiedCachedEntry(S,a):(yield l.cache.remove(a.toKey()),void(yield null===(E=l.keyManifest)||void 0===E?void 0:E.remove(a.toKey()))):S.body})()}modifiedCachedEntry(a,s){var l=this;return(0,A.A)(function*(){return a.body={refresh_token:a.body.refresh_token,audience:a.body.audience,scope:a.body.scope},yield l.cache.set(s.toKey(),a),{refresh_token:a.body.refresh_token,audience:a.body.audience,scope:a.body.scope}})()}set(a){var s=this;return(0,A.A)(function*(){var l;const p=new bt({clientId:a.client_id,scope:a.scope,audience:a.audience}),v=yield s.wrapCacheEntry(a);yield s.cache.set(p.toKey(),v),yield null===(l=s.keyManifest)||void 0===l?void 0:l.add(p.toKey())})()}remove(a,s,l){var p=this;return(0,A.A)(function*(){const v=new bt({clientId:a,scope:l,audience:s});yield p.cache.remove(v.toKey())})()}clear(a){var s=this;return(0,A.A)(function*(){var l;const p=yield s.getCacheKeys();p&&(yield p.filter(v=>!a||v.includes(a)).reduce(function(){var v=(0,A.A)(function*(y,E){yield y,yield s.cache.remove(E)});return function(y,E){return v.apply(this,arguments)}}(),Promise.resolve()),yield null===(l=s.keyManifest)||void 0===l?void 0:l.clear())})()}wrapCacheEntry(a){var s=this;return(0,A.A)(function*(){const l=yield s.nowProvider();return{body:a,expiresAt:Math.floor(l/1e3)+a.expires_in}})()}getCacheKeys(){var a=this;return(0,A.A)(function*(){var s;return a.keyManifest?null===(s=yield a.keyManifest.get())||void 0===s?void 0:s.keys:a.cache.allKeys?a.cache.allKeys():void 0})()}getIdTokenCacheKey(a){return new bt({clientId:a},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(a,s){return s.filter(l=>{var p;const v=bt.fromKey(l),y=new Set(v.scope&&v.scope.split(" ")),E=(null===(p=a.scope)||void 0===p?void 0:p.split(" "))||[],S=v.scope&&E.reduce((P,T)=>P&&y.has(T),!0);return"@@auth0spajs@@"===v.prefix&&v.clientId===a.clientId&&v.audience===a.audience&&S})[0]}getEntryWithRefreshToken(a,s){var l=this;return(0,A.A)(function*(){var p;for(const v of s){const y=bt.fromKey(v);if("@@auth0spajs@@"===y.prefix&&y.clientId===a.clientId){const E=yield l.cache.get(v);if(null!==(p=E?.body)&&void 0!==p&&p.refresh_token)return l.modifiedCachedEntry(E,a)}}})()}updateEntry(a,s){var l=this;return(0,A.A)(function*(){var p;const v=yield l.getCacheKeys();if(v)for(const y of v){const E=yield l.cache.get(y);if((null===(p=E?.body)||void 0===p?void 0:p.refresh_token)===a){const S=Object.assign(Object.assign({},E.body),{refresh_token:s});yield l.set(S)}}})()}}class kr{constructor(a,s,l){this.storage=a,this.clientId=s,this.cookieDomain=l,this.storageKey="".concat("a0.spajs.txs",".").concat(this.clientId)}create(a){this.storage.save(this.storageKey,a,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const We=u=>"number"==typeof u,hi=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"];var Yn=Z&&Z.__assign||function(){return Yn=Object.assign||function(u){for(var a,s=1,l=arguments.length;s<l;s++)for(var p in a=arguments[s])Object.prototype.hasOwnProperty.call(a,p)&&(u[p]=a[p]);return u},Yn.apply(this,arguments)};function _o(u,a){if(!a)return"";var s="; "+u;return!0===a?s:s+"="+a}function la(u,a,s){document.cookie=function ca(u,a,s){return encodeURIComponent(u).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(a).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(l){if("number"==typeof l.expires){var p=new Date;p.setMilliseconds(p.getMilliseconds()+864e5*l.expires),l.expires=p}return _o("Expires",l.expires?l.expires.toUTCString():"")+_o("Domain",l.domain)+_o("Path",l.path)+_o("Secure",l.secure)+_o("SameSite",l.sameSite)}(s)}(u,a,Yn({path:"/"},s))}var Cs=la,pi=function(u,a){la(u,"",Yn(Yn({},a),{expires:-1}))};const ur={get(u){const a=function(u){return function cr(){return function(u){for(var a={},s=u?u.split("; "):[],l=/(%[\dA-F]{2})+/gi,p=0;p<s.length;p++){var v=s[p].split("="),y=v.slice(1).join("=");'"'===y.charAt(0)&&(y=y.slice(1,-1));try{a[v[0].replace(l,decodeURIComponent)]=y.replace(l,decodeURIComponent)}catch{}}return a}(document.cookie)}()[u]}(u);if(void 0!==a)return JSON.parse(a)},save(u,a,s){let l={};"https:"===window.location.protocol&&(l={secure:!0,sameSite:"none"}),s?.daysUntilExpire&&(l.expires=s.daysUntilExpire),s?.cookieDomain&&(l.domain=s.cookieDomain),Cs(u,JSON.stringify(a),l)},remove(u,a){let s={};a?.cookieDomain&&(s.domain=a.cookieDomain),pi(u,s)}},da={get:u=>ur.get(u)||ur.get("".concat("_legacy_").concat(u)),save(u,a,s){let l={};"https:"===window.location.protocol&&(l={secure:!0}),s?.daysUntilExpire&&(l.expires=s.daysUntilExpire),s?.cookieDomain&&(l.domain=s.cookieDomain),Cs("".concat("_legacy_").concat(u),JSON.stringify(a),l),ur.save(u,a,s)},remove(u,a){let s={};a?.cookieDomain&&(s.domain=a.cookieDomain),pi(u,s),ur.remove(u,a),ur.remove("".concat("_legacy_").concat(u),a)}},fa={get(u){if(typeof sessionStorage>"u")return;const a=sessionStorage.getItem(u);return null!=a?JSON.parse(a):void 0},save(u,a){sessionStorage.setItem(u,JSON.stringify(a))},remove(u){sessionStorage.removeItem(u)}};var Pr,u;(u=Pr||(Pr={})).Code="code",u.ConnectCode="connect_code";var gi,mi=function(u){return gi=gi||function Je(u,a,s){var l=void 0===a?null:a,p=function(S,P){var T=atob(S);if(P){for(var j=new Uint8Array(T.length),Y=0,K=T.length;Y<K;++Y)j[Y]=T.charCodeAt(Y);return String.fromCharCode.apply(null,new Uint16Array(j.buffer))}return T}(u,void 0!==s&&s),v=p.indexOf("\n",10)+1,y=p.substring(v)+(l?"//# sourceMappingURL="+l:""),E=new Blob([y],{type:"application/javascript"});return URL.createObjectURL(E)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHQpe2xldHtlcnJvcjpyLGVycm9yX2Rlc2NyaXB0aW9uOnN9PXQ7cmV0dXJuIG5ldyBlKHIscyl9fWNsYXNzIHQgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUscyl7c3VwZXIoIm1pc3NpbmdfcmVmcmVzaF90b2tlbiIsIk1pc3NpbmcgUmVmcmVzaCBUb2tlbiAoYXVkaWVuY2U6ICciLmNvbmNhdChyKGUsWyJkZWZhdWx0Il0pLCInLCBzY29wZTogJyIpLmNvbmNhdChyKHMpLCInKSIpKSx0aGlzLmF1ZGllbmNlPWUsdGhpcy5zY29wZT1zLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHQucHJvdG90eXBlKX19ZnVuY3Rpb24gcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W107cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+IiIuY29uY2F0KGUsInwiKS5jb25jYXQodCk7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jIGU9PntsZXQgcixjLHtkYXRhOnt0aW1lb3V0OmksYXV0aDphLGZldGNoVXJsOmYsZmV0Y2hPcHRpb25zOmwsdXNlRm9ybURhdGE6cCx1c2VNcnJ0Omh9LHBvcnRzOlt1XX09ZSxkPXt9O2NvbnN0e2F1ZGllbmNlOmcsc2NvcGU6eX09YXx8e307dHJ5e2NvbnN0IGU9cD8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShsLmJvZHkpOkpTT04ucGFyc2UobC5ib2R5KTtpZighZS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1lLmdyYW50X3R5cGUpe2lmKGM9KChlLHQpPT5vW24oZSx0KV0pKGcseSksIWMmJmgpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKCIiLmNvbmNhdChlLCJ8IikpKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxnKTtlJiYhdCYmKGM9ZSl9aWYoIWMpdGhyb3cgbmV3IHQoZyx5KTtsLmJvZHk9cD9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpfWxldCBhLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGE9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1hLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaj1pLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaikpKSksZmV0Y2goZixPYmplY3QuYXNzaWduKHt9LGwpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHUucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBhJiZhLmFib3J0KCksdm9pZCB1LnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO189ay5oZWFkZXJzLGQ9Wy4uLl9dLnJlZHVjZSgoKGUsdCk9PntsZXRbcixzXT10O3JldHVybiBlW3JdPXMsZX0pLHt9KSxyPWF3YWl0IGsuanNvbigpLHIucmVmcmVzaF90b2tlbj8oaCYmKG8ubGF0ZXN0X3JlZnJlc2hfdG9rZW49ci5yZWZyZXNoX3Rva2VuLE89YyxiPXIucmVmcmVzaF90b2tlbixPYmplY3QuZW50cmllcyhvKS5mb3JFYWNoKChlPT57bGV0W3Qscl09ZTtyPT09TyYmKG9bdF09Yil9KSkpLCgoZSx0LHIpPT57b1tuKHQscildPWV9KShyLnJlZnJlc2hfdG9rZW4sZyx5KSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTooKGUsdCk9PntkZWxldGUgb1tuKGUsdCldfSkoZyx5KSx1LnBvc3RNZXNzYWdlKHtvazprLm9rLGpzb246cixoZWFkZXJzOmR9KX1jYXRjaChlKXt1LnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcjplLmVycm9yLGVycm9yX2Rlc2NyaXB0aW9uOmUubWVzc2FnZX0saGVhZGVyczpkfSl9dmFyIE8sYixfLGp9KSl9KCk7Cgo=",null,!1),new Worker(gi,u)};const xt={},Vo=function(){var u=(0,A.A)(function*(a){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;for(let l=0;l<s;l++)if(yield a())return!0;return!1});return function(s){return u.apply(this,arguments)}}();class Ho{constructor(a,s){this.cache=a,this.clientId=s,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(a){var s=this;return(0,A.A)(function*(){var l;const p=new Set((null===(l=yield s.cache.get(s.manifestKey))||void 0===l?void 0:l.keys)||[]);p.add(a),yield s.cache.set(s.manifestKey,{keys:[...p]})})()}remove(a){var s=this;return(0,A.A)(function*(){const l=yield s.cache.get(s.manifestKey);if(l){const p=new Set(l.keys);return p.delete(a),p.size>0?yield s.cache.set(s.manifestKey,{keys:[...p]}):yield s.cache.remove(s.manifestKey)}})()}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(a){return"".concat("@@auth0spajs@@","::").concat(a)}}const qr={memory:()=>(new fi).enclosedCache,localstorage:()=>new di},Bo=u=>qr[u],$o=u=>{const{openUrl:a,onRedirect:s}=u,l=W(u,["openUrl","onRedirect"]);return Object.assign(Object.assign({},l),{openUrl:!1===a||a?a:s})},yi=(u,a)=>{const s=a?.split(" ")||[];return(u?.split(" ")||[]).every(l=>s.includes(l))},lr={NONCE:"nonce",KEYPAIR:"keypair"};class zo{constructor(a){this.clientId=a}getVersion(){return 1}createDbHandle(){const a=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise((s,l)=>{a.onupgradeneeded=()=>Object.values(lr).forEach(p=>a.result.createObjectStore(p)),a.onerror=()=>l(a.error),a.onsuccess=()=>s(a.result)})}getDbHandle(){var a=this;return(0,A.A)(function*(){return a.dbHandle||(a.dbHandle=yield a.createDbHandle()),a.dbHandle})()}executeDbRequest(a,s,l){var p=this;return(0,A.A)(function*(){const v=l((yield p.getDbHandle()).transaction(a,s).objectStore(a));return new Promise((y,E)=>{v.onsuccess=()=>y(v.result),v.onerror=()=>E(v.error)})})()}buildKey(a){const s=a?"_".concat(a):"auth0";return"".concat(this.clientId,"::").concat(s)}setNonce(a,s){return this.save(lr.NONCE,this.buildKey(s),a)}setKeyPair(a){return this.save(lr.KEYPAIR,this.buildKey(),a)}save(a,s,l){var p=this;return(0,A.A)(function*(){yield p.executeDbRequest(a,"readwrite",v=>v.put(l,s))})()}findNonce(a){return this.find(lr.NONCE,this.buildKey(a))}findKeyPair(){return this.find(lr.KEYPAIR,this.buildKey())}find(a,s){return this.executeDbRequest(a,"readonly",l=>l.get(s))}deleteBy(a,s){var l=this;return(0,A.A)(function*(){const p=yield l.executeDbRequest(a,"readonly",v=>v.getAllKeys());p?.filter(s).map(v=>l.executeDbRequest(a,"readwrite",y=>y.delete(v)))})()}deleteByClientId(a,s){return this.deleteBy(a,l=>"string"==typeof l&&l.startsWith("".concat(s,"::")))}clearNonces(){return this.deleteByClientId(lr.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(lr.KEYPAIR,this.clientId)}}class Wo{constructor(a){this.storage=new zo(a)}getNonce(a){return this.storage.findNonce(a)}setNonce(a,s){return this.storage.setNonce(a,s)}getOrGenerateKeyPair(){var a=this;return(0,A.A)(function*(){let s=yield a.storage.findKeyPair();return s||(s=yield function Mt(){return(u=(0,A.A)(function*(a,s){var l;let p;if("string"!=typeof a||0===a.length)throw new TypeError('"alg" must be a non-empty string');switch(a){case"PS256":p={name:"RSA-PSS",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"RS256":p={name:"RSASSA-PKCS1-v1_5",hash:"SHA-256",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case"ES256":p={name:"ECDSA",namedCurve:"P-256"};break;case"Ed25519":p={name:"Ed25519"};break;default:throw new Ct}return crypto.subtle.generateKey(p,null!==(l=s?.extractable)&&void 0!==l&&l,["sign","verify"])}),function(a,s){return u.apply(this,arguments)})("ES256",{extractable:!1});var u}(),yield a.storage.setKeyPair(s)),s})()}generateProof(a){var s=this;return(0,A.A)(function*(){const l=yield s.getOrGenerateKeyPair();return function yo(u){let{keyPair:a,url:s,method:l,nonce:p,accessToken:v}=u;return function Mr(u,a,s,l,p,v){return mo.apply(this,arguments)}(a,function(E){const S=new URL(E);return S.search="",S.hash="",S.href}(s),l,p,v)}(Object.assign({keyPair:l},a))})()}calculateThumbprint(){var a=this;return(0,A.A)(function*(){return function dt(u){return(a=(0,A.A)(function*(s){if(!we(s))throw new TypeError('"publicKey" must be a public CryptoKey');if(!0!==s.extractable)throw new TypeError('"publicKey.extractable" must be true');const l=yield Nr(s);let p;switch(l.kty){case"EC":p={crv:l.crv,kty:l.kty,x:l.x,y:l.y};break;case"OKP":p={crv:l.crv,kty:l.kty,x:l.x};break;case"RSA":p={e:l.e,kty:l.kty,n:l.n};break;default:throw new Ct("unsupported JWK kty")}return Fn(yield crypto.subtle.digest({name:"SHA-256"},At(JSON.stringify(p))))}),function(s){return a.apply(this,arguments)})(u.publicKey);var a}(yield a.getOrGenerateKeyPair())})()}clear(){var a=this;return(0,A.A)(function*(){yield Promise.all([a.storage.clearNonces(),a.storage.clearKeyPairs()])})()}}var Or,Ko,et;!function(u){u.Bearer="Bearer",u.DPoP="DPoP"}(Or||(Or={}));class I{constructor(a,s){this.hooks=s,this.config=Object.assign(Object.assign({},a),{fetch:a.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(a){return/^(https?:)?\/\//i.test(a)}buildUrl(a,s){if(s){if(this.isAbsoluteUrl(s))return s;if(a)return"".concat(a.replace(/\/?\/$/,""),"/").concat(s.replace(/^\/+/,""))}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(a){return this.config.getAccessToken?this.config.getAccessToken(a):this.hooks.getAccessToken(a)}extractUrl(a){return"string"==typeof a?a:a instanceof URL?a.href:a.url}buildBaseRequest(a,s){if(!this.config.baseUrl)return new Request(a,s);const l=this.buildUrl(this.config.baseUrl,this.extractUrl(a)),p=a instanceof Request?new Request(l,a):l;return new Request(p,s)}setAuthorizationHeader(a,s){a.headers.set("authorization","".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Or.Bearer," ").concat(s))}setDpopProofHeader(a,s){var l=this;return(0,A.A)(function*(){if(!l.config.dpopNonceId)return;const p=yield l.hooks.getDpopNonce(),v=yield l.hooks.generateDpopProof({accessToken:s,method:a.method,nonce:p,url:a.url});a.headers.set("dpop",v)})()}prepareRequest(a,s){var l=this;return(0,A.A)(function*(){const p=yield l.getAccessToken(s);let v,y;"string"==typeof p?(v=l.config.dpopNonceId?Or.DPoP:Or.Bearer,y=p):(v=p.token_type,y=p.access_token),l.setAuthorizationHeader(a,y,v),v===Or.DPoP&&(yield l.setDpopProofHeader(a,y))})()}getHeader(a,s){return Array.isArray(a)?new Headers(a).get(s)||"":"function"==typeof a.get?a.get(s)||"":a[s]||""}hasUseDpopNonceError(a){if(401!==a.status)return!1;const s=this.getHeader(a.headers,"www-authenticate");return s.includes("invalid_dpop_nonce")||s.includes("use_dpop_nonce")}handleResponse(a,s){var l=this;return(0,A.A)(function*(){const p=l.getHeader(a.headers,"dpop-nonce");if(p&&(yield l.hooks.setDpopNonce(p)),!l.hasUseDpopNonceError(a))return a;if(!p||!s.onUseDpopNonceError)throw new Gt(p);return s.onUseDpopNonceError()})()}internalFetchWithAuth(a,s,l,p){var v=this;return(0,A.A)(function*(){const y=v.buildBaseRequest(a,s);yield v.prepareRequest(y,p);const E=yield v.config.fetch(y);return v.handleResponse(E,l)})()}fetchWithAuth(a,s,l){const p={onUseDpopNonceError:()=>this.internalFetchWithAuth(a,s,Object.assign(Object.assign({},p),{onUseDpopNonceError:void 0}),l)};return this.internalFetchWithAuth(a,s,p,l)}}class k{constructor(a,s){this.myAccountFetcher=a,this.apiBase=s}connectAccount(a){var s=this;return(0,A.A)(function*(){const l=yield s.myAccountFetcher.fetchWithAuth("".concat(s.apiBase,"v1/connected-accounts/connect"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return s._handleResponse(l)})()}completeAccount(a){var s=this;return(0,A.A)(function*(){const l=yield s.myAccountFetcher.fetchWithAuth("".concat(s.apiBase,"v1/connected-accounts/complete"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});return s._handleResponse(l)})()}_handleResponse(a){return(0,A.A)(function*(){let s;try{s=yield a.text(),s=JSON.parse(s)}catch(l){throw new R({type:"invalid_json",status:a.status,title:"Invalid JSON response",detail:s||String(l)})}if(a.ok)return s;throw new R(s)})()}}class R extends Error{constructor(a){let{type:s,status:l,title:p,detail:v,validation_errors:y}=a;super(v),this.name="MyAccountApiError",this.type=s,this.status=l,this.title=p,this.detail=v,this.validation_errors=y,Object.setPrototypeOf(this,R.prototype)}}function $(u,a){this.v=u,this.k=a}function X(u,a,s){if("function"==typeof u?u===a:u.has(a))return arguments.length<3?a:s;throw new TypeError("Private element is not present on this object")}function ve(u){return new $(u,0)}function Se(u,a){if(a.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function re(u,a){return u.get(X(u,a))}function Oe(u,a,s){Se(u,a),a.set(u,s)}function qe(u,a,s){return u.set(X(u,a),s),s}function me(u,a,s){return(a="symbol"==typeof(p=function(v){if("object"!=typeof v||!v)return v;var E=v[Symbol.toPrimitive];if(void 0!==E){var S=E.call(v,"string");if("object"!=typeof S)return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(a))?p:p+"")in u?Object.defineProperty(u,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[a]=s,u;var p}function Bt(u,a){var s=Object.keys(u);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(u);a&&(l=l.filter(function(p){return Object.getOwnPropertyDescriptor(u,p).enumerable})),s.push.apply(s,l)}return s}function ke(u){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{};a%2?Bt(Object(s),!0).forEach(function(l){me(u,l,s[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(s)):Bt(Object(s)).forEach(function(l){Object.defineProperty(u,l,Object.getOwnPropertyDescriptor(s,l))})}return u}function rn(u,a){if(null==u)return{};var s,l,p=function(y,E){if(null==y)return{};var S={};for(var P in y)if({}.hasOwnProperty.call(y,P)){if(-1!==E.indexOf(P))continue;S[P]=y[P]}return S}(u,a);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(u);for(l=0;l<v.length;l++)-1===a.indexOf(s=v[l])&&{}.propertyIsEnumerable.call(u,s)&&(p[s]=u[s])}return p}function ft(u){var a,s;function l(v,y){try{var E=u[v](y),S=E.value,P=S instanceof $;Promise.resolve(P?S.v:S).then(function(T){if(P){var j="return"===v?"return":"next";if(!S.k||T.done)return l(j,T);T=u[j](T).value}p(E.done?"return":"normal",T)},function(T){l("throw",T)})}catch(T){p("throw",T)}}function p(v,y){switch(v){case"return":a.resolve({value:y,done:!0});break;case"throw":a.reject(y);break;default:a.resolve({value:y,done:!1})}(a=a.next)?l(a.key,a.arg):s=null}this._invoke=function(v,y){return new Promise(function(E,S){var P={key:v,arg:y,resolve:E,reject:S,next:null};s?s=s.next=P:(a=s=P,l(v,y))})},"function"!=typeof u.return&&(this.return=void 0)}let Pt;function mn(u,a){if(null==u)return!1;try{return u instanceof a||Object.getPrototypeOf(u)[Symbol.toStringTag]===a.prototype[Symbol.toStringTag]}catch{return!1}}function Ce(u,a,s){const l=new TypeError(u,{cause:s});return Object.assign(l,{code:a}),l}ft.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},ft.prototype.next=function(u){return this._invoke("next",u)},ft.prototype.throw=function(u){return this._invoke("throw",u)},ft.prototype.return=function(u){return this._invoke("return",u)},(typeof navigator>"u"||null===(Ko=navigator.userAgent)||void 0===Ko||null===(et=Ko.startsWith)||void 0===et||!et.call(Ko,"Mozilla/5.0 "))&&(Pt="".concat("oauth4webapi","/").concat("v3.8.3"));const Me=Symbol(),dr=Symbol(),wo=Symbol(),yn=Symbol(),zi=Symbol(),Xn=Symbol(),Ss=new TextEncoder,wt=new TextDecoder;function Yr(u){return"string"==typeof u?Ss.encode(u):wt.decode(u)}let Wi,jn;function Qr(u){return"string"==typeof u?jn(u):Wi(u)}Wi=Uint8Array.prototype.toBase64?u=>(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),u.toBase64({alphabet:"base64url",omitPadding:!0})):a=>{a instanceof ArrayBuffer&&(a=new Uint8Array(a));const s=[];for(let l=0;l<a.byteLength;l+=32768)s.push(String.fromCharCode.apply(null,a.subarray(l,l+32768)));return btoa(s.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},jn=Uint8Array.fromBase64?u=>{try{return Uint8Array.fromBase64(u,{alphabet:"base64url"})}catch(a){throw Ce("The input to be decoded is not correctly encoded.","ERR_INVALID_ARG_VALUE",a)}}:u=>{try{const a=atob(u.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),s=new Uint8Array(a.length);for(let l=0;l<a.length;l++)s[l]=a.charCodeAt(l);return s}catch(a){throw Ce("The input to be decoded is not correctly encoded.","ERR_INVALID_ARG_VALUE",a)}};class Qn extends Error{constructor(a,s){var l;super(a,s),me(this,"code",void 0),this.name=this.constructor.name,this.code=ba,null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}class ha extends Error{constructor(a,s){var l;super(a,s),me(this,"code",void 0),this.name=this.constructor.name,null!=s&&s.code&&(this.code=s?.code),null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}function Ze(u,a,s){return new ha(u,{code:a,cause:s})}function Do(u){return null!==u&&"object"==typeof u&&!Array.isArray(u)}function Ki(u){mn(u,Headers)&&(u=Object.fromEntries(u.entries()));const a=new Headers(u??{});if(Pt&&!a.has("user-agent")&&a.set("user-agent",Pt),a.has("authorization"))throw Ce('"options.headers" must not include the "authorization" header name',"ERR_INVALID_ARG_VALUE");return a}function pa(u,a){if(void 0!==a){if("function"==typeof a&&(a=a(u.href)),!(a instanceof AbortSignal))throw Ce('"options.signal" must return or be an instance of AbortSignal',"ERR_INVALID_ARG_TYPE");return a}}function ga(u){return u.includes("//")?u.replace("//","/"):u}function eo(){return eo=(0,A.A)(function*(u,a){return(s=(0,A.A)(function*(l,p,v,y){if(!(l instanceof URL))throw Ce('"'.concat(p,'" must be an instance of URL'),"ERR_INVALID_ARG_TYPE");Ji(l,!0!==y?.[Me]);const E=v(new URL(l.href)),S=Ki(y?.headers);return S.set("accept","application/json"),(y?.[yn]||fetch)(E.href,{body:void 0,headers:Object.fromEntries(S.entries()),method:"GET",redirect:"manual",signal:pa(E,y?.signal)})}),function(l,p,v,y){return s.apply(this,arguments)})(u,"issuerIdentifier",s=>{switch(a?.algorithm){case void 0:case"oidc":(l=s).pathname=ga("".concat(l.pathname,"/").concat(".well-known/openid-configuration"));break;case"oauth2":!function(l,p){let v=arguments.length>2&&void 0!==arguments[2]&&arguments[2];l.pathname="/"===l.pathname?p:ga("".concat(p,"/").concat(v?l.pathname:l.pathname.replace(/(\/)$/,"")))}(s,".well-known/oauth-authorization-server");break;default:throw Ce('"options.algorithm" must be "oidc" (default), or "oauth2"',"ERR_INVALID_ARG_VALUE")}var l;return s},a);var s}),eo.apply(this,arguments)}function to(u,a,s,l,p){try{if("number"!=typeof u||!Number.isFinite(u))throw Ce("".concat(s," must be a number"),"ERR_INVALID_ARG_TYPE",p);if(u>0)return;if(a){if(0!==u)throw Ce("".concat(s," must be a non-negative number"),"ERR_INVALID_ARG_VALUE",p);return}throw Ce("".concat(s," must be a positive number"),"ERR_INVALID_ARG_VALUE",p)}catch(v){throw l?Ze(v.message,l,p):v}}function $t(u,a,s,l){try{if("string"!=typeof u)throw Ce("".concat(a," must be a string"),"ERR_INVALID_ARG_TYPE",l);if(0===u.length)throw Ce("".concat(a," must not be empty"),"ERR_INVALID_ARG_VALUE",l)}catch(p){throw s?Ze(p.message,s,l):p}}function Gi(u){!function(a,s){if(Fc(a)!==s)throw function(l){let p='"response" content-type must be ';for(var v=arguments.length,y=new Array(v>1?v-1:0),E=1;E<v;E++)y[E-1]=arguments[E];if(y.length>2){const S=y.pop();p+="".concat(y.join(", "),", or ").concat(S)}else p+=2===y.length?"".concat(y[0]," or ").concat(y[1]):y[0];return Ze(p,hr,l)}(a,s)}(u,"application/json")}function vn(){return Qr(crypto.getRandomValues(new Uint8Array(32)))}function Lc(u){switch(u.algorithm.name){case"RSA-PSS":return function(a){switch(a.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new Qn("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}}(u);case"RSASSA-PKCS1-v1_5":return function(a){switch(a.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new Qn("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}}(u);case"ECDSA":return function(a){switch(a.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new Qn("unsupported EcKeyAlgorithm namedCurve",{cause:a})}}(u);case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return u.algorithm.name;case"EdDSA":return"Ed25519";default:throw new Qn("unsupported CryptoKey algorithm name",{cause:u})}}function He(u){const a=u?.[dr];return"number"==typeof a&&Number.isFinite(a)?a:0}function Go(u){const a=u?.[wo];return"number"==typeof a&&Number.isFinite(a)&&-1!==Math.sign(a)?a:30}function Eo(){return Math.floor(Date.now()/1e3)}function Un(u){if("object"!=typeof u||null===u)throw Ce('"as" must be an object',"ERR_INVALID_ARG_TYPE");$t(u.issuer,'"as.issuer"')}function vr(u){if("object"!=typeof u||null===u)throw Ce('"client" must be an object',"ERR_INVALID_ARG_TYPE");$t(u.client_id,'"client.client_id"')}function ma(u){return $t(u,'"clientSecret"'),(a,s,l,p)=>{l.set("client_id",s.client_id),l.set("client_secret",u)}}const ml=URL.parse?(u,a)=>URL.parse(u,a):(u,a)=>{try{return new URL(u,a)}catch{return null}};function Ji(u,a){if(a&&"https:"!==u.protocol)throw Ze("only requests to HTTPS are allowed",Ca,u);if("https:"!==u.protocol&&"http:"!==u.protocol)throw Ze("only HTTP and HTTPS requests are allowed",Vc,u)}function Jo(u,a,s,l){return function ya(u,a,s,l){let p;if("string"!=typeof u||!(p=ml(u)))throw Ze("authorization server metadata does not contain a valid ".concat(s?'"as.mtls_endpoint_aliases.'.concat(a,'"'):'"as.'.concat(a,'"')),void 0===u?Ta:yl,{attribute:s?"mtls_endpoint_aliases.".concat(a):a});return Ji(p,l),p}(s&&u.mtls_endpoint_aliases&&a in u.mtls_endpoint_aliases?u.mtls_endpoint_aliases[a]:u[a],a,s,l)}class Zi extends Error{constructor(a,s){var l;super(a,s),me(this,"cause",void 0),me(this,"code",void 0),me(this,"error",void 0),me(this,"status",void 0),me(this,"error_description",void 0),me(this,"response",void 0),this.name=this.constructor.name,this.code=Ea,this.cause=s.cause,this.error=s.cause.error,this.status=s.response.status,this.error_description=s.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:s.response}),null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}class fr extends Error{constructor(a,s){var l,p;super(a,s),me(this,"cause",void 0),me(this,"code",void 0),me(this,"error",void 0),me(this,"error_description",void 0),this.name=this.constructor.name,this.code=ts,this.cause=s.cause,this.error=s.cause.get("error"),this.error_description=null!==(l=s.cause.get("error_description"))&&void 0!==l?l:void 0,null===(p=Error.captureStackTrace)||void 0===p||p.call(Error,this,this.constructor)}}class va extends Error{constructor(a,s){var l;super(a,s),me(this,"cause",void 0),me(this,"code",void 0),me(this,"response",void 0),me(this,"status",void 0),this.name=this.constructor.name,this.code=Da,this.cause=s.cause,this.status=s.response.status,this.response=s.response,Object.defineProperty(this,"response",{enumerable:!1}),null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}const vi=new RegExp("^[,\\s]*([a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+)"),Ms=new RegExp('^[,\\s]*([a-zA-Z0-9!#$%&\\\'\\*\\+\\-\\.\\^_`\\|~]+)\\s*=\\s*"((?:[^"\\\\]|\\\\[\\s\\S])*)"[,\\s]*(.*)'),Xi=new RegExp("^[,\\s]*([a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+)\\s*=\\s*([a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+)[,\\s]*(.*)"),qi=new RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+={0,2})(?:$|[,\\s])(.*)");function Lr(u,a,s){return Ns.apply(this,arguments)}function Ns(){return Ns=(0,A.A)(function*(u,a,s){if(u.status!==a){let p;var l;throw function(v){let y;if(y=function(E){if(!mn(E,Response))throw Ce('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");const S=E.headers.get("www-authenticate");if(null===S)return;const P=[];let T=S;for(;T;){var j;let Y=T.match(vi);const K=null===(j=Y)||void 0===j?void 0:j[1].toLowerCase();if(!K)return;const ae=T.substring(Y[0].length);if(ae&&!ae.match(/^[\s,]/))return;const te=ae.match(/^\s+(.*)$/);T=te?te[1]:void 0;const ue={};let _e;if(te)for(;T;){let Ge,De;if(Y=T.match(Ms)){if([,Ge,De,T]=Y,De.includes("\\"))try{De=JSON.parse('"'.concat(De,'"'))}catch{}ue[Ge.toLowerCase()]=De}else{if(!(Y=T.match(Xi))){if(Y=T.match(qi)){if(Object.keys(ue).length)break;[,_e,T]=Y;break}return}[,Ge,De,T]=Y,ue[Ge.toLowerCase()]=De}}else T=ae||void 0;const Pe={scheme:K,parameters:ue};_e&&(Pe.token68=_e),P.push(Pe)}return P.length?P:void 0}(v))throw new va("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:y,response:v})}(u),(p=yield(v=(0,A.A)(function*(y){if(y.status>399&&y.status<500){os(y),Gi(y);try{const E=yield y.clone().json();if(Do(E)&&"string"==typeof E.error&&E.error.length)return E}catch{}}}),function(y){return v.apply(this,arguments)})(u))?(yield null===(l=u.body)||void 0===l?void 0:l.cancel(),new Zi("server responded with an error in the response body",{cause:p,response:u})):Ze('"response" is not a conform '.concat(s," response (unexpected HTTP status code)"),Ia,u)}var v}),Ns.apply(this,arguments)}function _a(u){if(!_i.has(u))throw Ce('"options.DPoP" is not a valid DPoPHandle',"ERR_INVALID_ARG_VALUE")}function Fc(u){var a;return null===(a=u.headers.get("content-type"))||void 0===a?void 0:a.split(";")[0]}function Vn(u,a,s,l,p,v,y){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,A.A)(function*(u,a,s,l,p,v,y){return yield s(u,a,p,v),v.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(y?.[yn]||fetch)(l.href,{body:p,headers:Object.fromEntries(v.entries()),method:"POST",redirect:"manual",signal:pa(l,y?.signal)})}),Yi.apply(this,arguments)}function Fr(u,a,s,l,p,v){return wa.apply(this,arguments)}function wa(){return wa=(0,A.A)(function*(u,a,s,l,p,v){var y;const E=Jo(u,"token_endpoint",a.use_mtls_endpoint_aliases,!0!==v?.[Me]);p.set("grant_type",l);const S=Ki(v?.headers);S.set("accept","application/json"),void 0!==v?.DPoP&&(_a(v.DPoP),yield v.DPoP.addProof(E,S,"POST"));const P=yield Vn(u,a,s,E,p,S,v);return null==v||null===(y=v.DPoP)||void 0===y||y.cacheNonce(P,E),P}),wa.apply(this,arguments)}const xs=new WeakMap,_r=new WeakMap;function St(u){if(!u.id_token)return;const a=xs.get(u);if(!a)throw Ce('"ref" was already garbage collected or did not resolve from the proper sources',"ERR_INVALID_ARG_VALUE");return a}function Jn(u,a,s,l,p,v){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,A.A)(function*(u,a,s,l,p,v){if(Un(u),vr(a),!mn(s,Response))throw Ce('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");yield Lr(s,200,"Token Endpoint"),os(s);const y=yield on(s);if($t(y.access_token,'"response" body "access_token" property',Ue,{body:y}),$t(y.token_type,'"response" body "token_type" property',Ue,{body:y}),y.token_type=y.token_type.toLowerCase(),void 0!==y.expires_in){let E="number"!=typeof y.expires_in?parseFloat(y.expires_in):y.expires_in;to(E,!0,'"response" body "expires_in" property',Ue,{body:y}),y.expires_in=E}if(void 0!==y.refresh_token&&$t(y.refresh_token,'"response" body "refresh_token" property',Ue,{body:y}),void 0!==y.scope&&"string"!=typeof y.scope)throw Ze('"response" body "scope" property must be a string',Ue,{body:y});if(void 0!==y.id_token){$t(y.id_token,'"response" body "id_token" property',Ue,{body:y});const E=["aud","exp","iat","iss","sub"];!0===a.require_auth_time&&E.push("auth_time"),void 0!==a.default_max_age&&(to(a.default_max_age,!0,'"client.default_max_age"'),E.push("auth_time")),null!=l&&l.length&&E.push(...l);const{claims:S,jwt:P}=yield(T=(0,A.A)(function*(j,Y,K,ae,te){let oe,ue,{0:_e,1:Pe,length:Ge}=j.split(".");if(5===Ge){if(void 0===te)throw new Qn("JWE decryption is not configured",{cause:j});j=yield te(j),({0:_e,1:Pe,length:Ge}=j.split("."))}if(3!==Ge)throw Ze("Invalid JWT",Ue,j);try{oe=JSON.parse(Yr(Qr(_e)))}catch(ut){throw Ze("failed to parse JWT Header body as base64url encoded JSON",ns,ut)}if(!Do(oe))throw Ze("JWT Header must be a top level object",Ue,j);if(Y(oe),void 0!==oe.crit)throw new Qn('no JWT "crit" header parameter extensions are supported',{cause:{header:oe}});try{ue=JSON.parse(Yr(Qr(Pe)))}catch(ut){throw Ze("failed to parse JWT Payload body as base64url encoded JSON",ns,ut)}if(!Do(ue))throw Ze("JWT Payload must be a top level object",Ue,j);const De=Eo()+K;if(void 0!==ue.exp){if("number"!=typeof ue.exp)throw Ze('unexpected JWT "exp" (expiration time) claim type',Ue,{claims:ue});if(ue.exp<=De-ae)throw Ze('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',rs,{claims:ue,now:De,tolerance:ae,claim:"exp"})}if(void 0!==ue.iat&&"number"!=typeof ue.iat)throw Ze('unexpected JWT "iat" (issued at) claim type',Ue,{claims:ue});if(void 0!==ue.iss&&"string"!=typeof ue.iss)throw Ze('unexpected JWT "iss" (issuer) claim type',Ue,{claims:ue});if(void 0!==ue.nbf){if("number"!=typeof ue.nbf)throw Ze('unexpected JWT "nbf" (not before) claim type',Ue,{claims:ue});if(ue.nbf>De+ae)throw Ze('unexpected JWT "nbf" (not before) claim value',rs,{claims:ue,now:De,tolerance:ae,claim:"nbf"})}if(void 0!==ue.aud&&"string"!=typeof ue.aud&&!Array.isArray(ue.aud))throw Ze('unexpected JWT "aud" (audience) claim type',Ue,{claims:ue});return{header:oe,claims:ue,jwt:j}}),function(j,Y,K,ae,te){return T.apply(this,arguments)})(y.id_token,Di.bind(void 0,a.id_token_signed_response_alg,u.id_token_signing_alg_values_supported,"RS256"),He(a),Go(a),p).then(jc.bind(void 0,E)).then(es.bind(void 0,u)).then(Rs.bind(void 0,a.client_id));if(Array.isArray(S.aud)&&1!==S.aud.length){if(void 0===S.azp)throw Ze('ID Token "aud" (audience) claim includes additional untrusted audiences',oo,{claims:S,claim:"aud"});if(S.azp!==a.client_id)throw Ze('unexpected ID Token "azp" (authorized party) claim value',oo,{expected:a.client_id,claims:S,claim:"azp"})}void 0!==S.auth_time&&to(S.auth_time,!0,'ID Token "auth_time" (authentication time)',Ue,{claims:S}),_r.set(s,P),xs.set(y,S)}var T;if(void 0!==v?.[y.token_type])v[y.token_type](s,y);else if("dpop"!==y.token_type&&"bearer"!==y.token_type)throw new Qn("unsupported `token_type` value",{cause:{body:y}});return y}),Qi.apply(this,arguments)}function Rs(u,a){if(Array.isArray(a.claims.aud)){if(!a.claims.aud.includes(u))throw Ze('unexpected JWT "aud" (audience) claim value',oo,{expected:u,claims:a.claims,claim:"aud"})}else if(a.claims.aud!==u)throw Ze('unexpected JWT "aud" (audience) claim value',oo,{expected:u,claims:a.claims,claim:"aud"});return a}function es(u,a){var s,l;const p=null!==(s=null===(l=u[kn])||void 0===l?void 0:l.call(u,a))&&void 0!==s?s:u.issuer;if(a.claims.iss!==p)throw Ze('unexpected JWT "iss" (issuer) claim value',oo,{expected:p,claims:a.claims,claim:"iss"});return a}const _i=new WeakSet,no=Symbol(),ro={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function jc(u,a){for(const s of u)if(void 0===a.claims[s])throw Ze('JWT "'.concat(s,'" (').concat(ro[s],") claim missing"),Ue,{claims:a.claims});return a}const wi=Symbol(),ks=Symbol();function bo(){return bo=(0,A.A)(function*(u,a,s,l){return"string"==typeof l?.expectedNonce||"number"==typeof l?.maxAge||null!=l&&l.requireIdToken?(p=(0,A.A)(function*(v,y,E,S,P,T,j){const Y=[];switch(S){case void 0:S=wi;break;case wi:break;default:$t(S,'"expectedNonce" argument'),Y.push("nonce")}switch(null!=P||(P=y.default_max_age),P){case void 0:P=ks;break;case ks:break;default:to(P,!0,'"maxAge" argument'),Y.push("auth_time")}const K=yield Jn(v,y,E,Y,T,j);$t(K.id_token,'"response" body "id_token" property',Ue,{body:K});const ae=St(K);if(P!==ks){const te=Eo()+He(y),oe=Go(y);if(ae.auth_time+P<te-oe)throw Ze("too much time has elapsed since the last End-User authentication",rs,{claims:ae,now:te,tolerance:oe,claim:"auth_time"})}if(S===wi){if(void 0!==ae.nonce)throw Ze('unexpected ID Token "nonce" claim value',oo,{expected:void 0,claims:ae,claim:"nonce"})}else if(ae.nonce!==S)throw Ze('unexpected ID Token "nonce" claim value',oo,{expected:S,claims:ae,claim:"nonce"});return K}),function(v,y,E,S,P,T,j){return p.apply(this,arguments)})(u,a,s,l.expectedNonce,l.maxAge,l[Xn],l.recognizedTokenTypes):function(){var p=(0,A.A)(function*(v,y,E,S,P){const T=yield Jn(v,y,E,void 0,S,P),j=St(T);if(j){if(void 0!==y.default_max_age){to(y.default_max_age,!0,'"client.default_max_age"');const Y=Eo()+He(y),K=Go(y);if(j.auth_time+y.default_max_age<Y-K)throw Ze("too much time has elapsed since the last End-User authentication",rs,{claims:j,now:Y,tolerance:K,claim:"auth_time"})}if(void 0!==j.nonce)throw Ze('unexpected ID Token "nonce" claim value',oo,{expected:void 0,claims:j,claim:"nonce"})}return T});return function(v,y,E,S,P){return p.apply(this,arguments)}}()(u,a,s,l?.[Xn],l?.recognizedTokenTypes);var p}),bo.apply(this,arguments)}const Da="OAUTH_WWW_AUTHENTICATE_CHALLENGE",Ea="OAUTH_RESPONSE_BODY_ERROR",ba="OAUTH_UNSUPPORTED_OPERATION",ts="OAUTH_AUTHORIZATION_RESPONSE_ERROR",ns="OAUTH_PARSE_ERROR",Ue="OAUTH_INVALID_RESPONSE",hr="OAUTH_RESPONSE_IS_NOT_JSON",Ia="OAUTH_RESPONSE_IS_NOT_CONFORM",Ca="OAUTH_HTTP_REQUEST_FORBIDDEN",Vc="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",rs="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",oo="OAUTH_JWT_CLAIM_COMPARISON_FAILED",Sa="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",Ta="OAUTH_MISSING_SERVER_METADATA",yl="OAUTH_INVALID_SERVER_METADATA";function os(u){if(u.bodyUsed)throw Ce('"response" body has been used already',"ERR_INVALID_ARG_VALUE")}function Hc(u){const{algorithm:a}=u;if("number"!=typeof a.modulusLength||a.modulusLength<2048)throw new Qn("unsupported ".concat(a.name," modulusLength"),{cause:u})}function Ps(u){const{algorithm:a}=u;switch(a.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new Qn("unsupported ECDSA namedCurve",{cause:u})}}function Os(){return Os=(0,A.A)(function*(u){if("POST"!==u.method)throw Ce("form_post responses are expected to use the POST method","ERR_INVALID_ARG_VALUE",{cause:u});if("application/x-www-form-urlencoded"!==Fc(u))throw Ce("form_post responses are expected to use the application/x-www-form-urlencoded content-type","ERR_INVALID_ARG_VALUE",{cause:u});return(a=(0,A.A)(function*(s){if(s.bodyUsed)throw Ce("form_post Request instances must contain a readable body","ERR_INVALID_ARG_VALUE",{cause:s});return s.text()}),function(s){return a.apply(this,arguments)})(u);var a}),Os.apply(this,arguments)}function Di(u,a,s,l){if(void 0===u)if(Array.isArray(a)){if(!a.includes(l.alg))throw Ze('unexpected JWT "alg" header parameter',Ue,{header:l,expected:a,reason:"authorization server metadata"})}else{if(void 0===s)throw Ze('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:u,issuer:a,fallback:s});if("string"==typeof s?l.alg!==s:"function"==typeof s?!s(l.alg):!s.includes(l.alg))throw Ze('unexpected JWT "alg" header parameter',Ue,{header:l,expected:s,reason:"default value"})}else if("string"==typeof u?l.alg!==u:!u.includes(l.alg))throw Ze('unexpected JWT "alg" header parameter',Ue,{header:l,expected:u,reason:"client configuration"})}function er(u,a){const{0:s,length:l}=u.getAll(a);if(l>1)throw Ze('"'.concat(a,'" parameter must be provided only once'),Ue);return s}const $c=Symbol(),zc=Symbol();function on(u){return wn.apply(this,arguments)}function wn(){return wn=(0,A.A)(function*(u){let a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gi;try{a=yield u.json()}catch(l){throw s(u),Ze('failed to parse "response" body as JSON',ns,l)}if(!Do(a))throw Ze('"response" body must be a top level object',Ue,{body:a});return a}),wn.apply(this,arguments)}const jr=Symbol(),kn=Symbol(),Ei=new TextEncoder,Io=new TextDecoder;function Co(u){const a=new Uint8Array(u.length);for(let s=0;s<u.length;s++){const l=u.charCodeAt(s);if(l>127)throw new TypeError("non-ASCII string encountered in encode()");a[s]=l}return a}function Aa(u){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(u);const a=atob(u),s=new Uint8Array(a.length);for(let l=0;l<a.length;l++)s[l]=a.charCodeAt(l);return s}function Zo(u){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof u?u:Io.decode(u),{alphabet:"base64url"});let a=u;a instanceof Uint8Array&&(a=Io.decode(a)),a=a.replace(/-/g,"+").replace(/_/g,"/");try{return Aa(a)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}class Wt extends Error{constructor(a,s){var l;super(a,s),me(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}me(Wt,"code","ERR_JOSE_GENERIC");class wr extends Wt{constructor(a,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(a,{cause:{claim:l,reason:p,payload:s}}),me(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),me(this,"claim",void 0),me(this,"reason",void 0),me(this,"payload",void 0),this.claim=l,this.reason=p,this.payload=s}}me(wr,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class is extends Wt{constructor(a,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified",p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"unspecified";super(a,{cause:{claim:l,reason:p,payload:s}}),me(this,"code","ERR_JWT_EXPIRED"),me(this,"claim",void 0),me(this,"reason",void 0),me(this,"payload",void 0),this.claim=l,this.reason=p,this.payload=s}}me(is,"code","ERR_JWT_EXPIRED");class Ma extends Wt{constructor(){super(...arguments),me(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}}me(Ma,"code","ERR_JOSE_ALG_NOT_ALLOWED");class Hn extends Wt{constructor(){super(...arguments),me(this,"code","ERR_JOSE_NOT_SUPPORTED")}}me(Hn,"code","ERR_JOSE_NOT_SUPPORTED"),me(class extends Wt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decryption operation failed",arguments.length>1?arguments[1]:void 0),me(this,"code","ERR_JWE_DECRYPTION_FAILED")}},"code","ERR_JWE_DECRYPTION_FAILED"),me(class extends Wt{constructor(){super(...arguments),me(this,"code","ERR_JWE_INVALID")}},"code","ERR_JWE_INVALID");class Pn extends Wt{constructor(){super(...arguments),me(this,"code","ERR_JWS_INVALID")}}me(Pn,"code","ERR_JWS_INVALID");class ss extends Wt{constructor(){super(...arguments),me(this,"code","ERR_JWT_INVALID")}}me(ss,"code","ERR_JWT_INVALID"),me(class extends Wt{constructor(){super(...arguments),me(this,"code","ERR_JWK_INVALID")}},"code","ERR_JWK_INVALID");class Na extends Wt{constructor(){super(...arguments),me(this,"code","ERR_JWKS_INVALID")}}me(Na,"code","ERR_JWKS_INVALID");class as extends Wt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no applicable key found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),me(this,"code","ERR_JWKS_NO_MATCHING_KEY")}}me(as,"code","ERR_JWKS_NO_MATCHING_KEY");class Ls extends Wt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"multiple matching keys found in the JSON Web Key Set",arguments.length>1?arguments[1]:void 0),me(this,Symbol.asyncIterator,void 0),me(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}}me(Ls,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS");class Fs extends Wt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request timed out",arguments.length>1?arguments[1]:void 0),me(this,"code","ERR_JWKS_TIMEOUT")}}me(Fs,"code","ERR_JWKS_TIMEOUT");class io extends Wt{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature verification failed",arguments.length>1?arguments[1]:void 0),me(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}me(io,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");const Ur=function(u){return new TypeError("CryptoKey does not support this operation, its ".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"algorithm.name"," must be ").concat(u))},so=(u,a)=>u.name===a;function bi(u){return parseInt(u.name.slice(4),10)}function cs(u,a){for(var s=arguments.length,l=new Array(s>2?s-2:0),p=2;p<s;p++)l[p-2]=arguments[p];if((l=l.filter(Boolean)).length>2){const y=l.pop();u+="one of type ".concat(l.join(", "),", or ").concat(y,".")}else u+=2===l.length?"one of type ".concat(l[0]," or ").concat(l[1],"."):"of type ".concat(l[0],".");if(null==a)u+=" Received ".concat(a);else if("function"==typeof a&&a.name)u+=" Received function ".concat(a.name);else if("object"==typeof a&&null!=a){var v;null!==(v=a.constructor)&&void 0!==v&&v.name&&(u+=" Received an instance of ".concat(a.constructor.name))}return u}const us=function(u,a){for(var s=arguments.length,l=new Array(s>2?s-2:0),p=2;p<s;p++)l[p-2]=arguments[p];return cs("Key for the ".concat(u," algorithm must be "),a,...l)},tr=u=>{if("CryptoKey"===u?.[Symbol.toStringTag])return!0;try{return u instanceof CryptoKey}catch{return!1}},Xo=u=>"KeyObject"===u?.[Symbol.toStringTag],js=u=>tr(u)||Xo(u);function So(u){if("object"!=typeof(a=u)||null===a||"[object Object]"!==Object.prototype.toString.call(u))return!1;var a;if(null===Object.getPrototypeOf(u))return!0;let s=u;for(;null!==Object.getPrototypeOf(s);)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(u)===s}const xa=(u,a)=>{if(u.byteLength!==a.length)return!1;for(let s=0;s<u.byteLength;s++)if(u[s]!==a[s])return!1;return!0},Ii=u=>{const a=u.data[u.pos++];if(128&a){const s=127&a;let l=0;for(let p=0;p<s;p++)l=l<<8|u.data[u.pos++];return l}return a},Vr=(u,a,s)=>{if(u.data[u.pos++]!==a)throw new Error(s)},Kc=(u,a)=>{const s=u.data.subarray(u.pos,u.pos+a);return u.pos+=a,s},_l=function(){var u=(0,A.A)(function*(a,s,l,p){var v;let y,E;const S="spki"===a,P=()=>S?["verify"]:["sign"];switch(l){case"PS256":case"PS384":case"PS512":y={name:"RSA-PSS",hash:"SHA-".concat(l.slice(-3))},E=P();break;case"RS256":case"RS384":case"RS512":y={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(l.slice(-3))},E=P();break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":y={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(l.slice(-3),10)||1)},E=S?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":case"ES384":case"ES512":y={name:"ECDSA",namedCurve:{ES256:"P-256",ES384:"P-384",ES512:"P-521"}[l]},E=P();break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":try{const T=p.getNamedCurve(s);y="X25519"===T?{name:"X25519"}:{name:"ECDH",namedCurve:T}}catch{throw new Hn("Invalid or unsupported key format")}E=S?[]:["deriveBits"];break;case"Ed25519":case"EdDSA":y={name:"Ed25519"},E=P();break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":y={name:l},E=P();break;default:throw new Hn('Invalid or unsupported "alg" (Algorithm) value')}return crypto.subtle.importKey(a,s,y,null!==(v=p?.extractable)&&void 0!==v?v:!!S,E)});return function(s,l,p,v){return u.apply(this,arguments)}}(),Ci=(u,a,s)=>{var l;const p=Aa(u.replace(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,""));let v=s;return null!=a&&null!==(l=a.startsWith)&&void 0!==l&&l.call(a,"ECDH-ES")&&(v||(v={}),v.getNamedCurve=y=>{const E={data:y,pos:0};return function(S){Vr(S,48,"Invalid PKCS#8 structure"),Ii(S),Vr(S,2,"Expected version field");const P=Ii(S);S.pos+=P,Vr(S,48,"Expected algorithm identifier"),Ii(S)}(E),(u=>{const a=(p=>{Vr(p,6,"Expected algorithm OID");const v=Ii(p);return Kc(p,v)})(u);if(xa(a,[43,101,110]))return"X25519";if(!xa(a,[42,134,72,206,61,2,1]))throw new Error("Unsupported key algorithm");Vr(u,6,"Expected curve OID");const s=Ii(u),l=Kc(u,s);for(const{name:p,oid:v}of[{name:"P-256",oid:[42,134,72,206,61,3,1,7]},{name:"P-384",oid:[43,129,4,0,34]},{name:"P-521",oid:[43,129,4,0,35]}])if(xa(l,v))return p;throw new Error("Unsupported named curve")})(E)}),_l("pkcs8",p,a,v)};function Us(u){return Si.apply(this,arguments)}function Si(){return Si=(0,A.A)(function*(u){var a,s;if(!u.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:l,keyUsages:p}=function(y){let E,S;switch(y.kty){case"AKP":switch(y.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":E={name:y.alg},S=y.priv?["sign"]:["verify"];break;default:throw new Hn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(y.alg){case"PS256":case"PS384":case"PS512":E={name:"RSA-PSS",hash:"SHA-".concat(y.alg.slice(-3))},S=y.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":E={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(y.alg.slice(-3))},S=y.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":E={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(y.alg.slice(-3),10)||1)},S=y.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Hn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(y.alg){case"ES256":E={name:"ECDSA",namedCurve:"P-256"},S=y.d?["sign"]:["verify"];break;case"ES384":E={name:"ECDSA",namedCurve:"P-384"},S=y.d?["sign"]:["verify"];break;case"ES512":E={name:"ECDSA",namedCurve:"P-521"},S=y.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":E={name:"ECDH",namedCurve:y.crv},S=y.d?["deriveBits"]:[];break;default:throw new Hn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(y.alg){case"Ed25519":case"EdDSA":E={name:"Ed25519"},S=y.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":E={name:y.crv},S=y.d?["deriveBits"]:[];break;default:throw new Hn('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new Hn('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:E,keyUsages:S}}(u),v=ke({},u);return"AKP"!==v.kty&&delete v.alg,delete v.use,crypto.subtle.importKey("jwk",v,l,null!==(a=u.ext)&&void 0!==a?a:!u.d&&!u.priv,null!==(s=u.key_ops)&&void 0!==s?s:p)}),Si.apply(this,arguments)}const ao=u=>So(u)&&"string"==typeof u.kty;let nr;const Gc=function(){var u=(0,A.A)(function*(a,s,l){let p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];nr||(nr=new WeakMap);let v=nr.get(a);if(null!=v&&v[l])return v[l];const y=yield Us(ke(ke({},s),{},{alg:l}));return p&&Object.freeze(a),v?v[l]=y:nr.set(a,{[l]:y}),y});return function(s,l,p){return u.apply(this,arguments)}}();function D(){return D=(0,A.A)(function*(u,a){if(u instanceof Uint8Array||tr(u))return u;if(Xo(u)){if("secret"===u.type)return u.export();if("toCryptoKey"in u&&"function"==typeof u.toCryptoKey)try{return((l,p)=>{nr||(nr=new WeakMap);let v=nr.get(l);if(null!=v&&v[p])return v[p];const y="public"===l.type,E=!!y;let S;if("x25519"===l.asymmetricKeyType){switch(p){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}S=l.toCryptoKey(l.asymmetricKeyType,E,y?[]:["deriveBits"])}if("ed25519"===l.asymmetricKeyType){if("EdDSA"!==p&&"Ed25519"!==p)throw new TypeError("given KeyObject instance cannot be used for this algorithm");S=l.toCryptoKey(l.asymmetricKeyType,E,[y?"verify":"sign"])}switch(l.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(p!==l.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");S=l.toCryptoKey(l.asymmetricKeyType,E,[y?"verify":"sign"])}if("rsa"===l.asymmetricKeyType){let T;switch(p){case"RSA-OAEP":T="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":T="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":T="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":T="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(p.startsWith("RSA-OAEP"))return l.toCryptoKey({name:"RSA-OAEP",hash:T},E,y?["encrypt"]:["decrypt"]);S=l.toCryptoKey({name:p.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:T},E,[y?"verify":"sign"])}if("ec"===l.asymmetricKeyType){var P;const T=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(null===(P=l.asymmetricKeyDetails)||void 0===P?void 0:P.namedCurve);if(!T)throw new TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===p&&"P-256"===T&&(S=l.toCryptoKey({name:"ECDSA",namedCurve:T},E,[y?"verify":"sign"])),"ES384"===p&&"P-384"===T&&(S=l.toCryptoKey({name:"ECDSA",namedCurve:T},E,[y?"verify":"sign"])),"ES512"===p&&"P-521"===T&&(S=l.toCryptoKey({name:"ECDSA",namedCurve:T},E,[y?"verify":"sign"])),p.startsWith("ECDH-ES")&&(S=l.toCryptoKey({name:"ECDH",namedCurve:T},E,y?[]:["deriveBits"]))}if(!S)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return v?v[p]=S:nr.set(l,{[p]:S}),S})(u,a)}catch(l){if(l instanceof TypeError)throw l}let s=u.export({format:"jwk"});return Gc(u,s,a)}if(ao(u))return u.k?Zo(u.k):Gc(u,u,a,!0);throw new Error("unreachable")}),D.apply(this,arguments)}const g=u=>u?.[Symbol.toStringTag],w=(u,a,s)=>{if(void 0!==a.use){let v;switch(s){case"sign":case"verify":v="sig";break;case"encrypt":case"decrypt":v="enc"}if(a.use!==v)throw new TypeError('Invalid key for this operation, its "use" must be "'.concat(v,'" when present'))}if(void 0!==a.alg&&a.alg!==u)throw new TypeError('Invalid key for this operation, its "alg" must be "'.concat(u,'" when present'));if(Array.isArray(a.key_ops)){var l,p;let v;switch(!0){case"sign"===s||"verify"===s:case"dir"===u:case u.includes("CBC-HS"):v=s;break;case u.startsWith("PBES2"):v="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(u):v=!u.includes("GCM")&&u.endsWith("KW")?"encrypt"===s?"wrapKey":"unwrapKey":s;break;case"encrypt"===s&&u.startsWith("RSA"):v="wrapKey";break;case"decrypt"===s:v=u.startsWith("RSA")?"unwrapKey":"deriveBits"}if(v&&!1===(null===(l=a.key_ops)||void 0===l||null===(p=l.includes)||void 0===p?void 0:p.call(l,v)))throw new TypeError('Invalid key for this operation, its "key_ops" must include "'.concat(v,'" when present'))}return!0};var V,ce;let Ae,Rt;(typeof navigator>"u"||null===(V=navigator.userAgent)||void 0===V||null===(ce=V.startsWith)||void 0===ce||!ce.call(V,"Mozilla/5.0 "))&&(Rt="".concat("openid-client","/").concat("v6.8.1"),Ae={"user-agent":Rt});const at=u=>Lt.get(u);let Lt,pt;function Kt(u){return void 0!==u?ma(u):(pt||(pt=new WeakMap),(a,s,l,p)=>{let v;return(v=pt.get(s))||(function(y,E){if("string"!=typeof y)throw vt("".concat(E," must be a string"),Fe);if(0===y.length)throw vt("".concat(E," must not be empty"),ie)}(s.client_secret,'"metadata.client_secret"'),v=ma(s.client_secret),pt.set(s,v)),v(a,s,l,p)})}const $e=yn,ie="ERR_INVALID_ARG_VALUE",Fe="ERR_INVALID_ARG_TYPE";function vt(u,a,s){const l=new TypeError(u,{cause:s});return Object.assign(l,{code:a}),l}class fn extends Error{constructor(a,s){var l;super(a,s),me(this,"code",void 0),this.name=this.constructor.name,this.code=s?.code,null===(l=Error.captureStackTrace)||void 0===l||l.call(Error,this,this.constructor)}}function zt(u,a,s){return new fn(u,{cause:a,code:s})}function tt(u){if(u instanceof TypeError||u instanceof fn||u instanceof Zi||u instanceof fr||u instanceof va)throw u;if(u instanceof ha)switch(u.code){case Ca:throw zt("only requests to HTTPS are allowed",u,u.code);case Vc:throw zt("only requests to HTTP or HTTPS are allowed",u,u.code);case Ia:throw zt("unexpected HTTP response status code",u.cause,u.code);case hr:throw zt("unexpected response content-type",u.cause,u.code);case ns:throw zt("parsing error occured",u,u.code);case Ue:throw zt("invalid response encountered",u,u.code);case oo:throw zt("unexpected JWT claim value encountered",u,u.code);case Sa:throw zt("unexpected JSON attribute value encountered",u,u.code);case rs:throw zt("JWT timestamp claim value failed validation",u,u.code);default:throw zt(u.message,u,u.code)}if(u instanceof Qn)throw zt("unsupported operation",u,u.code);if(u instanceof DOMException)switch(u.name){case"OperationError":throw zt("runtime operation error",u,ba);case"NotSupportedError":throw zt("runtime unsupported operation",u,ba);case"TimeoutError":throw zt("operation timed out",u,"OAUTH_TIMEOUT");case"AbortError":throw zt("operation aborted",u,"OAUTH_ABORT")}throw new fn("something went wrong",{cause:u})}function Zn(){return Zn=(0,A.A)(function*(u,a,s,l,p){const v=yield(S=(0,A.A)(function*(P,T){var j,Y;if(!(P instanceof URL))throw vt('"server" must be an instance of URL',Fe);const K=!P.href.includes("/.well-known/"),ae=null!==(j=T?.timeout)&&void 0!==j?j:30,te=AbortSignal.timeout(1e3*ae),oe=yield(K?function As(u,a){return eo.apply(this,arguments)}(P,{algorithm:T?.algorithm,[yn]:T?.[$e],[Me]:null==T||null===(Y=T.execute)||void 0===Y?void 0:Y.includes(To),signal:te,headers:new Headers(Ae)}):(T?.[$e]||fetch)((Ji(P,null==T||null===(ue=T.execute)||void 0===ue||!ue.includes(To)),P.href),{headers:Object.fromEntries(new Headers(ke({accept:"application/json"},Ae)).entries()),body:void 0,method:"GET",redirect:"manual",signal:te})).then(_e=>{return(Pe=(0,A.A)(function*(Ge,De){const ut=Ge;if(!(ut instanceof URL)&&ut!==jr)throw Ce('"expectedIssuerIdentifier" must be an instance of URL',"ERR_INVALID_ARG_TYPE");if(!mn(De,Response))throw Ce('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");if(200!==De.status)throw Ze('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',Ia,De);os(De);const Ot=yield on(De);if($t(Ot.issuer,'"response" body "issuer" property',Ue,{body:Ot}),ut!==jr&&new URL(Ot.issuer).href!==ut.href)throw Ze('"response" body "issuer" property does not match the expected value',Sa,{expected:ut.href,body:Ot,attribute:"issuer"});return Ot}),function(Ge,De){return Pe.apply(this,arguments)})(jr,_e);var Pe}).catch(tt);var ue,Ge;return K&&new URL(oe.issuer).href!==P.href&&(Ge=T,!("https://login.microsoftonline.com"!==P.origin||null!=Ge&&Ge.algorithm&&"oidc"!==Ge.algorithm||(oe[Ye]=!0,0))||function(_e,Pe){return!(!_e.hostname.endsWith(".b2clogin.com")||null!=Pe&&Pe.algorithm&&"oidc"!==Pe.algorithm)}(P,T)||(()=>{throw new fn("discovered metadata issuer does not match the expected issuer",{code:Sa,cause:{expected:P.href,body:oe,attribute:"issuer"}})})()),oe}),function(P,T){return S.apply(this,arguments)})(u,p),y=new qo(v,a,s,l);var S;let E=at(y);if(null!=p&&p[$e]&&(E.fetch=p[$e]),null!=p&&p.timeout&&(E.timeout=p.timeout),null!=p&&p.execute)for(const S of p.execute)S(y);return y}),Zn.apply(this,arguments)}new TextDecoder;const Ye=Symbol();class qo{constructor(a,s,l,p){var v,y,E,S,P;if("string"!=typeof s||!s.length)throw vt('"clientId" must be a non-empty string',Fe);if("string"==typeof l&&(l={client_secret:l}),void 0!==(null===(v=l)||void 0===v?void 0:v.client_id)&&s!==l.client_id)throw vt('"clientId" and "metadata.client_id" must be the same',ie);const T=ke(ke({},structuredClone(l)),{},{client_id:s});let j;T[dr]=null!==(y=null===(E=l)||void 0===E?void 0:E[dr])&&void 0!==y?y:0,T[wo]=null!==(S=null===(P=l)||void 0===P?void 0:P[wo])&&void 0!==S?S:30,j=p||("string"==typeof T.client_secret&&T.client_secret.length?Kt(T.client_secret):(te,oe,ue,_e)=>{ue.set("client_id",oe.client_id)});let Y=Object.freeze(T);const K=structuredClone(a);Ye in a&&(K[kn]=te=>{let{claims:{tid:oe}}=te;return a.issuer.replace("{tenantid}",oe)});let ae=Object.freeze(K);Lt||(Lt=new WeakMap),Lt.set(this,{__proto__:null,as:ae,c:Y,auth:j,tlsOnly:!0,jwksCache:{}})}serverMetadata(){const a=structuredClone(at(this).as);return s=a,Object.defineProperties(s,function(l){return{supportsPKCE:{__proto__:null,value(){var p;return!0===(null===(p=l.code_challenge_methods_supported)||void 0===p?void 0:p.includes(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"S256"))}}}}(s)),a;var s}clientMetadata(){return structuredClone(at(this).c)}get timeout(){return at(this).timeout}set timeout(a){at(this).timeout=a}get[$e](){return at(this).fetch}set[$e](a){at(this).fetch=a}}function ls(u){Object.defineProperties(u,function(a){let s;if(void 0!==a.expires_in){const l=new Date;l.setSeconds(l.getSeconds()+a.expires_in),s=l.getTime()}return{expiresIn:{__proto__:null,value(){if(s){const l=Date.now();return s>l?Math.floor((s-l)/1e3):0}}},claims:{__proto__:null,value(){try{return St(this)}catch{return}}}}}(u))}function Ti(u,a,s){return Xt.apply(this,arguments)}function Xt(){return Xt=(0,A.A)(function*(u,a,s){var l;let p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const v=null===(l=u.headers.get("retry-after"))||void 0===l?void 0:l.trim();if(void 0===v)return;let y;if(/^\d+$/.test(v))y=parseInt(v,10);else{const E=new Date(v);if(Number.isFinite(E.getTime())){const S=new Date,P=E.getTime()-S.getTime();P>0&&(y=Math.ceil(P/1e3))}}if(p&&!Number.isFinite(y))throw new ha("invalid Retry-After header value",{cause:u});y>a&&(yield Yo(y-a,s))}),Xt.apply(this,arguments)}function Yo(u,a){return new Promise((s,l)=>{const p=v=>{try{a.throwIfAborted()}catch(E){return void l(E)}if(v<=0)return void s();const y=Math.min(v,5);setTimeout(()=>p(v-y),1e3*y)};p(u)})}function Ai(u,a){return Hr.apply(this,arguments)}function Hr(){return Hr=(0,A.A)(function*(u,a){Er(u);const{as:s,c:l,auth:p,fetch:v,tlsOnly:y,timeout:E}=at(u);return(S=(0,A.A)(function*(P,T,j,Y,K){Un(P),vr(T);const ae=Jo(P,"backchannel_authentication_endpoint",T.use_mtls_endpoint_aliases,!0!==K?.[Me]),te=new URLSearchParams(Y);te.set("client_id",T.client_id);const oe=Ki(K?.headers);return oe.set("accept","application/json"),Vn(P,T,j,ae,te,oe,K)}),function(P,T,j,Y,K){return S.apply(this,arguments)})(s,l,p,a,{[yn]:v,[Me]:!y,headers:new Headers(Ae),signal:sn(E)}).then(S=>{return(P=(0,A.A)(function*(T,j,Y){if(Un(T),vr(j),!mn(Y,Response))throw Ce('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");yield Lr(Y,200,"Backchannel Authentication Endpoint"),os(Y);const K=yield on(Y);$t(K.auth_req_id,'"response" body "auth_req_id" property',Ue,{body:K});let ae="number"!=typeof K.expires_in?parseFloat(K.expires_in):K.expires_in;return to(ae,!0,'"response" body "expires_in" property',Ue,{body:K}),K.expires_in=ae,void 0!==K.interval&&to(K.interval,!1,'"response" body "interval" property',Ue,{body:K}),K}),function(T,j,Y){return P.apply(this,arguments)})(s,l,S);var P}).catch(tt);var S}),Hr.apply(this,arguments)}function Mi(u,a,s,l){return Ra.apply(this,arguments)}function Ra(){return Ra=(0,A.A)(function*(u,a,s,l){var p,v;Er(u),s=new URLSearchParams(s);let y=null!==(p=a.interval)&&void 0!==p?p:5;const E=null!==(v=l?.signal)&&void 0!==v?v:AbortSignal.timeout(1e3*a.expires_in);try{yield Yo(y,E)}catch(De){tt(De)}const{as:S,c:P,auth:T,fetch:j,tlsOnly:Y,nonRepudiation:K,timeout:ae,decrypt:te}=at(u),oe=(De,ut)=>Mi(u,ke(ke({},a),{},{interval:De}),s,ke(ke({},l),{},{signal:E,flag:ut})),ue=yield(De=(0,A.A)(function*(ut,Ot,pr,Jt,po){Un(ut),vr(Ot),$t(Jt,'"authReqId"');const On=new URLSearchParams(po?.additionalParameters);return On.set("auth_req_id",Jt),Fr(ut,Ot,pr,"urn:openid:params:grant-type:ciba",On,po)}),function(ut,Ot,pr,Jt,po){return De.apply(this,arguments)})(S,P,T,a.auth_req_id,{[yn]:j,[Me]:!Y,additionalParameters:s,DPoP:l?.DPoP,headers:new Headers(Ae),signal:E.aborted?E:sn(ae)}).catch(tt);var De,_e;if(503===ue.status&&ue.headers.has("retry-after"))return yield Ti(ue,y,E,!0),yield null===(_e=ue.body)||void 0===_e?void 0:_e.cancel(),oe(y);const Pe=function(){var De=(0,A.A)(function*(ut,Ot,pr,Jt){return Jn(ut,Ot,pr,void 0,Jt?.[Xn],Jt?.recognizedTokenTypes)});return function(ut,Ot,pr,Jt){return De.apply(this,arguments)}}()(S,P,ue,{[Xn]:te});let Ge;try{Ge=yield Pe}catch(De){if(Dn(De,l))return oe(y,co);if(De instanceof Zi)switch(De.error){case"slow_down":y+=5;case"authorization_pending":return yield Ti(De.response,y,E),oe(y)}tt(De)}return Ge.id_token&&(yield K?.(ue)),ls(Ge),Ge}),Ra.apply(this,arguments)}function To(u){at(u).tlsOnly=!1}function Vs(u,a,s,l,p){return rr.apply(this,arguments)}function rr(){return rr=(0,A.A)(function*(u,a,s,l,p){if(Er(u),!(p?.flag===co||a instanceof URL||function(De){try{return"Request"===Object.getPrototypeOf(De)[Symbol.toStringTag]}catch{return!1}}(a)))throw vt('"currentUrl" must be an instance of URL, or Request',Fe);let v,y;const{as:E,c:S,auth:P,fetch:T,tlsOnly:j,jarm:Y,hybrid:K,nonRepudiation:ae,timeout:te,decrypt:oe,implicit:ue}=at(u);if(p?.flag===co)v=p.authResponse,y=p.redirectUri;else{if(!(a instanceof URL)){const De=a;switch(a=new URL(a.url),De.method){case"GET":break;case"POST":const ut=new URLSearchParams(yield function Bc(u){return Os.apply(this,arguments)}(De));if(K)a.hash=ut.toString();else for(const[Ot,pr]of ut.entries())a.searchParams.append(Ot,pr);break;default:throw vt("unexpected Request HTTP method",ie)}}switch(De=a,(De=new URL(De)).search="",De.hash="",y=De.href,!0){case!!Y:v=yield Y(a,s?.expectedState);break;case!!K:v=yield K(a,s?.expectedNonce,s?.expectedState,s?.maxAge);break;case!!ue:throw new TypeError("authorizationCodeGrant() cannot be used by response_type=id_token clients");default:try{v=function ht(u,a,s,l){if(Un(u),vr(a),s instanceof URL&&(s=s.searchParams),!(s instanceof URLSearchParams))throw Ce('"parameters" must be an instance of URLSearchParams, or URL',"ERR_INVALID_ARG_TYPE");if(er(s,"response"))throw Ze('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',Ue,{parameters:s});const p=er(s,"iss"),v=er(s,"state");if(!p&&u.authorization_response_iss_parameter_supported)throw Ze('response parameter "iss" (issuer) missing',Ue,{parameters:s});if(p&&p!==u.issuer)throw Ze('unexpected "iss" (issuer) response parameter value',Ue,{expected:u.issuer,parameters:s});switch(l){case void 0:case zc:if(void 0!==v)throw Ze('unexpected "state" response parameter encountered',Ue,{expected:void 0,parameters:s});break;case $c:break;default:if($t(l,'"expectedState" argument'),v!==l)throw Ze(void 0===v?'response parameter "state" missing':'unexpected "state" response parameter value',Ue,{expected:l,parameters:s})}if(er(s,"error"))throw new fr("authorization response from the server is an error",{cause:s});const y=er(s,"id_token"),E=er(s,"token");if(void 0!==y||void 0!==E)throw new Qn("implicit and hybrid flows are not supported");return S=new URLSearchParams(s),_i.add(S),S;var S}(E,S,a.searchParams,s?.expectedState)}catch(De){tt(De)}}}var De;const _e=yield function(){var De=(0,A.A)(function*(ut,Ot,pr,Jt,po,On,Po){if(Un(ut),vr(Ot),!_i.has(Jt))throw Ce('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',"ERR_INVALID_ARG_VALUE");$t(po,'"redirectUri"');const mu=er(Jt,"code");if(!mu)throw Ze('no authorization code in "callbackParameters"',Ue);const Fi=new URLSearchParams(Po?.additionalParameters);return Fi.set("redirect_uri",po),Fi.set("code",mu),On!==no&&($t(On,'"codeVerifier"'),Fi.set("code_verifier",On)),Fr(ut,Ot,pr,"authorization_code",Fi,Po)});return function(ut,Ot,pr,Jt,po,On,Po){return De.apply(this,arguments)}}()(E,S,P,v,y,s?.pkceCodeVerifier||no,{additionalParameters:l,[yn]:T,[Me]:!j,DPoP:p?.DPoP,headers:new Headers(Ae),signal:sn(te)}).catch(tt);"string"!=typeof s?.expectedNonce&&"number"!=typeof s?.maxAge||(s.idTokenExpected=!0);const Pe=function Uc(u,a,s,l){return bo.apply(this,arguments)}(E,S,_e,{expectedNonce:s?.expectedNonce,maxAge:s?.maxAge,requireIdToken:s?.idTokenExpected,[Xn]:oe});let Ge;try{Ge=yield Pe}catch(De){if(Dn(De,p))return Vs(u,void 0,s,l,ke(ke({},p),{},{flag:co,authResponse:v,redirectUri:y}));tt(De)}return Ge.id_token&&(yield ae?.(_e)),ls(Ge),Ge}),rr.apply(this,arguments)}function Be(u,a,s,l){return Hs.apply(this,arguments)}function Hs(){return Hs=(0,A.A)(function*(u,a,s,l){Er(u),s=new URLSearchParams(s);const{as:p,c:v,auth:y,fetch:E,tlsOnly:S,nonRepudiation:P,timeout:T,decrypt:j}=at(u),Y=yield(te=(0,A.A)(function*(oe,ue,_e,Pe,Ge){Un(oe),vr(ue),$t(Pe,'"refreshToken"');const De=new URLSearchParams(Ge?.additionalParameters);return De.set("refresh_token",Pe),Fr(oe,ue,_e,"refresh_token",De,Ge)}),function(oe,ue,_e,Pe,Ge){return te.apply(this,arguments)})(p,v,y,a,{[yn]:E,[Me]:!S,additionalParameters:s,DPoP:l?.DPoP,headers:new Headers(Ae),signal:sn(T)}).catch(tt),K=function(){var te=(0,A.A)(function*(oe,ue,_e,Pe){return Jn(oe,ue,_e,void 0,Pe?.[Xn],Pe?.recognizedTokenTypes)});return function(oe,ue,_e,Pe){return te.apply(this,arguments)}}()(p,v,Y,{[Xn]:j});var te;let ae;try{ae=yield K}catch(te){if(Dn(te,l))return Be(u,a,s,ke(ke({},l),{},{flag:co}));tt(te)}return ae.id_token&&(yield P?.(Y)),ls(ae),ae}),Hs.apply(this,arguments)}function ds(u,a,s){return Dr.apply(this,arguments)}function Dr(){return Dr=(0,A.A)(function*(u,a,s){Er(u),a=new URLSearchParams(a);const{as:l,c:p,auth:v,fetch:y,tlsOnly:E,timeout:S}=at(u),P=yield(Y=(0,A.A)(function*(K,ae,te,oe,ue){return Un(K),vr(ae),Fr(K,ae,te,"client_credentials",new URLSearchParams(oe),ue)}),function(K,ae,te,oe,ue){return Y.apply(this,arguments)})(l,p,v,a,{[yn]:y,[Me]:!E,DPoP:s?.DPoP,headers:new Headers(Ae),signal:sn(S)}).catch(tt),T=function(){var Y=(0,A.A)(function*(K,ae,te,oe){return Jn(K,ae,te,void 0,oe?.[Xn],oe?.recognizedTokenTypes)});return function(K,ae,te,oe){return Y.apply(this,arguments)}}()(l,p,P);var Y;let j;try{j=yield T}catch(Y){if(Dn(Y,s))return ds(u,a,ke(ke({},s),{},{flag:co}));tt(Y)}return ls(j),j}),Dr.apply(this,arguments)}function fs(u,a){Er(u);const{as:s,c:l,tlsOnly:p,hybrid:v,jarm:y,implicit:E}=at(u),S=Jo(s,"authorization_endpoint",!1,p);if((a=new URLSearchParams(a)).has("client_id")||a.set("client_id",l.client_id),!a.has("request_uri")&&!a.has("request")){if(a.has("response_type")||a.set("response_type",v?"code id_token":E?"id_token":"code"),E&&!a.has("nonce"))throw vt("response_type=id_token clients must provide a nonce parameter in their authorization request parameters",ie);y&&a.set("response_mode","jwt")}for(const[P,T]of a.entries())S.searchParams.append(P,T);return S}function Ni(u,a,s){return hn.apply(this,arguments)}function hn(){return hn=(0,A.A)(function*(u,a,s){Er(u);const l=fs(u,a),{as:p,c:v,auth:y,fetch:E,tlsOnly:S,timeout:P}=at(u),T=yield(K=(0,A.A)(function*(ae,te,oe,ue,_e){var Pe;Un(ae),vr(te);const Ge=Jo(ae,"pushed_authorization_request_endpoint",te.use_mtls_endpoint_aliases,!0!==_e?.[Me]),De=new URLSearchParams(ue);De.set("client_id",te.client_id);const ut=Ki(_e?.headers);ut.set("accept","application/json"),void 0!==_e?.DPoP&&(_a(_e.DPoP),yield _e.DPoP.addProof(Ge,ut,"POST"));const Ot=yield Vn(ae,te,oe,Ge,De,ut,_e);return null==_e||null===(Pe=_e.DPoP)||void 0===Pe||Pe.cacheNonce(Ot,Ge),Ot}),function(ae,te,oe,ue,_e){return K.apply(this,arguments)})(p,v,y,l.searchParams,{[yn]:E,[Me]:!S,DPoP:s?.DPoP,headers:new Headers(Ae),signal:sn(P)}).catch(tt),j=function(){var K=(0,A.A)(function*(ae,te,oe){if(Un(ae),vr(te),!mn(oe,Response))throw Ce('"response" must be an instance of Response',"ERR_INVALID_ARG_TYPE");yield Lr(oe,201,"Pushed Authorization Request Endpoint"),os(oe);const ue=yield on(oe);$t(ue.request_uri,'"response" body "request_uri" property',Ue,{body:ue});let _e="number"!=typeof ue.expires_in?parseFloat(ue.expires_in):ue.expires_in;return to(_e,!0,'"response" body "expires_in" property',Ue,{body:ue}),ue.expires_in=_e,ue});return function(ae,te,oe){return K.apply(this,arguments)}}()(p,v,T);var K;let Y;try{Y=yield j}catch(K){if(Dn(K,s))return Ni(u,a,ke(ke({},s),{},{flag:co}));tt(K)}return fs(u,{request_uri:Y.request_uri})}),hn.apply(this,arguments)}function Er(u){if(!(u instanceof qo))throw vt('"config" must be an instance of Configuration',Fe);if(Object.getPrototypeOf(u)!==qo.prototype)throw vt("subclassing Configuration is not allowed",ie)}function sn(u){return u?AbortSignal.timeout(1e3*u):void 0}function Dn(u,a){return!(null==a||!a.DPoP||a.flag===co)&&function(s){if(s instanceof va){const{0:l,length:p}=s.cause;return 1===p&&"dpop"===l.scheme&&"use_dpop_nonce"===l.parameters.error}return s instanceof Zi&&"use_dpop_nonce"===s.error}(u)}Object.freeze(qo.prototype);const co=Symbol();function Ao(u,a,s,l){return hs.apply(this,arguments)}function hs(){return hs=(0,A.A)(function*(u,a,s,l){Er(u);const{as:p,c:v,auth:y,fetch:E,tlsOnly:S,timeout:P,decrypt:T}=at(u),j=yield(Y=(0,A.A)(function*(K,ae,te,oe,ue,_e){return Un(K),vr(ae),$t(oe,'"grantType"'),Fr(K,ae,te,oe,new URLSearchParams(ue),_e)}),function(K,ae,te,oe,ue,_e){return Y.apply(this,arguments)})(p,v,y,a,new URLSearchParams(s),{[yn]:E,[Me]:!S,DPoP:l?.DPoP,headers:new Headers(Ae),signal:sn(P)}).then(Y=>{let K;return"urn:ietf:params:oauth:grant-type:token-exchange"===a&&(K={n_a:()=>{}}),(ae=(0,A.A)(function*(te,oe,ue,_e){return Jn(te,oe,ue,void 0,_e?.[Xn],_e?.recognizedTokenTypes)}),function(te,oe,ue,_e){return ae.apply(this,arguments)})(p,v,Y,{[Xn]:T,recognizedTokenTypes:K});var ae}).catch(tt);var Y;return ls(j),j}),hs.apply(this,arguments)}function xi(){return xi=(0,A.A)(function*(u,a,s){if(a instanceof Uint8Array){if(!u.startsWith("HS"))throw new TypeError(function(l){for(var p=arguments.length,v=new Array(p>1?p-1:0),y=1;y<p;y++)v[y-1]=arguments[y];return cs("Key must be ",l,...v)}(a,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",a,{hash:"SHA-".concat(u.slice(-3)),name:"HMAC"},!1,[s])}return function Wc(u,a,s){switch(a){case"HS256":case"HS384":case"HS512":{if(!so(u.algorithm,"HMAC"))throw Ur("HMAC");const l=parseInt(a.slice(2),10);if(bi(u.algorithm.hash)!==l)throw Ur("SHA-".concat(l),"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!so(u.algorithm,"RSASSA-PKCS1-v1_5"))throw Ur("RSASSA-PKCS1-v1_5");const l=parseInt(a.slice(2),10);if(bi(u.algorithm.hash)!==l)throw Ur("SHA-".concat(l),"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!so(u.algorithm,"RSA-PSS"))throw Ur("RSA-PSS");const l=parseInt(a.slice(2),10);if(bi(u.algorithm.hash)!==l)throw Ur("SHA-".concat(l),"algorithm.hash");break}case"Ed25519":case"EdDSA":if(!so(u.algorithm,"Ed25519"))throw Ur("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":if(!so(u.algorithm,a))throw Ur(a);break;case"ES256":case"ES384":case"ES512":{if(!so(u.algorithm,"ECDSA"))throw Ur("ECDSA");const l=function(p){switch(p){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}(a);if(u.algorithm.namedCurve!==l)throw Ur(l,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}!function(l,p){if(p&&!l.usages.includes(p))throw new TypeError("CryptoKey does not support this operation, its usages must include ".concat(p,"."))}(u,s)}(a,u,s),a}),xi.apply(this,arguments)}function Jc(){return Jc=(0,A.A)(function*(u,a,s,l){const p=yield function Br(u,a,s){return xi.apply(this,arguments)}(u,a,"verify");!function(y,E){if(y.startsWith("RS")||y.startsWith("PS")){const{modulusLength:S}=E.algorithm;if("number"!=typeof S||S<2048)throw new TypeError("".concat(y," requires key modulusLength to be 2048 bits or larger"))}}(u,p);const v=function(y,E){const S="SHA-".concat(y.slice(-3));switch(y){case"HS256":case"HS384":case"HS512":return{hash:S,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:S,name:"RSA-PSS",saltLength:parseInt(y.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:S,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:S,name:"ECDSA",namedCurve:E.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:y};default:throw new Hn("alg ".concat(y," is not supported either by JOSE or your javascript runtime"))}}(u,p.algorithm);try{return yield crypto.subtle.verify(v,p,s,l)}catch{return!1}}),Jc.apply(this,arguments)}function ka(){return ka=(0,A.A)(function*(u,a,s){if(!So(u))throw new Pn("Flattened JWS must be an object");if(void 0===u.protected&&void 0===u.header)throw new Pn('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==u.protected&&"string"!=typeof u.protected)throw new Pn("JWS Protected Header incorrect type");if(void 0===u.payload)throw new Pn("JWS Payload missing");if("string"!=typeof u.signature)throw new Pn("JWS Signature missing or incorrect type");if(void 0!==u.header&&!So(u.header))throw new Pn("JWS Unprotected Header incorrect type");let l={};if(u.protected)try{const te=Zo(u.protected);l=JSON.parse(Io.decode(te))}catch{throw new Pn("JWS Protected Header is invalid")}if(!function(){for(var te=arguments.length,oe=new Array(te),ue=0;ue<te;ue++)oe[ue]=arguments[ue];const _e=oe.filter(Boolean);if(0===_e.length||1===_e.length)return!0;let Pe;for(const Ge of _e){const De=Object.keys(Ge);if(Pe&&0!==Pe.size)for(const ut of De){if(Pe.has(ut))return!1;Pe.add(ut)}else Pe=new Set(De)}return!0}(l,u.header))throw new Pn("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const p=ke(ke({},l),u.header);let y=!0;if(function(te,oe,ue,_e,Pe){if(void 0!==Pe.crit&&void 0===_e?.crit)throw new te('"crit" (Critical) Header Parameter MUST be integrity protected');if(!_e||void 0===_e.crit)return new Set;if(!Array.isArray(_e.crit)||0===_e.crit.length||_e.crit.some(De=>"string"!=typeof De||0===De.length))throw new te('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let Ge;Ge=void 0!==ue?new Map([...Object.entries(ue),...oe.entries()]):oe;for(const De of _e.crit){if(!Ge.has(De))throw new Hn('Extension Header Parameter "'.concat(De,'" is not recognized'));if(void 0===Pe[De])throw new te('Extension Header Parameter "'.concat(De,'" is missing'));if(Ge.get(De)&&void 0===_e[De])throw new te('Extension Header Parameter "'.concat(De,'" MUST be integrity protected'))}return new Set(_e.crit)}(Pn,new Map([["b64",!0]]),s?.crit,l,p).has("b64")&&(y=l.b64,"boolean"!=typeof y))throw new Pn('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:E}=p;if("string"!=typeof E||!E)throw new Pn('JWS "alg" (Algorithm) Header Parameter missing or invalid');const S=s&&function(te,oe){if(void 0!==oe&&(!Array.isArray(oe)||oe.some(ue=>"string"!=typeof ue)))throw new TypeError('"'.concat("algorithms",'" option must be an array of strings'));if(oe)return new Set(oe)}(0,s.algorithms);if(S&&!S.has(E))throw new Ma('"alg" (Algorithm) Header Parameter value not allowed');if(y){if("string"!=typeof u.payload)throw new Pn("JWS Payload must be a string")}else if("string"!=typeof u.payload&&!(u.payload instanceof Uint8Array))throw new Pn("JWS Payload must be a string or an Uint8Array instance");let P=!1;"function"==typeof a&&(a=yield a(l,u),P=!0),function M(u,a,s){switch(u.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":((l,p,v)=>{if(!(p instanceof Uint8Array)){if(ao(p)){if("oct"===(y=p).kty&&"string"==typeof y.k&&w(l,p,v))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!js(p))throw new TypeError(us(l,p,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==p.type)throw new TypeError("".concat(g(p),' instances for symmetric algorithms must be of type "secret"'))}var y})(u,a,s);break;default:((l,p,v)=>{if(ao(p))switch(v){case"decrypt":case"sign":if("oct"!==(y=p).kty&&("AKP"===y.kty&&"string"==typeof y.priv||"string"==typeof y.d)&&w(l,p,v))return;throw new TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if((y=>"oct"!==y.kty&&void 0===y.d&&void 0===y.priv)(p)&&w(l,p,v))return;throw new TypeError("JSON Web Key for this operation must be a public JWK")}var y;if(!js(p))throw new TypeError(us(l,p,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===p.type)throw new TypeError("".concat(g(p),' instances for asymmetric algorithms must not be of type "secret"'));if("public"===p.type)switch(v){case"sign":throw new TypeError("".concat(g(p),' instances for asymmetric algorithm signing must be of type "private"'));case"decrypt":throw new TypeError("".concat(g(p),' instances for asymmetric algorithm decryption must be of type "private"'))}if("private"===p.type)switch(v){case"verify":throw new TypeError("".concat(g(p),' instances for asymmetric algorithm verifying must be of type "public"'));case"encrypt":throw new TypeError("".concat(g(p),' instances for asymmetric algorithm encryption must be of type "public"'))}})(u,a,s)}}(E,a,"verify");const T=function(){for(var te=arguments.length,oe=new Array(te),ue=0;ue<te;ue++)oe[ue]=arguments[ue];const _e=oe.reduce((De,ut)=>{let{length:Ot}=ut;return De+Ot},0),Pe=new Uint8Array(_e);let Ge=0;for(const De of oe)Pe.set(De,Ge),Ge+=De.length;return Pe}(void 0!==u.protected?Co(u.protected):new Uint8Array,Co("."),"string"==typeof u.payload?y?Co(u.payload):Ei.encode(u.payload):u.payload);let j;try{j=Zo(u.signature)}catch{throw new Pn("Failed to base64url decode the signature")}const Y=yield function h(u,a){return D.apply(this,arguments)}(a,E);if(!(yield function wl(u,a,s,l){return Jc.apply(this,arguments)}(E,Y,j,T)))throw new io;let K;if(y)try{K=Zo(u.payload)}catch{throw new Pn("Failed to base64url decode the payload")}else K="string"==typeof u.payload?Ei.encode(u.payload):u.payload;const ae={payload:K};return void 0!==u.protected&&(ae.protectedHeader=l),void 0!==u.header&&(ae.unprotectedHeader=u.header),P?ke(ke({},ae),{},{key:Y}):ae}),ka.apply(this,arguments)}const Xc=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function df(u){const a=Xc.exec(u);if(!a||a[4]&&a[1])throw new TypeError("Invalid time period format");const s=parseFloat(a[2]);let l;switch(a[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":l=Math.round(s);break;case"minute":case"minutes":case"min":case"mins":case"m":l=Math.round(60*s);break;case"hour":case"hours":case"hr":case"hrs":case"h":l=Math.round(3600*s);break;case"day":case"days":case"d":l=Math.round(86400*s);break;case"week":case"weeks":case"w":l=Math.round(604800*s);break;default:l=Math.round(31557600*s)}return"-"===a[1]||"ago"===a[4]?-l:l}const ff=u=>u.includes("/")?u.toLowerCase():"application/".concat(u.toLowerCase());function Dl(){return Dl=(0,A.A)(function*(u,a,s){var l;const p=yield(E=(0,A.A)(function*(S,P,T){if(S instanceof Uint8Array&&(S=Io.decode(S)),"string"!=typeof S)throw new Pn("Compact JWS must be a string or Uint8Array");const{0:j,1:Y,2:K,length:ae}=S.split(".");if(3!==ae)throw new Pn("Invalid Compact JWS");const te=yield function Zc(u,a,s){return ka.apply(this,arguments)}({payload:Y,protected:j,signature:K},P,T),oe={payload:te.payload,protectedHeader:te.protectedHeader};return"function"==typeof P?ke(ke({},oe),{},{key:te.key}):oe}),function(S,P,T){return E.apply(this,arguments)})(u,a,s);var E;if(null!==(l=p.protectedHeader.crit)&&void 0!==l&&l.includes("b64")&&!1===p.protectedHeader.b64)throw new ss("JWTs MUST NOT use unencoded payload");const v=function(E,S){let P,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{P=JSON.parse(Io.decode(S))}catch{}if(!So(P))throw new ss("JWT Claims Set must be a top-level JSON object");const{typ:j}=T;if(j&&("string"!=typeof E.typ||ff(E.typ)!==ff(j)))throw new wr('unexpected "typ" JWT header value',P,"typ","check_failed");const{requiredClaims:Y=[],issuer:K,subject:ae,audience:te,maxTokenAge:oe}=T,ue=[...Y];void 0!==oe&&ue.push("iat"),void 0!==te&&ue.push("aud"),void 0!==ae&&ue.push("sub"),void 0!==K&&ue.push("iss");for(const De of new Set(ue.reverse()))if(!(De in P))throw new wr('missing required "'.concat(De,'" claim'),P,De,"missing");if(K&&!(Array.isArray(K)?K:[K]).includes(P.iss))throw new wr('unexpected "iss" claim value',P,"iss","check_failed");if(ae&&P.sub!==ae)throw new wr('unexpected "sub" claim value',P,"sub","check_failed");if(te&&!((u,a)=>"string"==typeof u?a.includes(u):!!Array.isArray(u)&&a.some(Set.prototype.has.bind(new Set(u))))(P.aud,"string"==typeof te?[te]:te))throw new wr('unexpected "aud" claim value',P,"aud","check_failed");let _e;switch(typeof T.clockTolerance){case"string":_e=df(T.clockTolerance);break;case"number":_e=T.clockTolerance;break;case"undefined":_e=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:Pe}=T,Ge=(u=>Math.floor(u.getTime()/1e3))(Pe||new Date);if((void 0!==P.iat||oe)&&"number"!=typeof P.iat)throw new wr('"iat" claim must be a number',P,"iat","invalid");if(void 0!==P.nbf){if("number"!=typeof P.nbf)throw new wr('"nbf" claim must be a number',P,"nbf","invalid");if(P.nbf>Ge+_e)throw new wr('"nbf" claim timestamp check failed',P,"nbf","check_failed")}if(void 0!==P.exp){if("number"!=typeof P.exp)throw new wr('"exp" claim must be a number',P,"exp","invalid");if(P.exp<=Ge-_e)throw new is('"exp" claim timestamp check failed',P,"exp","check_failed")}if(oe){const De=Ge-P.iat;if(De-_e>("number"==typeof oe?oe:df(oe)))throw new is('"iat" claim timestamp check failed (too far in the past)',P,"iat","check_failed");if(De<0-_e)throw new wr('"iat" claim timestamp check failed (it should be in the past)',P,"iat","check_failed")}return P}(p.protectedHeader,p.payload,s),y={payload:v,protectedHeader:p.protectedHeader};return"function"==typeof a?ke(ke({},y),{},{key:p.key}):y}),Dl.apply(this,arguments)}function pg(u){return So(u)}var qc,El,Yc=new WeakMap,bl=new WeakMap;class gg{constructor(a){if(Oe(this,Yc,void 0),Oe(this,bl,new WeakMap),!((s=a)&&"object"==typeof s&&Array.isArray(s.keys)&&s.keys.every(pg)))throw new Na("JSON Web Key Set malformed");var s;qe(Yc,this,structuredClone(a))}jwks(){return re(Yc,this)}getKey(a,s){var l=this;return(0,A.A)(function*(){const{alg:p,kid:v}=ke(ke({},a),s?.header),y=function(T){switch("string"==typeof T&&T.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new Hn('Unsupported "alg" value for a JSON Web Key Set')}}(p),E=re(Yc,l).keys.filter(T=>{let j=y===T.kty;if(j&&"string"==typeof v&&(j=v===T.kid),!j||"string"!=typeof T.alg&&"AKP"!==y||(j=p===T.alg),j&&"string"==typeof T.use&&(j="sig"===T.use),j&&Array.isArray(T.key_ops)&&(j=T.key_ops.includes("verify")),j)switch(p){case"ES256":j="P-256"===T.crv;break;case"ES384":j="P-384"===T.crv;break;case"ES512":j="P-521"===T.crv;break;case"Ed25519":case"EdDSA":j="Ed25519"===T.crv}return j}),{0:S,length:P}=E;if(0===P)throw new as;if(1!==P){const T=new Ls,j=re(bl,l);throw T[Symbol.asyncIterator]=function gn(u){return function(){return new ft(u.apply(this,arguments))}}(function*(){for(const Y of E)try{yield yield ve(hf(j,Y,p))}catch{}}),T}return hf(re(bl,l),S,p)})()}}function hf(u,a,s){return Pa.apply(this,arguments)}function Pa(){return Pa=(0,A.A)(function*(u,a,s){const l=u.get(a)||u.set(a,{}).get(a);if(void 0===l[s]){const p=yield(v=(0,A.A)(function*(y,E,S){var P;if(!So(y))throw new TypeError("JWK must be an object");let T;switch(null!=E||(E=y.alg),null!=T||(T=null!==(P=S?.extractable)&&void 0!==P?P:y.ext),y.kty){case"oct":if("string"!=typeof y.k||!y.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Zo(y.k);case"RSA":if("oth"in y&&void 0!==y.oth)throw new Hn('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return Us(ke(ke({},y),{},{alg:E,ext:T}));case"AKP":if("string"!=typeof y.alg||!y.alg)throw new TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==E&&E!==y.alg)throw new TypeError("JWK alg and alg option value mismatch");return Us(ke(ke({},y),{},{ext:T}));case"EC":case"OKP":return Us(ke(ke({},y),{},{alg:E,ext:T}));default:throw new Hn('Unsupported "kty" (Key Type) Parameter value')}}),function(y,E,S){return v.apply(this,arguments)})(ke(ke({},a),{},{ext:!0}),s);if(p instanceof Uint8Array||"public"!==p.type)throw new Na("JSON Web Key Set members must be public keys");l[s]=p}var v;return l[s]}),Pa.apply(this,arguments)}function Qc(u){const a=new gg(u),s=function(){var l=(0,A.A)(function*(p,v){return a.getKey(p,v)});return function(v,y){return l.apply(this,arguments)}}();return Object.defineProperties(s,{jwks:{value:()=>structuredClone(a.jwks()),enumerable:!1,configurable:!1,writable:!1}}),s}let Il;(typeof navigator>"u"||null===(qc=navigator.userAgent)||void 0===qc||null===(El=qc.startsWith)||void 0===El||!El.call(qc,"Mozilla/5.0 "))&&(Il="".concat("jose","/").concat("v6.1.3"));const pf=Symbol(),Cl=Symbol();var Sl=new WeakMap,eu=new WeakMap,Oa=new WeakMap,ps=new WeakMap,Qo=new WeakMap,Mo=new WeakMap,ei=new WeakMap,La=new WeakMap,ti=new WeakMap,Ri=new WeakMap;class tu{constructor(a,s){if(Oe(this,Sl,void 0),Oe(this,eu,void 0),Oe(this,Oa,void 0),Oe(this,ps,void 0),Oe(this,Qo,void 0),Oe(this,Mo,void 0),Oe(this,ei,void 0),Oe(this,La,void 0),Oe(this,ti,void 0),Oe(this,Ri,void 0),!(a instanceof URL))throw new TypeError("url must be an instance of URL");var l,p;qe(Sl,this,new URL(a.href)),qe(eu,this,"number"==typeof s?.timeoutDuration?s?.timeoutDuration:5e3),qe(Oa,this,"number"==typeof s?.cooldownDuration?s?.cooldownDuration:3e4),qe(ps,this,"number"==typeof s?.cacheMaxAge?s?.cacheMaxAge:6e5),qe(ei,this,new Headers(s?.headers)),Il&&!re(ei,this).has("User-Agent")&&re(ei,this).set("User-Agent",Il),re(ei,this).has("accept")||(re(ei,this).set("accept","application/json"),re(ei,this).append("accept","application/jwk-set+json")),qe(La,this,s?.[pf]),void 0!==s?.[Cl]&&(qe(Ri,this,s?.[Cl]),l=s?.[Cl],p=re(ps,this),"object"==typeof l&&null!==l&&"uat"in l&&"number"==typeof l.uat&&!(Date.now()-l.uat>=p)&&"jwks"in l&&So(l.jwks)&&Array.isArray(l.jwks.keys)&&Array.prototype.every.call(l.jwks.keys,So)&&(qe(Qo,this,re(Ri,this).uat),qe(ti,this,Qc(re(Ri,this).jwks))))}pendingFetch(){return!!re(Mo,this)}coolingDown(){return"number"==typeof re(Qo,this)&&Date.now()<re(Qo,this)+re(Oa,this)}fresh(){return"number"==typeof re(Qo,this)&&Date.now()<re(Qo,this)+re(ps,this)}jwks(){var a;return null===(a=re(ti,this))||void 0===a?void 0:a.jwks()}getKey(a,s){var l=this;return(0,A.A)(function*(){re(ti,l)&&l.fresh()||(yield l.reload());try{return yield re(ti,l).call(l,a,s)}catch(p){if(p instanceof as&&!1===l.coolingDown())return yield l.reload(),re(ti,l).call(l,a,s);throw p}})()}reload(){var a=this;return(0,A.A)(function*(){var s;re(Mo,a)&&(typeof WebSocketPair<"u"||typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent||typeof EdgeRuntime<"u"&&"vercel"===EdgeRuntime)&&qe(Mo,a,void 0),re(Mo,a)||qe(Mo,a,(s=(0,A.A)(function*(l,p,v){const E=yield(arguments.length>3&&void 0!==arguments[3]?arguments[3]:fetch)(l,{method:"GET",signal:v,redirect:"manual",headers:p}).catch(S=>{throw"TimeoutError"===S.name?new Fs:S});if(200!==E.status)throw new Wt("Expected 200 OK from the JSON Web Key Set HTTP response");try{return yield E.json()}catch{throw new Wt("Failed to parse the JSON Web Key Set HTTP response as JSON")}}),function(l,p,v){return s.apply(this,arguments)})(re(Sl,a).href,re(ei,a),AbortSignal.timeout(re(eu,a)),re(La,a)).then(s=>{qe(ti,a,Qc(s)),re(Ri,a)&&(re(Ri,a).uat=Date.now(),re(Ri,a).jwks=s),qe(Qo,a,Date.now()),qe(Mo,a,void 0)}).catch(s=>{throw qe(Mo,a,void 0),s})),yield re(Mo,a)})()}}const gf=["mfaToken"],uo=["mfaToken"];var ni,Bs,Dt,lo,fo,gt,$s,ln,ri=class extends Error{constructor(u,a){super(a),me(this,"code",void 0),this.name="NotSupportedError",this.code=u}},_n=class extends Error{constructor(u,a,s){super(a),me(this,"cause",void 0),me(this,"code",void 0),this.code=u,this.cause=s&&{error:s.error,error_description:s.error_description,message:s.message}}},mf=class extends _n{constructor(u,a){super("token_by_code_error",u,a),this.name="TokenByCodeError"}},nu=class extends _n{constructor(u,a){super("token_by_client_credentials_error",u,a),this.name="TokenByClientCredentialsError"}},yf=class extends _n{constructor(u,a){super("token_by_refresh_token_error",u,a),this.name="TokenByRefreshTokenError"}},or=class extends _n{constructor(u,a){super("token_for_connection_error",u,a),this.name="TokenForConnectionErrorCode"}},$r=class extends _n{constructor(u,a){super("token_exchange_error",u,a),this.name="TokenExchangeError"}},No=class extends Error{constructor(u){super(u),me(this,"code","verify_logout_token_error"),this.name="VerifyLogoutTokenError"}},Fa=class extends _n{constructor(u){super("backchannel_authentication_error","There was an error when trying to use Client-Initiated Backchannel Authentication.",u),me(this,"code","backchannel_authentication_error"),this.name="BackchannelAuthenticationError"}},ja=class extends _n{constructor(u){super("build_authorization_url_error","There was an error when trying to build the authorization URL.",u),this.name="BuildAuthorizationUrlError"}},ru=class extends _n{constructor(u){super("build_link_user_url_error","There was an error when trying to build the Link User URL.",u),this.name="BuildLinkUserUrlError"}},Ua=class extends _n{constructor(u){super("build_unlink_user_url_error","There was an error when trying to build the Unlink User URL.",u),this.name="BuildUnlinkUserUrlError"}},Va=class extends Error{constructor(){super("The client secret or client assertion signing key must be provided."),me(this,"code","missing_client_auth_error"),this.name="MissingClientAuthError"}};function zs(u){return Object.entries(u).filter(a=>{let[,s]=a;return void 0!==s}).reduce((a,s)=>ke(ke({},a),{},{[s[0]]:s[1]}),{})}var br=class extends Error{constructor(u,a,s){super(a),me(this,"cause",void 0),me(this,"code",void 0),this.code=u,this.cause=s&&{error:s.error,error_description:s.error_description,message:s.message}}},nt=class extends br{constructor(u,a){super("mfa_list_authenticators_error",u,a),this.name="MfaListAuthenticatorsError"}},Ha=class extends br{constructor(u,a){super("mfa_enrollment_error",u,a),this.name="MfaEnrollmentError"}},ou=class extends br{constructor(u,a){super("mfa_delete_authenticator_error",u,a),this.name="MfaDeleteAuthenticatorError"}},Tl=class extends br{constructor(u,a){super("mfa_challenge_error",u,a),this.name="MfaChallengeError"}};function mg(u){return{id:u.id,authenticatorType:u.authenticator_type,active:u.active,name:u.name,oobChannels:u.oob_channels,type:u.type}}var vf=(ni=new WeakMap,Bs=new WeakMap,Dt=new WeakMap,class{constructor(u){var a;Oe(this,ni,void 0),Oe(this,Bs,void 0),Oe(this,Dt,void 0),qe(ni,this,"https://".concat(u.domain)),qe(Bs,this,u.clientId),qe(Dt,this,null!==(a=u.customFetch)&&void 0!==a?a:function(){return fetch(...arguments)})}listAuthenticators(u){var a=this;return(0,A.A)(function*(){const s="".concat(re(ni,a),"/mfa/authenticators"),{mfaToken:l}=u,p=yield re(Dt,a).call(a,s,{method:"GET",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"}});if(!p.ok){const v=yield p.json();throw new nt(v.error_description||"Failed to list authenticators",v)}return(yield p.json()).map(mg)})()}enrollAuthenticator(u){var a=this;return(0,A.A)(function*(){const s="".concat(re(ni,a),"/mfa/associate"),{mfaToken:l}=u,p=rn(u,gf),v={authenticator_types:p.authenticatorTypes};"oobChannels"in p&&(v.oob_channels=p.oobChannels),"phoneNumber"in p&&p.phoneNumber&&(v.phone_number=p.phoneNumber),"email"in p&&p.email&&(v.email=p.email);const y=yield re(Dt,a).call(a,s,{method:"POST",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"},body:JSON.stringify(v)});if(!y.ok){const E=yield y.json();throw new Ha(E.error_description||"Failed to enroll authenticator",E)}return function(E){if("otp"===E.authenticator_type)return{authenticatorType:"otp",secret:E.secret,barcodeUri:E.barcode_uri,recoveryCodes:E.recovery_codes,id:E.id};if("oob"===E.authenticator_type)return{authenticatorType:"oob",oobChannel:E.oob_channel,oobCode:E.oob_code,bindingMethod:E.binding_method,id:E.id};throw new Error("Unexpected authenticator type: ".concat(E.authenticator_type))}(yield y.json())})()}deleteAuthenticator(u){var a=this;return(0,A.A)(function*(){const{authenticatorId:s,mfaToken:l}=u,p="".concat(re(ni,a),"/mfa/authenticators/").concat(encodeURIComponent(s)),v=yield re(Dt,a).call(a,p,{method:"DELETE",headers:{Authorization:"Bearer ".concat(l),"Content-Type":"application/json"}});if(!v.ok){const y=yield v.json();throw new ou(y.error_description||"Failed to delete authenticator",y)}})()}challengeAuthenticator(u){var a=this;return(0,A.A)(function*(){const s="".concat(re(ni,a),"/mfa/challenge"),{mfaToken:l}=u,p=rn(u,uo),v={mfa_token:l,client_id:re(Bs,a),challenge_type:p.challengeType};p.authenticatorId&&(v.authenticator_id=p.authenticatorId);const y=yield re(Dt,a).call(a,s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!y.ok){const E=yield y.json();throw new Tl(E.error_description||"Failed to challenge authenticator",E)}return function(E){const S={challengeType:E.challenge_type};return void 0!==E.oob_code&&(S.oobCode=E.oob_code),void 0!==E.binding_method&&(S.bindingMethod=E.binding_method),S}(yield y.json())})()}}),ki=class mE{constructor(a,s,l,p,v,y,E){me(this,"accessToken",void 0),me(this,"idToken",void 0),me(this,"refreshToken",void 0),me(this,"expiresAt",void 0),me(this,"scope",void 0),me(this,"claims",void 0),me(this,"authorizationDetails",void 0),me(this,"tokenType",void 0),me(this,"issuedTokenType",void 0),this.accessToken=a,this.idToken=l,this.refreshToken=p,this.expiresAt=s,this.scope=v,this.claims=y,this.authorizationDetails=E}static fromTokenEndpointResponse(a){const s=a.id_token?a.claims():void 0,l=new mE(a.access_token,Math.floor(Date.now()/1e3)+Number(a.expires_in),a.id_token,a.refresh_token,a.scope,s,a.authorization_details);return l.tokenType=a.token_type,l.issuedTokenType=a.issued_token_type,l}},iu="openid profile email offline_access",Al=Object.freeze(new Set(["grant_type","client_id","client_secret","client_assertion","client_assertion_type","subject_token","subject_token_type","requested_token_type","actor_token","actor_token_type","audience","aud","resource","resources","resource_indicator","scope","connection","login_hint","organization","assertion"]));function oi(u){if(null==u)throw new $r("subject_token is required");if("string"!=typeof u)throw new $r("subject_token must be a string");if(0===u.trim().length)throw new $r("subject_token cannot be blank or whitespace");if(u!==u.trim())throw new $r("subject_token must not include leading or trailing whitespace");if(/^bearer\s+/i.test(u))throw new $r("subject_token must not include the 'Bearer ' prefix")}function Ml(u,a){if(a)for(const[s,l]of Object.entries(a))if(!Al.has(s))if(Array.isArray(l)){if(l.length>20)throw new $r("Parameter '".concat(s,"' exceeds maximum array size of ").concat(20));l.forEach(p=>{u.append(s,p)})}else u.append(s,l)}var _f=(lo=new WeakMap,fo=new WeakMap,gt=new WeakMap,$s=new WeakMap,ln=new WeakSet,class{constructor(u){if(Se(this,s=ln),s.add(this),Oe(this,lo,void 0),Oe(this,fo,void 0),Oe(this,gt,void 0),Oe(this,$s,void 0),me(this,"mfa",void 0),qe(gt,this,u),u.useMtls&&!u.customFetch)throw new ri("mtls_without_custom_fetch_not_supported","Using mTLS without a custom fetch implementation is not supported");var s;this.mfa=new vf({domain:re(gt,this).domain,clientId:re(gt,this).clientId,customFetch:re(gt,this).customFetch})}buildAuthorizationUrl(u){var a=this;return(0,A.A)(function*(){const{serverMetadata:s}=yield X(ln,a,Ir).call(a);if(null!=u&&u.pushedAuthorizationRequests&&!s.pushed_authorization_request_endpoint)throw new ri("par_not_supported_error","The Auth0 tenant does not have pushed authorization requests enabled. Learn how to enable it here: https://auth0.com/docs/get-started/applications/configure-par");try{return yield X(ln,a,$a).call(a,u)}catch(l){throw new ja(l)}})()}buildLinkUserUrl(u){var a=this;return(0,A.A)(function*(){try{const s=yield X(ln,a,$a).call(a,{authorizationParams:ke(ke({},u.authorizationParams),{},{requested_connection:u.connection,requested_connection_scope:u.connectionScope,scope:"openid link_account offline_access",id_token_hint:u.idToken})});return{linkUserUrl:s.authorizationUrl,codeVerifier:s.codeVerifier}}catch(s){throw new ru(s)}})()}buildUnlinkUserUrl(u){var a=this;return(0,A.A)(function*(){try{const s=yield X(ln,a,$a).call(a,{authorizationParams:ke(ke({},u.authorizationParams),{},{requested_connection:u.connection,scope:"openid unlink_account",id_token_hint:u.idToken})});return{unlinkUserUrl:s.authorizationUrl,codeVerifier:s.codeVerifier}}catch(s){throw new Ua(s)}})()}backchannelAuthentication(u){var a=this;return(0,A.A)(function*(){const{configuration:s,serverMetadata:l}=yield X(ln,a,Ir).call(a),p=zs(ke(ke({},re(gt,a).authorizationParams),u?.authorizationParams)),v=new URLSearchParams(ke(ke({scope:iu},p),{},{client_id:re(gt,a).clientId,binding_message:u.bindingMessage,login_hint:JSON.stringify({format:"iss_sub",iss:l.issuer,sub:u.loginHint.sub})}));u.requestedExpiry&&v.append("requested_expiry",u.requestedExpiry.toString()),u.authorizationDetails&&v.append("authorization_details",JSON.stringify(u.authorizationDetails));try{const y=yield Ai(s,v),E=yield Mi(s,y);return ki.fromTokenEndpointResponse(E)}catch(y){throw new Fa(y)}})()}initiateBackchannelAuthentication(u){var a=this;return(0,A.A)(function*(){const{configuration:s,serverMetadata:l}=yield X(ln,a,Ir).call(a),p=zs(ke(ke({},re(gt,a).authorizationParams),u?.authorizationParams)),v=new URLSearchParams(ke(ke({scope:iu},p),{},{client_id:re(gt,a).clientId,binding_message:u.bindingMessage,login_hint:JSON.stringify({format:"iss_sub",iss:l.issuer,sub:u.loginHint.sub})}));u.requestedExpiry&&v.append("requested_expiry",u.requestedExpiry.toString()),u.authorizationDetails&&v.append("authorization_details",JSON.stringify(u.authorizationDetails));try{const y=yield Ai(s,v);return{authReqId:y.auth_req_id,expiresIn:y.expires_in,interval:y.interval}}catch(y){throw new Fa(y)}})()}backchannelAuthenticationGrant(u){var a=this;return(0,A.A)(function*(){let{authReqId:s}=u;const{configuration:l}=yield X(ln,a,Ir).call(a),p=new URLSearchParams({auth_req_id:s});try{const v=yield Ao(l,"urn:openid:params:grant-type:ciba",p);return ki.fromTokenEndpointResponse(v)}catch(v){throw new Fa(v)}})()}getTokenForConnection(u){var a=this;return(0,A.A)(function*(){var s;if(u.refreshToken&&u.accessToken)throw new or("Either a refresh or access token should be specified, but not both.");const l=null!==(s=u.accessToken)&&void 0!==s?s:u.refreshToken;if(!l)throw new or("Either a refresh or access token must be specified.");try{return yield a.exchangeToken({connection:u.connection,subjectToken:l,subjectTokenType:u.accessToken?"urn:ietf:params:oauth:token-type:access_token":"urn:ietf:params:oauth:token-type:refresh_token",loginHint:u.loginHint})}catch(p){throw p instanceof $r?new or(p.message,p.cause):p}})()}exchangeToken(u){var a=this;return(0,A.A)(function*(){return"connection"in u?X(ln,a,wf).call(a,u):X(ln,a,_t).call(a,u)})()}getTokenByCode(u,a){var s=this;return(0,A.A)(function*(){const{configuration:l}=yield X(ln,s,Ir).call(s);try{const p=yield Vs(l,u,{pkceCodeVerifier:a.codeVerifier});return ki.fromTokenEndpointResponse(p)}catch(p){throw new mf("There was an error while trying to request a token.",p)}})()}getTokenByRefreshToken(u){var a=this;return(0,A.A)(function*(){const{configuration:s}=yield X(ln,a,Ir).call(a);try{const l=yield Be(s,u.refreshToken);return ki.fromTokenEndpointResponse(l)}catch(l){throw new yf("The access token has expired and there was an error while trying to refresh it.",l)}})()}getTokenByClientCredentials(u){var a=this;return(0,A.A)(function*(){const{configuration:s}=yield X(ln,a,Ir).call(a);try{const l=new URLSearchParams({audience:u.audience});u.organization&&l.append("organization",u.organization);const p=yield ds(s,l);return ki.fromTokenEndpointResponse(p)}catch(l){throw new nu("There was an error while trying to request a token.",l)}})()}buildLogoutUrl(u){var a=this;return(0,A.A)(function*(){const{configuration:s,serverMetadata:l}=yield X(ln,a,Ir).call(a);if(!l.end_session_endpoint){const p=new URL("https://".concat(re(gt,a).domain,"/v2/logout"));return p.searchParams.set("returnTo",u.returnTo),p.searchParams.set("client_id",re(gt,a).clientId),p}return function(p,v){Er(p);const{as:y,c:E,tlsOnly:S}=at(p),P=Jo(y,"end_session_endpoint",!1,S);(v=new URLSearchParams(v)).has("client_id")||v.set("client_id",E.client_id);for(const[T,j]of v.entries())P.searchParams.append(T,j);return P}(s,{post_logout_redirect_uri:u.returnTo})})()}verifyLogoutToken(u){var a=this;return(0,A.A)(function*(){const{serverMetadata:s}=yield X(ln,a,Ir).call(a);re($s,a)||qe($s,a,function(p,v){const y=new tu(p,v),E=function(){var S=(0,A.A)(function*(P,T){return y.getKey(P,T)});return function(T,j){return S.apply(this,arguments)}}();return Object.defineProperties(E,{coolingDown:{get:()=>y.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>y.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>y.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>y.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>y.jwks(),enumerable:!0,configurable:!1,writable:!1}}),E}(new URL(s.jwks_uri),{[pf]:re(gt,a).customFetch}));const{payload:l}=yield function hg(u,a,s){return Dl.apply(this,arguments)}(u.logoutToken,re($s,a),{issuer:s.issuer,audience:re(gt,a).clientId,algorithms:["RS256"],requiredClaims:["iat"]});if(!("sid"in l)&&!("sub"in l))throw new No('either "sid" or "sub" (or both) claims must be present');if("sid"in l&&"string"!=typeof l.sid)throw new No('"sid" claim must be a string');if("sub"in l&&"string"!=typeof l.sub)throw new No('"sub" claim must be a string');if("nonce"in l)throw new No('"nonce" claim is prohibited');if(!("events"in l))throw new No('"events" claim is missing');if("object"!=typeof l.events||null===l.events)throw new No('"events" claim must be an object');if(!("http://schemas.openid.net/event/backchannel-logout"in l.events))throw new No('"http://schemas.openid.net/event/backchannel-logout" member is missing in the "events" claim');if("object"!=typeof l.events["http://schemas.openid.net/event/backchannel-logout"])throw new No('"http://schemas.openid.net/event/backchannel-logout" member in the "events" claim must be an object');return{sid:l.sid,sub:l.sub}})()}});function Ir(){return su.apply(this,arguments)}function su(){return su=(0,A.A)(function*(){if(re(lo,this)&&re(fo,this))return{configuration:re(lo,this),serverMetadata:re(fo,this)};const u=yield X(ln,this,Nl).call(this);return qe(lo,this,yield function un(u,a,s,l,p){return Zn.apply(this,arguments)}(new URL("https://".concat(re(gt,this).domain)),re(gt,this).clientId,{use_mtls_endpoint_aliases:re(gt,this).useMtls},u,{[$e]:re(gt,this).customFetch})),qe(fo,this,re(lo,this).serverMetadata()),re(lo,this)[$e]=re(gt,this).customFetch||fetch,{configuration:re(lo,this),serverMetadata:re(fo,this)}}),su.apply(this,arguments)}function wf(u){return J.apply(this,arguments)}function J(){return J=(0,A.A)(function*(u){var a,s;const{configuration:l}=yield X(ln,this,Ir).call(this);if("audience"in u||"resource"in u)throw new $r("audience and resource parameters are not supported for Token Vault exchanges");oi(u.subjectToken);const p=new URLSearchParams({connection:u.connection,subject_token:u.subjectToken,subject_token_type:null!==(a=u.subjectTokenType)&&void 0!==a?a:"urn:ietf:params:oauth:token-type:access_token",requested_token_type:null!==(s=u.requestedTokenType)&&void 0!==s?s:"http://auth0.com/oauth/token-type/federated-connection-access-token"});u.loginHint&&p.append("login_hint",u.loginHint),u.scope&&p.append("scope",u.scope),Ml(p,u.extra);try{const v=yield Ao(l,"urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token",p);return ki.fromTokenEndpointResponse(v)}catch(v){throw new $r("Failed to exchange token for connection '".concat(u.connection,"'."),v)}}),J.apply(this,arguments)}function _t(u){return Ba.apply(this,arguments)}function Ba(){return Ba=(0,A.A)(function*(u){const{configuration:a}=yield X(ln,this,Ir).call(this);oi(u.subjectToken);const s=new URLSearchParams({subject_token_type:u.subjectTokenType,subject_token:u.subjectToken});u.audience&&s.append("audience",u.audience),u.scope&&s.append("scope",u.scope),u.requestedTokenType&&s.append("requested_token_type",u.requestedTokenType),u.organization&&s.append("organization",u.organization),Ml(s,u.extra);try{const l=yield Ao(a,"urn:ietf:params:oauth:grant-type:token-exchange",s);return ki.fromTokenEndpointResponse(l)}catch(l){throw new $r("Failed to exchange token of type '".concat(u.subjectTokenType,"'").concat(u.audience?" for audience '".concat(u.audience,"'"):"","."),l)}}),Ba.apply(this,arguments)}function Nl(){return Ut.apply(this,arguments)}function Ut(){return Ut=(0,A.A)(function*(){if(!re(gt,this).clientSecret&&!re(gt,this).clientAssertionSigningKey&&!re(gt,this).useMtls)throw new Va;if(re(gt,this).useMtls)return(a,s,l,p)=>{l.set("client_id",s.client_id)};let u=re(gt,this).clientAssertionSigningKey;return!u||u instanceof CryptoKey||(u=yield(a=(0,A.A)(function*(s,l,p){if("string"!=typeof s||0!==s.indexOf("-----BEGIN PRIVATE KEY-----"))throw new TypeError('"pkcs8" must be PKCS#8 formatted string');return Ci(s,l,p)}),function(s,l,p){return a.apply(this,arguments)})(u,re(gt,this).clientAssertionSigningAlg||"RS256")),u?function(a){return function gl(u,a){const{key:s,kid:l}=(p=u)instanceof CryptoKey?{key:p}:p?.key instanceof CryptoKey?(void 0!==p.kid&&$t(p.kid,'"kid"'),{key:p.key,kid:p.kid}):{};var p;return function Ts(u,a){if(function(s,l){if(!(s instanceof CryptoKey))throw Ce("".concat(l," must be a CryptoKey"),"ERR_INVALID_ARG_TYPE")}(u,a),"private"!==u.type)throw Ce("".concat(a," must be a private CryptoKey"),"ERR_INVALID_ARG_VALUE")}(s,'"clientPrivateKey.key"'),function(){var v=(0,A.A)(function*(y,E,S,P){var T;const j={alg:Lc(s),kid:l},Y=function(K,ae){const te=Eo()+He(ae);return{jti:vn(),aud:K.issuer,exp:te+60,iat:te,nbf:te,iss:ae.client_id,sub:ae.client_id}}(y,E);var K;null==a||null===(T=a[zi])||void 0===T||T.call(a,j,Y),S.set("client_id",E.client_id),S.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),S.set("client_assertion",yield(K=(0,A.A)(function*(ae,te,oe){if(!oe.usages.includes("sign"))throw Ce('CryptoKey instances used for signing assertions must include "sign" in their "usages"',"ERR_INVALID_ARG_VALUE");const ue="".concat(Qr(Yr(JSON.stringify(ae))),".").concat(Qr(Yr(JSON.stringify(te)))),_e=Qr(yield crypto.subtle.sign(function(Pe){switch(Pe.algorithm.name){case"ECDSA":return{name:Pe.algorithm.name,hash:Ps(Pe)};case"RSA-PSS":switch(Hc(Pe),Pe.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:Pe.algorithm.name,saltLength:parseInt(Pe.algorithm.hash.name.slice(-3),10)>>3};default:throw new Qn("unsupported RSA-PSS hash name",{cause:Pe})}case"RSASSA-PKCS1-v1_5":return Hc(Pe),Pe.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return Pe.algorithm.name}throw new Qn("unsupported CryptoKey algorithm name",{cause:Pe})}(oe),oe,Yr(ue)));return"".concat(ue,".").concat(_e)}),function(ae,te,oe){return K.apply(this,arguments)})(j,Y,s))});return function(y,E,S,P){return v.apply(this,arguments)}}()}(a,void 0)}(u):Kt(re(gt,this).clientSecret);var a}),Ut.apply(this,arguments)}function $a(u){return Pi.apply(this,arguments)}function Pi(){return Pi=(0,A.A)(function*(u){const{configuration:a}=yield X(ln,this,Ir).call(this),s=function Zt(){return vn()}(),l=yield function Cn(u){return(a=(0,A.A)(function*(s){return $t(s,"codeVerifier"),Qr(yield crypto.subtle.digest("SHA-256",Yr(s)))}),function(s){return a.apply(this,arguments)})(u);var a}(s),p=zs(ke(ke({},re(gt,this).authorizationParams),u?.authorizationParams)),v=new URLSearchParams(ke(ke({scope:iu},p),{},{client_id:re(gt,this).clientId,code_challenge:l,code_challenge_method:"S256"}));return{authorizationUrl:null!=u&&u.pushedAuthorizationRequests?yield Ni(a,v):yield fs(a,v),codeVerifier:s}}),Pi.apply(this,arguments)}const qn=new It;class au{constructor(a){var s=this;let l,p;if(this.userCache=(new fi).enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=(0,A.A)(function*(){const T=Array.from(s.activeLockKeys);for(const j of T)yield qn.releaseLock(j);s.activeLockKeys.clear(),window.removeEventListener("pagehide",s._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),a),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),a.authorizationParams)}),typeof window<"u"&&(()=>{if(!en())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===en().subtle)throw new Error("\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    ")})(),a.cache&&a.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),a.cache)p=a.cache;else{if(l=a.cacheLocation||"memory",!Bo(l))throw new Error('Invalid cache location "'.concat(l,'"'));p=Bo(l)()}this.httpTimeoutMs=a.httpTimeoutInSeconds?1e3*a.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===a.legacySameSiteCookie?ur:da,this.orgHintCookieName="auth0.".concat(this.options.clientId,".organization_hint"),this.isAuthenticatedCookieName=(()=>"auth0.".concat(this.options.clientId,".is.authenticated"))(),this.sessionCheckExpiryDays=a.sessionCheckExpiryDays||1;const y=a.useCookiesForTransactions?this.cookieStorage:fa;var E,T,j;this.scope=function(T,j){for(var Y=arguments.length,K=new Array(Y>2?Y-2:0),ae=2;ae<Y;ae++)K[ae-2]=arguments[ae];if("object"!=typeof T)return{default:yt(j,T,...K)};let te={default:yt(j,...K)};return Object.keys(T).forEach(oe=>{te[oe]=yt(j,T[oe],...K)}),te}(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new kr(y,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||Ne,this.cacheManager=new jo(p,p.allKeys?void 0:new Ho(p,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new Wo(this.options.clientId):void 0,this.domainUrl=/^https?:\/\//.test(E=this.options.domain)?E:"https://".concat(E),this.tokenIssuer=(j=this.domainUrl,(T=this.options.issuer)?T.startsWith("https://")?T:"https://".concat(T,"/"):"".concat(j,"/"));const S="".concat(this.domainUrl,"/me/"),P=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:S},detailedResponse:!0})}));this.myAccountApi=new k(P,S),this.authJsClient=new _f({domain:this.options.domain,clientId:this.options.clientId}),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&"memory"===l&&(this.worker=this.options.workerUrl?new Worker(this.options.workerUrl):new mi)}getConfiguration(){return Object.freeze({domain:this.options.domain,clientId:this.options.clientId})}_url(a){const s=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||Qt)));return"".concat(this.domainUrl).concat(a,"&auth0Client=").concat(s)}_authorizeUrl(a){return this._url("/authorize?".concat(H(a)))}_verifyIdToken(a,s,l){var p=this;return(0,A.A)(function*(){const v=yield p.nowProvider();return(u=>{if(!u.id_token)throw new Error("ID token is required but missing");const a=(v=>{const y=v.split("."),[E,S,P]=y;if(3!==y.length||!E||!S||!P)throw new Error("ID token could not be decoded");const T=JSON.parse(z(S)),j={__raw:v},Y={};return Object.keys(T).forEach(K=>{j[K]=T[K],hi.includes(K)||(Y[K]=T[K])}),{encoded:{header:E,payload:S,signature:P},header:JSON.parse(z(E)),claims:j,user:Y}})(u.id_token);if(!a.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(a.claims.iss!==u.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'.concat(u.iss,'", found "').concat(a.claims.iss,'"'));if(!a.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==a.header.alg)throw new Error('Signature algorithm of "'.concat(a.header.alg,'" is not supported. Expected the ID token to be signed with "RS256".'));if(!a.claims.aud||"string"!=typeof a.claims.aud&&!Array.isArray(a.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(a.claims.aud)){if(!a.claims.aud.includes(u.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(u.aud,'" but was not one of "').concat(a.claims.aud.join(", "),'"'));if(a.claims.aud.length>1){if(!a.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(a.claims.azp!==u.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'.concat(u.aud,'", found "').concat(a.claims.azp,'"'))}}else if(a.claims.aud!==u.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'.concat(u.aud,'" but found "').concat(a.claims.aud,'"'));if(u.nonce){if(!a.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(a.claims.nonce!==u.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'.concat(u.nonce,'", found "').concat(a.claims.nonce,'"'))}if(u.max_age&&!We(a.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(null==a.claims.exp||!We(a.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!We(a.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const s=u.leeway||60,l=new Date(u.now||Date.now()),p=new Date(0);if(p.setUTCSeconds(a.claims.exp+s),l>p)throw new Error("Expiration Time (exp) claim error in the ID token; current time (".concat(l,") is after expiration time (").concat(p,")"));if(null!=a.claims.nbf&&We(a.claims.nbf)){const v=new Date(0);if(v.setUTCSeconds(a.claims.nbf-s),l<v)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (".concat(l,") is before ").concat(v))}if(null!=a.claims.auth_time&&We(a.claims.auth_time)){const v=new Date(0);if(v.setUTCSeconds(parseInt(a.claims.auth_time)+u.max_age+s),l>v)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (".concat(l,") is after last auth at ").concat(v))}if(u.organization){const v=u.organization.trim();if(v.startsWith("org_")){const y=v;if(!a.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(y!==a.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected "'.concat(y,'", found "').concat(a.claims.org_id,'"'))}else{const y=v.toLowerCase();if(!a.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(y!==a.claims.org_name)throw new Error('Organization Name (org_name) claim mismatch in the ID token; expected "'.concat(y,'", found "').concat(a.claims.org_name,'"'))}}return a})({iss:p.tokenIssuer,aud:p.options.clientId,id_token:a,nonce:s,organization:l,leeway:p.options.leeway,max_age:(y=p.options.authorizationParams.max_age,"string"!=typeof y?y:parseInt(y,10)||void 0),now:v});var y})()}_processOrgHint(a){a?this.cookieStorage.save(this.orgHintCookieName,a,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(a,s,l){var p=this;return(0,A.A)(function*(){var v;const y=ar(Ln()),E=ar(Ln()),S=Ln(),P=yield G(S),T=he(P),j=yield null===(v=p.dpop)||void 0===v?void 0:v.calculateThumbprint(),Y=(ae=p.options,te=p.scope,oe=a,ue=y,_e=E,Pe=T,Ge=a.redirect_uri||p.options.authorizationParams.redirect_uri||l,De=s?.response_mode,ut=j,Object.assign(Object.assign(Object.assign({client_id:ae.clientId},ae.authorizationParams),oe),{scope:Fo(te,oe.scope,oe.audience),response_type:"code",response_mode:De||"query",state:ue,nonce:_e,redirect_uri:Ge||ae.authorizationParams.redirect_uri,code_challenge:Pe,code_challenge_method:"S256",dpop_jkt:ut})),K=p._authorizeUrl(Y);var ae,te,oe,ue,_e,Pe,Ge,De,ut;return{nonce:E,code_verifier:S,scope:Y.scope,audience:Y.audience||"default",redirect_uri:Y.redirect_uri,state:y,url:K}})()}loginWithPopup(a,s){var l=this;return(0,A.A)(function*(){var p;if(a=a||{},!(s=s||{}).popup&&(s.popup=(()=>{const P=window.screenX+(window.innerWidth-400)/2,T=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup","left=".concat(P,",top=").concat(T,",width=").concat(400,",height=").concat(600,",resizable,scrollbars=yes,status=1"))})(),!s.popup))throw new de;const v=yield l._prepareAuthorizeUrl(a.authorizationParams||{},{response_mode:"web_message"},window.location.origin);s.popup.location.href=v.url;const y=yield(S=Object.assign(Object.assign({},s),{timeoutInSeconds:s.timeoutInSeconds||l.options.authorizeTimeoutInSeconds||60}),new Promise((P,T)=>{let j;const Y=setInterval(()=>{S.popup&&S.popup.closed&&(clearInterval(Y),clearTimeout(K),window.removeEventListener("message",j,!1),T(new je(S.popup)))},1e3),K=setTimeout(()=>{clearInterval(Y),T(new Te(S.popup)),window.removeEventListener("message",j,!1)},1e3*(S.timeoutInSeconds||60));j=function(ae){if(ae.data&&"authorization_response"===ae.data.type){if(clearTimeout(K),clearInterval(Y),window.removeEventListener("message",j,!1),!1!==S.closePopup&&S.popup.close(),ae.data.response.error)return T(se.fromPayload(ae.data.response));P(ae.data.response)}},window.addEventListener("message",j)}));var S;if(v.state!==y.state)throw new se("state_mismatch","Invalid state");const E=(null===(p=a.authorizationParams)||void 0===p?void 0:p.organization)||l.options.authorizationParams.organization;yield l._requestToken({audience:v.audience,scope:v.scope,code_verifier:v.code_verifier,grant_type:"authorization_code",code:y.code,redirect_uri:v.redirect_uri},{nonceIn:v.nonce,organization:E})})()}getUser(){var a=this;return(0,A.A)(function*(){var s;const l=yield a._getIdTokenFromCache();return null===(s=l?.decodedToken)||void 0===s?void 0:s.user})()}getIdTokenClaims(){var a=this;return(0,A.A)(function*(){var s;const l=yield a._getIdTokenFromCache();return null===(s=l?.decodedToken)||void 0===s?void 0:s.claims})()}loginWithRedirect(){var a=arguments,s=this;return(0,A.A)(function*(){var l;const p=$o(a.length>0&&void 0!==a[0]?a[0]:{}),{openUrl:v,fragment:y,appState:E}=p,S=W(p,["openUrl","fragment","appState"]),P=(null===(l=S.authorizationParams)||void 0===l?void 0:l.organization)||s.options.authorizationParams.organization,T=yield s._prepareAuthorizeUrl(S.authorizationParams||{}),{url:j}=T,Y=W(T,["url"]);s.transactionManager.create(Object.assign(Object.assign(Object.assign({},Y),{appState:E,response_type:Pr.Code}),P&&{organization:P}));const K=y?"".concat(j,"#").concat(y):j;v?yield v(K):window.location.assign(K)})()}handleRedirectCallback(){var a=arguments,s=this;return(0,A.A)(function*(){const l=(a.length>0&&void 0!==a[0]?a[0]:window.location.href).split("?").slice(1);if(0===l.length)throw new Error("There are no query params available for parsing.");const p=s.transactionManager.get();if(!p)throw new se("missing_transaction","Invalid state");s.transactionManager.remove();const v=(y=>{y.indexOf("#")>-1&&(y=y.substring(0,y.indexOf("#")));const E=new URLSearchParams(y);return{state:E.get("state"),code:E.get("code")||void 0,connect_code:E.get("connect_code")||void 0,error:E.get("error")||void 0,error_description:E.get("error_description")||void 0}})(l.join(""));return p.response_type===Pr.ConnectCode?s._handleConnectAccountRedirectCallback(v,p):s._handleLoginRedirectCallback(v,p)})()}_handleLoginRedirectCallback(a,s){var l=this;return(0,A.A)(function*(){const{code:p,state:v,error:y,error_description:E}=a;if(y)throw new Ve(y,E||y,v,s.appState);if(!s.code_verifier||s.state&&s.state!==v)throw new se("state_mismatch","Invalid state");const S=s.organization,P=s.nonce,T=s.redirect_uri;return yield l._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:p},T?{redirect_uri:T}:{}),{nonceIn:P,organization:S}),{appState:s.appState,response_type:Pr.Code}})()}_handleConnectAccountRedirectCallback(a,s){var l=this;return(0,A.A)(function*(){const{connect_code:p,state:v,error:y,error_description:E}=a;if(y)throw new it(y,E||y,s.connection,v,s.appState);if(!p)throw new se("missing_connect_code","Missing connect code");if(!(s.code_verifier&&s.state&&s.auth_session&&s.redirect_uri&&s.state===v))throw new se("state_mismatch","Invalid state");const S=yield l.myAccountApi.completeAccount({auth_session:s.auth_session,connect_code:p,redirect_uri:s.redirect_uri,code_verifier:s.code_verifier});return Object.assign(Object.assign({},S),{appState:s.appState,response_type:Pr.ConnectCode})})()}checkSession(a){var s=this;return(0,A.A)(function*(){if(!s.cookieStorage.get(s.isAuthenticatedCookieName)){if(!s.cookieStorage.get("auth0.is.authenticated"))return;s.cookieStorage.save(s.isAuthenticatedCookieName,!0,{daysUntilExpire:s.sessionCheckExpiryDays,cookieDomain:s.options.cookieDomain}),s.cookieStorage.remove("auth0.is.authenticated")}try{yield s.getTokenSilently(a)}catch{}})()}getTokenSilently(){var a=arguments,s=this;return(0,A.A)(function*(){let l=a.length>0&&void 0!==a[0]?a[0]:{};var p,v;const y=Object.assign(Object.assign({cacheMode:"on"},l),{authorizationParams:Object.assign(Object.assign(Object.assign({},s.options.authorizationParams),l.authorizationParams),{scope:Fo(s.scope,null===(p=l.authorizationParams)||void 0===p?void 0:p.scope,(null===(v=l.authorizationParams)||void 0===v?void 0:v.audience)||s.options.authorizationParams.audience)})}),E=yield((S,P)=>{let T=xt[P];return T||(T=s._getTokenSilently(y).finally(()=>{delete xt[P],T=null}),xt[P]=T),T})(0,"".concat(s.options.clientId,"::").concat(y.authorizationParams.audience,"::").concat(y.authorizationParams.scope));return l.detailedResponse?E:E?.access_token})()}_getTokenSilently(a){var s=this;return(0,A.A)(function*(){const{cacheMode:l}=a,p=W(a,["cacheMode"]);if("off"!==l){const S=yield s._getEntryFromCache({scope:p.authorizationParams.scope,audience:p.authorizationParams.audience||"default",clientId:s.options.clientId,cacheMode:l});if(S)return S}if("cache-only"===l)return;const v=(y=s.options.clientId,E=p.authorizationParams.audience||"default","".concat("auth0.lock.getTokenSilently",".").concat(y,".").concat(E));var y,E;if(!(yield Vo(()=>qn.acquireLock(v,5e3),10)))throw new Le;s.activeLockKeys.add(v),1===s.activeLockKeys.size&&window.addEventListener("pagehide",s._releaseLockOnPageHide);try{if("off"!==l){const ae=yield s._getEntryFromCache({scope:p.authorizationParams.scope,audience:p.authorizationParams.audience||"default",clientId:s.options.clientId});if(ae)return ae}const S=s.options.useRefreshTokens?yield s._getTokenUsingRefreshToken(p):yield s._getTokenFromIFrame(p),{id_token:P,token_type:T,access_token:j,oauthTokenScope:Y,expires_in:K}=S;return Object.assign(Object.assign({id_token:P,token_type:T,access_token:j},Y?{scope:Y}:null),{expires_in:K})}finally{yield qn.releaseLock(v),s.activeLockKeys.delete(v),0===s.activeLockKeys.size&&window.removeEventListener("pagehide",s._releaseLockOnPageHide)}})()}getTokenWithPopup(){var a=arguments,s=this;return(0,A.A)(function*(){let l=a.length>0&&void 0!==a[0]?a[0]:{},p=a.length>1&&void 0!==a[1]?a[1]:{};var v,y;const E=Object.assign(Object.assign({},l),{authorizationParams:Object.assign(Object.assign(Object.assign({},s.options.authorizationParams),l.authorizationParams),{scope:Fo(s.scope,null===(v=l.authorizationParams)||void 0===v?void 0:v.scope,(null===(y=l.authorizationParams)||void 0===y?void 0:y.audience)||s.options.authorizationParams.audience)})});return p=Object.assign(Object.assign({},Ht),p),yield s.loginWithPopup(E,p),(yield s.cacheManager.get(new bt({scope:E.authorizationParams.scope,audience:E.authorizationParams.audience||"default",clientId:s.options.clientId}),void 0,s.options.useMrrt)).access_token})()}isAuthenticated(){var a=this;return(0,A.A)(function*(){return!!(yield a.getUser())})()}_buildLogoutUrl(a){null!==a.clientId?a.clientId=a.clientId||this.options.clientId:delete a.clientId;const s=a.logoutParams||{},{federated:l}=s,p=W(s,["federated"]),v=l?"&federated":"";return this._url("/v2/logout?".concat(H(Object.assign({clientId:a.clientId},p))))+v}logout(){var a=arguments,s=this;return(0,A.A)(function*(){let l=a.length>0&&void 0!==a[0]?a[0]:{};var p;const v=$o(l),{openUrl:y}=v,E=W(v,["openUrl"]);null===l.clientId?yield s.cacheManager.clear():yield s.cacheManager.clear(l.clientId||s.options.clientId),s.cookieStorage.remove(s.orgHintCookieName,{cookieDomain:s.options.cookieDomain}),s.cookieStorage.remove(s.isAuthenticatedCookieName,{cookieDomain:s.options.cookieDomain}),s.userCache.remove("@@user@@"),yield null===(p=s.dpop)||void 0===p?void 0:p.clear();const S=s._buildLogoutUrl(E);y?yield y(S):!1!==y&&window.location.assign(S)})()}_getTokenFromIFrame(a){var s=this;return(0,A.A)(function*(){const l=(p=s.options.clientId,"".concat("auth0.lock.getTokenFromIFrame",".").concat(p));var p;if(!(yield Vo(()=>qn.acquireLock(l,5e3),10)))throw new Le;try{const v=Object.assign(Object.assign({},a.authorizationParams),{prompt:"none"}),y=s.cookieStorage.get(s.orgHintCookieName);y&&!v.organization&&(v.organization=y);const{url:E,state:S,nonce:P,code_verifier:T,redirect_uri:j,scope:Y,audience:K}=yield s._prepareAuthorizeUrl(v,{response_mode:"web_message"},window.location.origin);if(window.crossOriginIsolated)throw new se("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const ae=a.timeoutInSeconds||s.options.authorizeTimeoutInSeconds;let te;try{te=new URL(s.domainUrl).origin}catch{te=s.domainUrl}const oe=yield function(_e,Pe){let Ge=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return new Promise((De,ut)=>{const Ot=window.document.createElement("iframe");Ot.setAttribute("width","0"),Ot.setAttribute("height","0"),Ot.style.display="none";const pr=()=>{window.document.body.contains(Ot)&&(window.document.body.removeChild(Ot),window.removeEventListener("message",Jt,!1))};let Jt;const po=setTimeout(()=>{ut(new Le),pr()},1e3*Ge);Jt=function(On){if(On.origin!=Pe||!On.data||"authorization_response"!==On.data.type)return;const Po=On.source;Po&&Po.close(),On.data.response.error?ut(se.fromPayload(On.data.response)):De(On.data.response),clearTimeout(po),window.removeEventListener("message",Jt,!1),setTimeout(pr,2e3)},window.addEventListener("message",Jt,!1),window.document.body.appendChild(Ot),Ot.setAttribute("src",_e)})}(E,te,ae);if(S!==oe.state)throw new se("state_mismatch","Invalid state");const ue=yield s._requestToken(Object.assign(Object.assign({},a.authorizationParams),{code_verifier:T,code:oe.code,grant_type:"authorization_code",redirect_uri:j,timeout:a.authorizationParams.timeout||s.httpTimeoutMs}),{nonceIn:P,organization:v.organization});return Object.assign(Object.assign({},ue),{scope:Y,oauthTokenScope:ue.scope,audience:K})}catch(v){throw"login_required"===v.error&&s.logout({openUrl:!1}),v}finally{yield qn.releaseLock(l)}})()}_getTokenUsingRefreshToken(a){var s=this;return(0,A.A)(function*(){const l=yield s.cacheManager.get(new bt({scope:a.authorizationParams.scope,audience:a.authorizationParams.audience||"default",clientId:s.options.clientId}),void 0,s.options.useMrrt);if(!(l&&l.refresh_token||s.worker)){if(s.options.useRefreshTokensFallback)return yield s._getTokenFromIFrame(a);throw new st(a.authorizationParams.audience||"default",a.authorizationParams.scope)}const p=a.authorizationParams.redirect_uri||s.options.authorizationParams.redirect_uri||window.location.origin,v="number"==typeof a.timeoutInSeconds?1e3*a.timeoutInSeconds:null,y=((j,Y,K,ae)=>{var te;if(j&&K&&ae){if(Y.audience!==K)return Y.scope;const oe=ae.split(" "),ue=(null===(te=Y.scope)||void 0===te?void 0:te.split(" "))||[],_e=ue.every(Pe=>oe.includes(Pe));return oe.length>=ue.length&&_e?ae:Y.scope}return Y.scope})(s.options.useMrrt,a.authorizationParams,l?.audience,l?.scope);try{const j=yield s._requestToken(Object.assign(Object.assign(Object.assign({},a.authorizationParams),{grant_type:"refresh_token",refresh_token:l&&l.refresh_token,redirect_uri:p}),v&&{timeout:v}),{scopesToRequest:y});if(j.refresh_token&&l?.refresh_token&&(yield s.cacheManager.updateEntry(l.refresh_token,j.refresh_token)),s.options.useMrrt&&(E=l?.audience,S=l?.scope,!(E===a.authorizationParams.audience&&yi(a.authorizationParams.scope,S)||yi(y,j.scope)))){if(s.options.useRefreshTokensFallback)return yield s._getTokenFromIFrame(a);yield s.cacheManager.remove(s.options.clientId,a.authorizationParams.audience,a.authorizationParams.scope);const Y=((K,ae)=>{const te=K?.split(" ")||[],oe=ae?.split(" ")||[];return te.filter(ue=>-1==oe.indexOf(ue)).join(",")})(y,j.scope);throw new Ft(a.authorizationParams.audience||"default",Y)}return Object.assign(Object.assign({},j),{scope:a.authorizationParams.scope,oauthTokenScope:j.scope,audience:a.authorizationParams.audience||"default"})}catch(j){if((j.message.indexOf("Missing Refresh Token")>-1||j.message&&j.message.indexOf("invalid refresh token")>-1)&&s.options.useRefreshTokensFallback)return yield s._getTokenFromIFrame(a);throw j}var E,S})()}_saveEntryInCache(a){var s=this;return(0,A.A)(function*(){const{id_token:l,decodedToken:p}=a,v=W(a,["id_token","decodedToken"]);s.userCache.set("@@user@@",{id_token:l,decodedToken:p}),yield s.cacheManager.setIdToken(s.options.clientId,a.id_token,a.decodedToken),yield s.cacheManager.set(v)})()}_getIdTokenFromCache(){var a=this;return(0,A.A)(function*(){const s=a.options.authorizationParams.audience||"default",l=a.scope[s],p=yield a.cacheManager.getIdToken(new bt({clientId:a.options.clientId,audience:s,scope:l})),v=a.userCache.get("@@user@@");return p&&p.id_token===v?.id_token?v:(a.userCache.set("@@user@@",p),p)})()}_getEntryFromCache(a){var s=this;return(0,A.A)(function*(){let{scope:l,audience:p,clientId:v,cacheMode:y}=a;const E=yield s.cacheManager.get(new bt({scope:l,audience:p,clientId:v}),60,s.options.useMrrt,y);if(E&&E.access_token){const{token_type:S,access_token:P,oauthTokenScope:T,expires_in:j}=E,Y=yield s._getIdTokenFromCache();return Y&&Object.assign(Object.assign({id_token:Y.id_token,token_type:S||"Bearer",access_token:P},T?{scope:T}:null),{expires_in:j})}})()}_requestToken(a,s){var l=this;return(0,A.A)(function*(){var p,v;const{nonceIn:y,organization:E,scopesToRequest:S}=s||{},P=yield function dn(u,a){return jt.apply(this,arguments)}(Object.assign(Object.assign({baseUrl:l.domainUrl,client_id:l.options.clientId,auth0Client:l.options.auth0Client,useFormData:l.options.useFormData,timeout:l.httpTimeoutMs,useMrrt:l.options.useMrrt,dpop:l.dpop},a),{scope:S||a.scope}),l.worker),T=yield l._verifyIdToken(P.id_token,y,E);if("authorization_code"===a.grant_type){const j=yield l._getIdTokenFromCache();null!==(v=null===(p=j?.decodedToken)||void 0===p?void 0:p.claims)&&void 0!==v&&v.sub&&j.decodedToken.claims.sub!==T.claims.sub&&(yield l.cacheManager.clear(l.options.clientId),l.userCache.remove("@@user@@"))}return yield l._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},P),{decodedToken:T,scope:a.scope,audience:a.audience||"default"}),P.scope?{oauthTokenScope:P.scope}:null),{client_id:l.options.clientId})),l.cookieStorage.save(l.isAuthenticatedCookieName,!0,{daysUntilExpire:l.sessionCheckExpiryDays,cookieDomain:l.options.cookieDomain}),l._processOrgHint(E||T.claims.org_id),Object.assign(Object.assign({},P),{decodedToken:T})})()}exchangeToken(a){var s=this;return(0,A.A)(function*(){return s._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:a.subject_token,subject_token_type:a.subject_token_type,scope:Fo(s.scope,a.scope,a.audience||s.options.authorizationParams.audience),audience:a.audience||s.options.authorizationParams.audience,organization:a.organization||s.options.authorizationParams.organization})})()}_assertDpop(a){if(!a)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(a){return this._assertDpop(this.dpop),this.dpop.getNonce(a)}setDpopNonce(a,s){return this._assertDpop(this.dpop),this.dpop.setNonce(a,s)}generateDpopProof(a){return this._assertDpop(this.dpop),this.dpop.generateProof(a)}createFetcher(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new I(a,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:s=>{var l;return this.getTokenSilently({authorizationParams:{scope:null===(l=s?.scope)||void 0===l?void 0:l.join(" "),audience:s?.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(a.dpopNonceId),setDpopNonce:s=>this.setDpopNonce(s,a.dpopNonceId),generateDpopProof:s=>this.generateDpopProof(s)})}connectAccountWithRedirect(a){var s=this;return(0,A.A)(function*(){const{openUrl:l,appState:p,connection:v,scopes:y,authorization_params:E,redirectUri:S=s.options.authorizationParams.redirect_uri||window.location.origin}=a;if(!v)throw new Error("connection is required");const P=ar(Ln()),T=Ln(),j=yield G(T),Y=he(j),{connect_uri:K,connect_params:ae,auth_session:te}=yield s.myAccountApi.connectAccount({connection:v,scopes:y,redirect_uri:S,state:P,code_challenge:Y,code_challenge_method:"S256",authorization_params:E});s.transactionManager.create({state:P,code_verifier:T,auth_session:te,redirect_uri:S,appState:p,connection:v,response_type:Pr.ConnectCode});const oe=new URL(K);oe.searchParams.set("ticket",ae.ticket),l?yield l(oe.toString()):window.location.assign(oe)})()}}function za(){return za=(0,A.A)(function*(u){const a=new au(u);return yield a.checkSession(),a}),za.apply(this,arguments)}const Bn={domain:"dev-26sow24tone5na8a.us.auth0.com",clientId:"EdkPy5co65jESIAT8T9SBy5X4cmeolhl",redirectUri:"https://opensourcekd.github.io/i17e/auth-callback",logoutUri:"https://opensourcekd.github.io/i17e",scope:"openid profile email",audience:"https://something"},xo={TOKEN_STORAGE:"sessionStorage",USER_INFO_STORAGE:"sessionStorage",AUTH_STATE_STORAGE:"sessionStorage",PREFERENCES_STORAGE:"localStorage"},zr={ACCESS_TOKEN:"auth0_access_token",ID_TOKEN:"auth0_id_token",REFRESH_TOKEN:"auth0_refresh_token",USER_INFO:"auth0_user_info",OAUTH_STATE:"oauth_state",CODE_VERIFIER:"code_verifier",CURRENT_USER:"current_user",DEV_MIMIC_USER:"dev_mimic_user"};function Ws(u){return"sessionStorage"===u?sessionStorage:localStorage}function Wa(u,a,s="sessionStorage"){Ws(s).setItem(u,a)}function En(u,a="sessionStorage"){return Ws(a).getItem(u)}function Wr(u,a="sessionStorage"){Ws(a).removeItem(u)}var uu=x(1626),Ro=x(7175);let xl=(()=>{class u{constructor(){this.emitter=function Kr(u){return{all:u=u||new Map,on:function(a,s){var l=u.get(a);l?l.push(s):u.set(a,[s])},off:function(a,s){var l=u.get(a);l&&(s?l.splice(l.indexOf(s)>>>0,1):u.set(a,[]))},emit:function(a,s){var l=u.get(a);l&&l.slice().map(function(p){p(s)}),(l=u.get("*"))&&l.slice().map(function(p){p(a,s)})}}}(),console.log("[EventBusService] Service initialized");const s=new Event("EventBusServiceCreated");this.onePlusNEvents=new Ro.m(100),this.onePlusNEvents.next(s.type),this.emitter.on("*",l=>{console.log("[EventBusService] Event received and forwarded to ReplaySubject:",l),this.onePlusNEvents.next(l)}),console.log("[EventBusService] Event listener registered for all events")}sendEvent(s){console.log("[EventBusService] sendEvent() called with:",s),this.emitter.emit(s),console.log("[EventBusService] Event emitted successfully")}static{this.\u0275fac=function(l){return new(l||u)}}static{this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),lu=(()=>{class u{constructor(s,l){this.http=s,this.eventBus=l,this.id="auth of pokemon",this.STANDARD_JWT_CLAIMS=["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at","iss","aud","exp","iat","auth_time","nonce","acr","amr","azp","at_hash","c_hash"],this.auth0Client=null,this.userSubject=new ne.t(this.getUserInfoFromStorage()),this.user$=this.userSubject.asObservable(),console.log("[AuthService] Initializing Auth0 authentication service from the SHELL"),this.initializationPromise=this.initializeAuth0()}initializeAuth0(){var s=this;return(0,A.A)(function*(){try{if(console.log("[AuthService] Starting Auth0 client initialization..."),!Bn||"object"!=typeof Bn)throw new Error("[AuthService] AUTH0_CONFIG is not defined or invalid");if(!Bn.domain||!Bn.clientId)throw new Error("[AuthService] AUTH0_CONFIG is missing required fields (domain, clientId)");s.auth0Client=yield function cu(u){return za.apply(this,arguments)}({domain:Bn.domain,clientId:Bn.clientId,authorizationParams:{redirect_uri:Bn.redirectUri,scope:Bn.scope,...Bn.audience&&{audience:Bn.audience}},cacheLocation:"memory",useRefreshTokens:!0}),console.log("[AuthService] Auth0 client initialized successfully from SHELL")}catch(l){throw console.error("[AuthService] Failed to initialize Auth0 client:",l),l}})()}ensureInitialized(){var s=this;return(0,A.A)(function*(){if(yield s.initializationPromise,!s.auth0Client)throw new Error("[AuthService] Auth0 client failed to initialize")})()}login(s,l){var p=this;return(0,A.A)(function*(){s&&console.log(`[AuthService] Logging in: ${s}`);try{let E;if(yield p.ensureInitialized(),!window.location.pathname.includes("auth-callback")&&window.location.search){const P=window.location.search;E={returnTo:P},console.log("[AuthService] Preserving URL parameters through auth flow:",P)}const S={redirect_uri:Bn.redirectUri,scope:Bn.scope,...Bn.audience&&{audience:Bn.audience},...Bn.connection&&{connection:Bn.connection}};l?.invitation&&(S.invitation=l.invitation,console.log("[AuthService] Including invitation parameter:",l.invitation)),l?.organization&&(S.organization=l.organization,console.log("[AuthService] Including organization parameter:",l.organization)),console.log("[AuthService] Starting Auth0 login redirect..."),yield p.auth0Client.loginWithRedirect({authorizationParams:S,...E&&{appState:E}})}catch(v){throw console.error("[AuthService] Login failed:",v),v}})()}handleCallback(){var s=this;return(0,A.A)(function*(){try{console.log("[AuthService] Processing Auth0 callback..."),yield s.ensureInitialized();const l=yield s.auth0Client.handleRedirectCallback();console.log("[AuthService] Callback processed successfully"),l.appState?console.log("[AuthService] Restored appState from auth flow:",JSON.stringify(l.appState)):console.log("[AuthService] No appState restored (user may not have started from invitation link)");const p=yield s.auth0Client.getUser();if(!p)return console.warn("[AuthService] No user info returned from Auth0"),{success:!1};s.logUserClaims(p),s.setUserInfo(p);const v=yield s.auth0Client.getTokenSilently();return s.setToken(v),console.log("[AuthService] Authentication successful"),{success:!0,appState:l.appState}}catch(l){return console.error("[AuthService] Error processing callback:",l),console.error("[AuthService] Error details:",JSON.stringify(l,null,2)),{success:!1}}})()}logUserClaims(s){console.log("=".repeat(80)),console.log("[AuthService] \u{1f50d} AUTH0 ID TOKEN - ALL CLAIMS:"),console.log("=".repeat(80)),this.logStandardClaims(s);const l=this.getCustomClaims(s);this.logClaims("\n\u{1f511} Custom Claims (Auth0):",l,s);const p=this.getAdditionalClaims(s);this.logClaims("\n\u{1f527} Additional Claims:",p,s),console.log("\n\u{1f4e6} Complete User Object (JSON):"),console.log(JSON.stringify(s,null,2)),console.log("=".repeat(80))}logStandardClaims(s){console.log("\n\u{1f4cb} Standard OIDC Claims:"),["sub","name","email","email_verified","preferred_username","given_name","family_name","nickname","locale","picture","phone","phone_verified","updated_at"].forEach(p=>{console.log(`  \u2022 ${"sub"===p?`${p} (Subject/User ID)`:p}:`,s[p])})}logClaims(s,l,p){console.log(s),0!==l.length?l.forEach(v=>{const y=p[v],E="object"==typeof y?JSON.stringify(y,null,2):y;console.log(`  \u2022 ${v}:`,E)}):console.log("  No custom claims found")}getCustomClaims(s){return Object.keys(s).filter(l=>!this.STANDARD_JWT_CLAIMS.includes(l)&&this.isNamespacedClaim(l))}getAdditionalClaims(s){return Object.keys(s).filter(l=>!this.STANDARD_JWT_CLAIMS.includes(l)&&!this.isNamespacedClaim(l))}isNamespacedClaim(s){return s.startsWith("http://")||s.startsWith("https://")}logout(){var s=this;return(0,A.A)(function*(){Wr(zr.ACCESS_TOKEN,xo.TOKEN_STORAGE),Wr(zr.USER_INFO,xo.USER_INFO_STORAGE),s.userSubject.next(null),s.emitAuthEvent("logout",null),console.log("[AuthService] User logged out, clearing Auth0 session");try{yield s.ensureInitialized(),yield s.auth0Client.logout({logoutParams:{returnTo:Bn.logoutUri}})}catch(l){console.error("[AuthService] Error during Auth0 logout:",l)}})()}getToken(){var s=this;return(0,A.A)(function*(){const l=En(zr.ACCESS_TOKEN,xo.TOKEN_STORAGE);if(l)return l;try{yield s.ensureInitialized();const p=yield s.auth0Client.getTokenSilently();return s.setToken(p),p}catch(p){return console.error("[AuthService] Error getting token from Auth0:",p),null}})()}getTokenSync(){return En(zr.ACCESS_TOKEN,xo.TOKEN_STORAGE)}setToken(s){Wa(zr.ACCESS_TOKEN,s,xo.TOKEN_STORAGE),this.emitAuthEvent("token_updated",{token:s})}isAuthenticated(){var s=this;return(0,A.A)(function*(){try{return yield s.ensureInitialized(),yield s.auth0Client.isAuthenticated()}catch(l){return console.error("[AuthService] Error checking authentication status:",l),!!En(zr.ACCESS_TOKEN,xo.TOKEN_STORAGE)}})()}isAuthenticatedSync(){return!!En(zr.ACCESS_TOKEN,xo.TOKEN_STORAGE)}getUser(){return this.userSubject.value}getUserData(){const s=this.getUser();if(!s)return null;const l=this.extractClaimValue(s,"role","user"),p=this.extractClaimValue(s,["org","organization"],"default");return{id:s.sub,name:s.name||s.email||"User",email:s.email||"",role:l,org:p}}extractClaimValue(s,l,p){const v=Array.isArray(l)?l:[l];for(const E of v){const S=s[E];if(S)return S}const y=this.getCustomClaims(s);for(const E of v){const S=y.find(P=>P.toLowerCase().includes(E.toLowerCase()));if(S&&s[S]){const P=s[S];return Array.isArray(P)?P[0]:P}}return p}getUserInfoFromStorage(){const s=En(zr.USER_INFO,xo.USER_INFO_STORAGE);return s?JSON.parse(s):null}setUserInfo(s){Wa(zr.USER_INFO,JSON.stringify(s),xo.USER_INFO_STORAGE),this.userSubject.next(s),console.log("[AuthService] \u{1f4be} User info stored in sessionStorage:"),console.log("  Standard claims:",{sub:s.sub,name:s.name,email:s.email,email_verified:s.email_verified});const l=this.getCustomClaims(s);l.length>0&&(console.log("  Custom claims stored:"),l.forEach(p=>{console.log(`    \u2022 ${p}:`,s[p])})),this.emitAuthEvent("user_info_updated",s)}emitAuthEvent(s,l){const p={type:`auth:${s}`,payload:l,timestamp:(new Date).toISOString()};this.eventBus.sendEvent(JSON.stringify(p)),console.log("[AuthService] Auth event emitted:",p.type)}static{this.\u0275fac=function(l){return new(l||u)(C.KVO(uu.Qq),C.KVO(xl))}}static{this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),Df=(()=>{class u{static{this.\u0275fac=function(l){return new(l||u)}}static{this.\u0275cmp=C.VBU({type:u,selectors:[["org-core-services"]],standalone:!0,features:[C.aNF],decls:2,vars:0,template:function(l,p){1&l&&(C.j41(0,"p"),C.EFF(1," core-services works! "),C.k0s())}})}}return u})();var ct=function(u){return u.SUPER_ADMIN="super-admin",u.ORG_ADMIN="org-admin",u.TEAM_LEAD="team-lead",u.SALES_EXECUTIVE="sales-executive",u}(ct||{});function Ka(u,a){const s={[ct.SUPER_ADMIN]:4,[ct.ORG_ADMIN]:3,[ct.TEAM_LEAD]:2,[ct.SALES_EXECUTIVE]:1};return s[u]>=s[a]}let du=(()=>{class u{constructor(){this.currentUserSubject=new ne.t(null),this.currentUser$=this.currentUserSubject.asObservable(),console.log("[RoleService] Service initialized"),this.loadInitialUser()}setUserFromProfile(s){console.log("[RoleService] Setting user from API profile:",s);const l=this.mapApiRoleToUserRole(s.roles),p={id:s.userId,name:s.name||s.email||"User",email:s.email||"",role:l};console.log("[RoleService] Mapped user with role from API:",p),this.setCurrentUser(p)}mapApiRoleToUserRole(s){return s&&0!==s.length?this.mapStringToUserRole(s[0].name):(console.warn("[RoleService] No roles found in API response, defaulting to SALES_EXECUTIVE"),ct.SALES_EXECUTIVE)}setUserFromAuth(s){console.log("[RoleService] Setting user from Auth0 auth:",s);const l=this.mapUserInfoToUser(s);console.log("[RoleService] Mapped user with role:",l),this.setCurrentUser(l)}mapUserInfoToUser(s){const l=this.extractRoleFromToken(s);return{id:s.sub,name:s.name||s.email||"User",email:s.email||"",role:l}}extractRoleFromToken(s){if(s.role)return this.mapStringToUserRole(s.role);if(s.org_and_roles){const v=this.extractRoleFromOrgAndRoles(s.org_and_roles);if(v)return console.log("[RoleService] Extracted role from org_and_roles:",v),v}const p=Object.keys(s).filter(v=>v.startsWith("http://")||v.startsWith("https://")).find(v=>v.toLowerCase().includes("role"));if(p&&s[p]){const v=s[p],y=Array.isArray(v)?v[0]:v;return this.mapStringToUserRole(y)}return console.warn("[RoleService] No role found in token, falling back to email pattern"),this.determineRoleFromEmail(s.email||"")}extractRoleFromOrgAndRoles(s){if(!s||"object"!=typeof s)return null;const l=[];for(const v in s){const y=s[v];Array.isArray(y)&&y.forEach(E=>{const S=this.mapStringToUserRole(E);l.push(S)})}if(0===l.length)return null;const p=[ct.SUPER_ADMIN,ct.ORG_ADMIN,ct.TEAM_LEAD,ct.SALES_EXECUTIVE];for(const v of p)if(l.includes(v))return console.log("[RoleService] Selected highest privilege role:",v),v;return l[0]}mapStringToUserRole(s){const l=s.toLowerCase().replace(/[-_\s]/g,"");return{superadmin:ct.SUPER_ADMIN,super:ct.SUPER_ADMIN,admin:ct.SUPER_ADMIN,orgadmin:ct.ORG_ADMIN,organizationadmin:ct.ORG_ADMIN,manager:ct.ORG_ADMIN,teamlead:ct.TEAM_LEAD,lead:ct.TEAM_LEAD,salesexecutive:ct.SALES_EXECUTIVE,sales:ct.SALES_EXECUTIVE,executive:ct.SALES_EXECUTIVE}[l]||ct.SALES_EXECUTIVE}determineRoleFromEmail(s){const l=s.toLowerCase();return[{patterns:["admin","super"],role:ct.SUPER_ADMIN},{patterns:["manager","org"],role:ct.ORG_ADMIN},{patterns:["lead","team"],role:ct.TEAM_LEAD}].find(({patterns:y})=>y.some(E=>l.includes(E)))?.role??ct.SALES_EXECUTIVE}loadInitialUser(){const s=this.getDevMimicUser();if(s)return console.log("[RoleService] Using dev mimic user:",s),void this.currentUserSubject.next(s)}getDevMimicUser(){try{const s=localStorage.getItem("dev_mimic_user");if(s){const l=JSON.parse(s);if(l.id&&l.name&&l.role)return l}}catch(s){console.error("[RoleService] Error parsing dev mimic user:",s)}return null}setDevMimicUser(s){s?(localStorage.setItem("dev_mimic_user",JSON.stringify(s)),this.currentUserSubject.next(s),console.log("[RoleService] Dev mimic user set:",s)):(localStorage.removeItem("dev_mimic_user"),this.loadDummyUser(),console.log("[RoleService] Dev mimic user cleared"))}loadDummyUser(){console.log("[RoleService] Loading user from session storage");const s=sessionStorage.getItem("current_user");if(s){const l=JSON.parse(s);console.log("[RoleService] User loaded from session:",l),this.currentUserSubject.next(l)}else{const l={id:"user-1",name:"John Admin",email:"john.admin@company.com",role:ct.ORG_ADMIN};console.log("[RoleService] No saved user found, using default:",l),this.setCurrentUser(l)}}setCurrentUser(s){console.log("[RoleService] Setting current user:",s),this.currentUserSubject.next(s),s?(sessionStorage.setItem("current_user",JSON.stringify(s)),console.log("[RoleService] User saved to session storage")):(sessionStorage.removeItem("current_user"),console.log("[RoleService] User removed from session storage"))}getCurrentUser(){const s=this.currentUserSubject.value;return console.log("[RoleService] getCurrentUser() called, returning:",s),s}getCurrentUserRole(){const s=this.currentUserSubject.value?.role||null;return console.log("[RoleService] getCurrentUserRole() called, returning:",s),s}hasRole(s){const l=this.getCurrentUserRole();if(!l)return console.log("[RoleService] hasRole() - No current role, access denied"),!1;const p=Ka(l,s);return console.log(`[RoleService] hasRole() - Checking if ${l} has ${s}:`,p),p}canViewOthersData(){const s=this.getCurrentUserRole(),l=s===ct.SUPER_ADMIN||s===ct.ORG_ADMIN||s===ct.TEAM_LEAD;return console.log(`[RoleService] canViewOthersData() - Role: ${s}, Can view:`,l),l}getViewableUsers(){const s=this.getCurrentUser();if(!s)return[];const l=this.getAllUsers();return this.isTeamLeadOrHigher()?l.filter(p=>p.role===ct.SALES_EXECUTIVE||p.id===s.id):l.filter(p=>p.id===s.id)}hasAnyRole(s){const l=this.getCurrentUser();return!!l&&s.includes(l.role)}isAdmin(){return this.hasAnyRole([ct.SUPER_ADMIN,ct.ORG_ADMIN])}isTeamLeadOrHigher(){return this.hasAnyRole([ct.SUPER_ADMIN,ct.ORG_ADMIN,ct.TEAM_LEAD])}getAllUsers(){return[{id:"user-1",name:"John Admin",email:"john.admin@company.com",role:ct.SUPER_ADMIN},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",role:ct.ORG_ADMIN},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",role:ct.TEAM_LEAD,teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",role:ct.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",role:ct.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",role:ct.SALES_EXECUTIVE,teamId:"team-1",managerId:"user-3"}]}static{this.\u0275fac=function(l){return new(l||u)}}static{this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var Oi=function(u){return u.COMPLETED="completed",u.PENDING="pending",u.CANCELLED="cancelled",u}(Oi||{}),gs=function(u){return u.ELECTRONICS="Electronics",u.SOFTWARE="Software",u.SERVICES="Services",u.HARDWARE="Hardware",u}(gs||{});let Ef=(()=>{class u{constructor(){this.salesExecutivesSubject=new ne.t(this.generateSalesExecutives()),this.salesExecutives$=this.salesExecutivesSubject.asObservable(),this.salesRecordsSubject=new ne.t(this.generateSalesRecords()),this.salesRecords$=this.salesRecordsSubject.asObservable(),this.incentiveRulesSubject=new ne.t(this.generateIncentiveRules()),this.incentiveRules$=this.incentiveRulesSubject.asObservable(),this.incentivesEarnedSubject=new ne.t(this.generateIncentivesEarned()),this.incentivesEarned$=this.incentivesEarnedSubject.asObservable(),console.log("[DummyDataService] Service initialized"),console.log("[DummyDataService] Generated data:",{salesExecutives:this.salesExecutivesSubject.value.length,salesRecords:this.salesRecordsSubject.value.length,incentiveRules:this.incentiveRulesSubject.value.length,incentivesEarned:this.incentivesEarnedSubject.value.length})}generateSalesExecutives(){return console.log("[DummyDataService] Generating sales executives"),[{id:"user-1",name:"John Admin",email:"john.admin@company.com",teamId:"team-1"},{id:"user-2",name:"Sarah Manager",email:"sarah.manager@company.com",teamId:"team-1"},{id:"user-3",name:"Mike Lead",email:"mike.lead@company.com",teamId:"team-1"},{id:"user-4",name:"Alice Sales",email:"alice.sales@company.com",teamId:"team-1"},{id:"user-5",name:"Bob Sales",email:"bob.sales@company.com",teamId:"team-1"},{id:"user-6",name:"Carol Sales",email:"carol.sales@company.com",teamId:"team-1"}]}generateSalesRecords(){console.log("[DummyDataService] Generating sales records");const s=[],l=this.generateSalesExecutives(),p=["Product A","Product B","Product C","Product D"],v=[Oi.COMPLETED,Oi.PENDING,Oi.CANCELLED];for(let y=0;y<50;y++){const E=l[y%l.length],S=Math.floor(y/10),P=new Date;P.setMonth(P.getMonth()-S),s.push({id:`sale-${y+1}`,salesExecutiveId:E.id,salesExecutiveName:E.name,date:P,productName:p[y%p.length],productCategory:gs.SOFTWARE,amount:Math.floor(5e4*Math.random())+1e4,commission:Math.floor(5e3*Math.random()),quantity:Math.floor(10*Math.random())+1,status:v[y%v.length],clientName:`Client ${y+1}`,region:["North","South","East","West"][y%4]})}return s}generateIncentiveRules(){return console.log("[DummyDataService] Generating incentive rules"),[{id:"rule-1",name:"Basic Sales Incentive",description:"5% incentive on all sales",type:"percentage",value:5,isActive:!0,createdBy:"admin",createdAt:new Date("2024-01-01")},{id:"rule-2",name:"High Value Sales Bonus",description:"10% incentive on sales above $50,000",type:"percentage",value:10,minSalesAmount:5e4,isActive:!0,createdBy:"admin",createdAt:new Date("2024-02-01")},{id:"rule-3",name:"Product A Special",description:"Fixed $500 bonus for Product A sales",type:"fixed",value:500,productCategory:"Product A",isActive:!0,createdBy:"team-lead-1",createdAt:new Date("2024-03-01")},{id:"rule-4",name:"Tiered Volume Incentive",description:"15% incentive on sales above $100,000",type:"tiered",value:15,minSalesAmount:1e5,isActive:!1,createdBy:"admin",createdAt:new Date("2024-04-01")}]}generateIncentivesEarned(){console.log("[DummyDataService] Generating incentives earned");const s=[],l=this.generateSalesExecutives(),p=this.generateIncentiveRules(),v=["pending","approved","paid"];for(let y=0;y<30;y++){const E=l[y%l.length],S=p[y%p.length],P=Math.floor(y/10),T=new Date;T.setMonth(T.getMonth()-P),s.push({id:`incentive-${y+1}`,salesExecutiveId:E.id,salesExecutiveName:E.name,ruleId:S.id,ruleName:S.name,salesRecordId:`sale-${y+1}`,amount:Math.floor(5e3*Math.random())+500,earnedDate:T,status:v[y%3]})}return s}getSalesRecordsForExecutive(s){console.log("[DummyDataService] getSalesRecordsForExecutive() called for:",s);const l=this.salesRecordsSubject.value.filter(p=>p.salesExecutiveId===s);return console.log("[DummyDataService] Found",l.length,"sales records for executive:",s),l}getIncentivesForExecutive(s){console.log("[DummyDataService] getIncentivesForExecutive() called for:",s);const l=this.incentivesEarnedSubject.value.filter(p=>p.salesExecutiveId===s);return console.log("[DummyDataService] Found",l.length,"incentives for executive:",s),l}getReportDataForExecutive(s){console.log("[DummyDataService] getReportDataForExecutive() called for:",s);const l=this.salesExecutivesSubject.value.find(T=>T.id===s),p=this.getSalesRecordsForExecutive(s),v=this.getIncentivesForExecutive(s),y=p.filter(T=>"completed"===T.status).reduce((T,j)=>T+j.amount,0),E=v.filter(T=>"pending"!==T.status).reduce((T,j)=>T+j.amount,0),S=[];for(let T=5;T>=0;T--){const j=new Date;j.setMonth(j.getMonth()-T);const Y=j.toISOString().substring(0,7),K=p.filter(te=>te.date.toISOString().substring(0,7)===Y&&"completed"===te.status).reduce((te,oe)=>te+oe.amount,0),ae=v.filter(te=>te.earnedDate.toISOString().substring(0,7)===Y&&"pending"!==te.status).reduce((te,oe)=>te+oe.amount,0);S.push({month:Y,sales:K,incentives:ae})}const P={salesExecutiveId:s,salesExecutiveName:l?.name||"Unknown",totalSales:y,totalIncentives:E,period:"Last 6 months",breakdown:S};return console.log("[DummyDataService] Report data generated:",P),P}getSalesExecutives(){const s=this.salesExecutivesSubject.value;return console.log("[DummyDataService] getSalesExecutives() called, returning",s.length,"executives"),s}getIncentiveRules(){const s=this.incentiveRulesSubject.value;return console.log("[DummyDataService] getIncentiveRules() called, returning",s.length,"rules"),s}addIncentiveRule(s){console.log("[DummyDataService] addIncentiveRule() called with:",s),this.incentiveRulesSubject.next([...this.incentiveRulesSubject.value,s]),console.log("[DummyDataService] Rule added successfully, total rules:",this.incentiveRulesSubject.value.length)}updateIncentiveRule(s,l){console.log("[DummyDataService] updateIncentiveRule() called for rule:",s,"with updates:",l);const v=this.incentiveRulesSubject.value.map(y=>y.id===s?{...y,...l}:y);this.incentiveRulesSubject.next(v),console.log("[DummyDataService] Rule updated successfully")}deleteIncentiveRule(s){console.log("[DummyDataService] deleteIncentiveRule() called for rule:",s);const p=this.incentiveRulesSubject.value.filter(v=>v.id!==s);this.incentiveRulesSubject.next(p),console.log("[DummyDataService] Rule deleted successfully, remaining rules:",this.incentiveRulesSubject.value.length)}static{this.\u0275fac=function(l){return new(l||u)}}static{this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var Rl=x(1913);let fu=(()=>{class u{constructor(){this.mfeConfigs=[],this.loadedMfesSubject=new ne.t(new Set),this.loadedMfes$=this.loadedMfesSubject.asObservable(),this.loadingMfesSubject=new ne.t(new Set),this.loadingMfes$=this.loadingMfesSubject.asObservable(),console.log("[MfeLoaderService] Service initialized")}setConfigs(s){console.log("[MfeLoaderService] setConfigs() called with",s.length,"configurations"),this.mfeConfigs=s.sort((l,p)=>p.priority-l.priority),console.log("[MfeLoaderService] Configurations sorted by priority:",this.mfeConfigs.map(l=>({name:l.name,priority:l.priority})))}getConfigs(){return console.log("[MfeLoaderService] getConfigs() called, returning",this.mfeConfigs.length,"configurations"),this.mfeConfigs}getConfigsForRole(s){console.log("[MfeLoaderService] getConfigsForRole() called for role:",s);const l=this.mfeConfigs.filter(p=>p.allowedRoles.includes(s));return console.log("[MfeLoaderService] Found",l.length,"configurations for role:",s,l.map(p=>p.name)),l}getConfigByName(s){console.log("[MfeLoaderService] getConfigByName() called for:",s);const l=this.mfeConfigs.find(p=>p.name===s);return l?console.log("[MfeLoaderService] Found configuration for:",s):console.warn("[MfeLoaderService] Configuration not found for:",s),l}preloadPriorityMfes(s){var l=this;return(0,A.A)(function*(){console.log("[MfeLoaderService] preloadPriorityMfes() called for role:",s);const v=l.getConfigsForRole(s).filter(E=>E.priority>=5);console.log("[MfeLoaderService] Preloading",v.length,"priority MFEs:",v.map(E=>({name:E.name,priority:E.priority})));const y=v.map(E=>l.loadMfe(E));yield Promise.all(y),console.log("[MfeLoaderService] Preloading complete")})()}loadMfe(s){var l=this;return(0,A.A)(function*(){const p=l.loadingMfesSubject.value,v=l.loadedMfesSubject.value;if(v.has(s.name))console.log(`[MfeLoaderService] MFE ${s.name} already loaded`);else if(p.has(s.name))console.log(`[MfeLoaderService] MFE ${s.name} is already loading`);else try{const y=new Set(p);y.add(s.name),l.loadingMfesSubject.next(y),console.log(`[MfeLoaderService] Loading MFE ${s.name} (priority: ${s.priority})`),console.log("[MfeLoaderService] MFE config:",{name:s.name,url:s.url,exposedModule:s.exposedModule,remoteName:s.remoteName});const E=yield(0,Rl.loadRemoteModule)({type:"module",remoteEntry:s.url,exposedModule:s.exposedModule}),S=new Set(v);S.add(s.name),l.loadedMfesSubject.next(S);const P=new Set(l.loadingMfesSubject.value);return P.delete(s.name),l.loadingMfesSubject.next(P),console.log(`[MfeLoaderService] Successfully loaded MFE ${s.name}`),console.log("[MfeLoaderService] Currently loaded MFEs:",Array.from(l.loadedMfesSubject.value)),E}catch(y){console.error(`[MfeLoaderService] Error loading MFE ${s.name}:`,y),console.error("[MfeLoaderService] Failed config:",{name:s.name,url:s.url,exposedModule:s.exposedModule});const E=new Set(l.loadingMfesSubject.value);throw E.delete(s.name),l.loadingMfesSubject.next(E),y}})()}isMfeLoaded(s){const l=this.loadedMfesSubject.value.has(s);return console.log(`[MfeLoaderService] isMfeLoaded(${s}):`,l),l}isMfeLoading(s){const l=this.loadingMfesSubject.value.has(s);return console.log(`[MfeLoaderService] isMfeLoading(${s}):`,l),l}static{this.\u0275fac=function(l){return new(l||u)}}static{this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var kl=x(8750),hu=x(1985),Pl=x(1397),Ol=x(7441),ko=x(8071),bf=x(6450);const $n=["addListener","removeListener"],Li=["addEventListener","removeEventListener"],qt=["on","off"];function Ga(u,a,s,l){if((0,ko.T)(s)&&(l=s,s=void 0),l)return Ga(u,a,s).pipe((0,bf.I)(l));const[p,v]=function Fl(u){return(0,ko.T)(u.addEventListener)&&(0,ko.T)(u.removeEventListener)}(u)?Li.map(y=>E=>u[y](a,E,s)):function If(u){return(0,ko.T)(u.addListener)&&(0,ko.T)(u.removeListener)}(u)?$n.map(Ll(u,a)):function Cf(u){return(0,ko.T)(u.on)&&(0,ko.T)(u.off)}(u)?qt.map(Ll(u,a)):[];if(!p&&(0,Ol.X)(u))return(0,Pl.Z)(y=>Ga(y,a,s))((0,kl.Tg)(u));if(!p)throw new TypeError("Invalid event target");return new hu.c(y=>{const E=(...S)=>y.next(1<S.length?S:S[0]);return p(E),()=>v(E)})}function Ll(u,a){return s=>l=>u[s](a,l)}var pu=x(6354);let Ks=(()=>{class u{constructor(s){this.zone=s}listen(){return Ga(new EventSource("https://stream.wikimedia.org/v2/stream/recentchange"),"message").pipe((0,pu.T)(l=>{let p;return this.zone.run(()=>p=l.data),p}))}static{this.\u0275fac=function(l){return new(l||u)(C.KVO(C.SKi))}}static{this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})(),ho=(()=>{class u{constructor(s){this.zone=s}start(s){this.eventSource=new EventSource(s);const l=this.eventSource;return new hu.c(p=>{const v=Ga(l,"message").subscribe(y=>{this.zone.run(()=>p.next(y.data))});return l.onerror=y=>{this.zone.run(()=>p.error(y))},()=>{v.unsubscribe(),l.close()}})}stop(){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0)}static{this.\u0275fac=function(l){return new(l||u)(C.KVO(C.SKi))}}static{this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();var jl=x(7673),Ja=x(9437);const Gr={baseUrl:"https://tmzuktmjy7.execute-api.us-east-1.amazonaws.com"};let Za=(()=>{class u{constructor(s){this.http=s,this.profileSubject=new ne.t(null),this.profile$=this.profileSubject.asObservable(),console.log("[UserProfileService] Service initialized")}fetchUserProfile(){return console.log("[UserProfileService] Fetching user profile from API"),Gr&&Gr.baseUrl?this.http.get(`${Gr.baseUrl}/auth/me`).pipe((0,pu.T)(s=>s.success&&s.data?(console.log("[UserProfileService] Profile loaded successfully"),this.profileSubject.next(s.data),s.data):null),(0,Ja.W)(s=>(console.error("[UserProfileService] Error fetching profile:",s),this.profileSubject.next(null),(0,jl.of)(null)))):(console.error("[UserProfileService] API_CONFIG or baseUrl is not defined"),(0,jl.of)(null))}getCurrentProfile(){return this.profileSubject.value}getPrimaryOrganization(){return this.profileSubject.value?.organizations?.[0]||null}getPrimaryRole(){return this.profileSubject.value?.roles?.[0]||null}getRoleName(){return this.getPrimaryRole()?.name||null}getOrganizationDisplayName(){return this.getPrimaryOrganization()?.displayName||null}clearProfile(){this.profileSubject.next(null)}static{this.\u0275fac=function(l){return new(l||u)(C.KVO(uu.Qq))}}static{this.\u0275prov=C.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}}return u})();const gu=(u,a)=>{const l=(0,C.WQX)(lu).getTokenSync();return!l||Ul(u.url)?a(u):a(u.clone({setHeaders:{Authorization:`Bearer ${l}`}}))},Ul=u=>{try{if(Gr&&"object"==typeof Gr&&Gr.baseUrl&&u.startsWith(Gr.baseUrl))return!1}catch(s){console.warn("[authInterceptor] API_CONFIG not available, using pattern-based auth endpoint detection",s)}return["/oauth","auth0.com","/authorize","/token"].some(s=>u.includes(s))}},4412:(ot,le,x)=>{x.d(le,{t:()=>F});var C=x(1413);class F extends C.B{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const W=super._subscribe(ne);return!W.closed&&ne.next(this._value),W}getValue(){const{hasError:ne,thrownError:W,_value:Z}=this;if(ne)throw W;return this._throwIfClosed(),Z}next(ne){super.next(this._value=ne)}}},1985:(ot,le,x)=>{x.d(le,{c:()=>Re});var C=x(7707),F=x(8359),A=x(3494),ne=x(1203),W=x(1026),Z=x(8071),ge=x(9786);let Re=(()=>{class fe{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Xe=new fe;return Xe.source=this,Xe.operator=Ie,Xe}subscribe(Ie,Xe,Tt){const mt=function B(fe){return fe&&fe instanceof C.vU||function Q(fe){return fe&&(0,Z.T)(fe.next)&&(0,Z.T)(fe.error)&&(0,Z.T)(fe.complete)}(fe)&&(0,F.Uv)(fe)}(Ie)?Ie:new C.Ms(Ie,Xe,Tt);return(0,ge.Y)(()=>{const{operator:It,source:Ht}=this;mt.add(It?It.call(mt,Ht):Ht?this._subscribe(mt):this._trySubscribe(mt))}),mt}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Xe){Ie.error(Xe)}}forEach(Ie,Xe){return new(Xe=be(Xe))((Tt,mt)=>{const It=new C.Ms({next:Ht=>{try{Ie(Ht)}catch(Qt){mt(Qt),It.unsubscribe()}},error:mt,complete:Tt});this.subscribe(It)})}_subscribe(Ie){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Ie)}[A.s](){return this}pipe(...Ie){return(0,ne.m)(Ie)(this)}toPromise(Ie){return new(Ie=be(Ie))((Xe,Tt)=>{let mt;this.subscribe(It=>mt=It,It=>Tt(It),()=>Xe(mt))})}}return fe.create=ze=>new fe(ze),fe})();function be(fe){var ze;return null!==(ze=fe??W.$.Promise)&&void 0!==ze?ze:Promise}},7175:(ot,le,x)=>{x.d(le,{m:()=>A});var C=x(1413);const F={now:()=>(F.delegate||Date).now(),delegate:void 0};class A extends C.B{constructor(W=1/0,Z=1/0,ge=F){super(),this._bufferSize=W,this._windowTime=Z,this._timestampProvider=ge,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Z===1/0,this._bufferSize=Math.max(1,W),this._windowTime=Math.max(1,Z)}next(W){const{isStopped:Z,_buffer:ge,_infiniteTimeWindow:Re,_timestampProvider:be,_windowTime:Q}=this;Z||(ge.push(W),!Re&&ge.push(be.now()+Q)),this._trimBuffer(),super.next(W)}_subscribe(W){this._throwIfClosed(),this._trimBuffer();const Z=this._innerSubscribe(W),{_infiniteTimeWindow:ge,_buffer:Re}=this,be=Re.slice();for(let Q=0;Q<be.length&&!W.closed;Q+=ge?1:2)W.next(be[Q]);return this._checkFinalizedStatuses(W),Z}_trimBuffer(){const{_bufferSize:W,_timestampProvider:Z,_buffer:ge,_infiniteTimeWindow:Re}=this,be=(Re?1:2)*W;if(W<1/0&&be<ge.length&&ge.splice(0,ge.length-be),!Re){const Q=Z.now();let B=0;for(let fe=1;fe<ge.length&&ge[fe]<=Q;fe+=2)B=fe;B&&ge.splice(0,B+1)}}}},1413:(ot,le,x)=>{x.d(le,{B:()=>ge});var C=x(1985),F=x(8359);const ne=(0,x(1853).L)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var W=x(7908),Z=x(9786);let ge=(()=>{class be extends C.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const fe=new Re(this,this);return fe.operator=B,fe}_throwIfClosed(){if(this.closed)throw new ne}next(B){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(B)}})}error(B){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:fe}=this;for(;fe.length;)fe.shift().error(B)}})}complete(){(0,Z.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:fe,isStopped:ze,observers:Ie}=this;return fe||ze?F.Kn:(this.currentObservers=null,Ie.push(B),new F.yU(()=>{this.currentObservers=null,(0,W.o)(Ie,B)}))}_checkFinalizedStatuses(B){const{hasError:fe,thrownError:ze,isStopped:Ie}=this;fe?B.error(ze):Ie&&B.complete()}asObservable(){const B=new C.c;return B.source=this,B}}return be.create=(Q,B)=>new Re(Q,B),be})();class Re extends ge{constructor(Q,B){super(),this.destination=Q,this.source=B}next(Q){var B,fe;null===(fe=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===fe||fe.call(B,Q)}error(Q){var B,fe;null===(fe=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===fe||fe.call(B,Q)}complete(){var Q,B;null===(B=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===B||B.call(Q)}_subscribe(Q){var B,fe;return null!==(fe=null===(B=this.source)||void 0===B?void 0:B.subscribe(Q))&&void 0!==fe?fe:F.Kn}}},7707:(ot,le,x)=>{x.d(le,{Ms:()=>Tt,vU:()=>fe});var C=x(8071),F=x(8359),A=x(1026),ne=x(5334),W=x(5343);const Z=be("C",void 0,void 0);function be(Ne,se,Ve){return{kind:Ne,value:se,error:Ve}}var Q=x(9270),B=x(9786);class fe extends F.yU{constructor(se){super(),this.isStopped=!1,se?(this.destination=se,(0,F.Uv)(se)&&se.add(this)):this.destination=Qt}static create(se,Ve,it){return new Tt(se,Ve,it)}next(se){this.isStopped?Ht(function Re(Ne){return be("N",Ne,void 0)}(se),this):this._next(se)}error(se){this.isStopped?Ht(function ge(Ne){return be("E",void 0,Ne)}(se),this):(this.isStopped=!0,this._error(se))}complete(){this.isStopped?Ht(Z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(se){this.destination.next(se)}_error(se){try{this.destination.error(se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ie(Ne,se){return ze.call(Ne,se)}class Xe{constructor(se){this.partialObserver=se}next(se){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(se)}catch(it){mt(it)}}error(se){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(se)}catch(it){mt(it)}else mt(se)}complete(){const{partialObserver:se}=this;if(se.complete)try{se.complete()}catch(Ve){mt(Ve)}}}class Tt extends fe{constructor(se,Ve,it){let Le;if(super(),(0,C.T)(se)||!se)Le={next:se??void 0,error:Ve??void 0,complete:it??void 0};else{let Te;this&&A.$.useDeprecatedNextContext?(Te=Object.create(se),Te.unsubscribe=()=>this.unsubscribe(),Le={next:se.next&&Ie(se.next,Te),error:se.error&&Ie(se.error,Te),complete:se.complete&&Ie(se.complete,Te)}):Le=se}this.destination=new Xe(Le)}}function mt(Ne){A.$.useDeprecatedSynchronousErrorHandling?(0,B.l)(Ne):(0,ne.m)(Ne)}function Ht(Ne,se){const{onStoppedNotification:Ve}=A.$;Ve&&Q.f.setTimeout(()=>Ve(Ne,se))}const Qt={closed:!0,next:W.l,error:function It(Ne){throw Ne},complete:W.l}},8359:(ot,le,x)=>{x.d(le,{Kn:()=>Z,yU:()=>W,Uv:()=>ge});var C=x(8071);const A=(0,x(1853).L)(be=>function(B){be(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((fe,ze)=>`${ze+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var ne=x(7908);class W{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const Ie of B)Ie.remove(this);else B.remove(this);const{initialTeardown:fe}=this;if((0,C.T)(fe))try{fe()}catch(Ie){Q=Ie instanceof A?Ie.errors:[Ie]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ie of ze)try{Re(Ie)}catch(Xe){Q=Q??[],Xe instanceof A?Q=[...Q,...Xe.errors]:Q.push(Xe)}}if(Q)throw new A(Q)}}add(Q){var B;if(Q&&Q!==this)if(this.closed)Re(Q);else{if(Q instanceof W){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(Q)}}_hasParent(Q){const{_parentage:B}=this;return B===Q||Array.isArray(B)&&B.includes(Q)}_addParent(Q){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(Q),B):B?[B,Q]:Q}_removeParent(Q){const{_parentage:B}=this;B===Q?this._parentage=null:Array.isArray(B)&&(0,ne.o)(B,Q)}remove(Q){const{_finalizers:B}=this;B&&(0,ne.o)(B,Q),Q instanceof W&&Q._removeParent(this)}}W.EMPTY=(()=>{const be=new W;return be.closed=!0,be})();const Z=W.EMPTY;function ge(be){return be instanceof W||be&&"closed"in be&&(0,C.T)(be.remove)&&(0,C.T)(be.add)&&(0,C.T)(be.unsubscribe)}function Re(be){(0,C.T)(be)?be():be.unsubscribe()}},1026:(ot,le,x)=>{x.d(le,{$:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6648:(ot,le,x)=>{x.d(le,{H:()=>it});var C=x(8750),F=x(5225),A=x(9974),ne=x(4360);function W(Le,Te=0){return(0,A.N)((je,de)=>{je.subscribe((0,ne._)(de,xe=>(0,F.N)(de,Le,()=>de.next(xe),Te),()=>(0,F.N)(de,Le,()=>de.complete(),Te),xe=>(0,F.N)(de,Le,()=>de.error(xe),Te)))})}function Z(Le,Te=0){return(0,A.N)((je,de)=>{de.add(Le.schedule(()=>je.subscribe(de),Te))})}var be=x(1985),B=x(4761),fe=x(8071);function Ie(Le,Te){if(!Le)throw new Error("Iterable cannot be null");return new be.c(je=>{(0,F.N)(je,Te,()=>{const de=Le[Symbol.asyncIterator]();(0,F.N)(je,Te,()=>{de.next().then(xe=>{xe.done?je.complete():je.next(xe.value)})},0,!0)})})}var Xe=x(5055),Tt=x(9858),mt=x(7441),It=x(5397),Ht=x(7953),Qt=x(591),Ne=x(5196);function it(Le,Te){return Te?function Ve(Le,Te){if(null!=Le){if((0,Xe.l)(Le))return function ge(Le,Te){return(0,C.Tg)(Le).pipe(Z(Te),W(Te))}(Le,Te);if((0,mt.X)(Le))return function Q(Le,Te){return new be.c(je=>{let de=0;return Te.schedule(function(){de===Le.length?je.complete():(je.next(Le[de++]),je.closed||this.schedule())})})}(Le,Te);if((0,Tt.y)(Le))return function Re(Le,Te){return(0,C.Tg)(Le).pipe(Z(Te),W(Te))}(Le,Te);if((0,Ht.T)(Le))return Ie(Le,Te);if((0,It.x)(Le))return function ze(Le,Te){return new be.c(je=>{let de;return(0,F.N)(je,Te,()=>{de=Le[B.l](),(0,F.N)(je,Te,()=>{let xe,st;try{({value:xe,done:st}=de.next())}catch(Ft){return void je.error(Ft)}st?je.complete():je.next(xe)},0,!0)}),()=>(0,fe.T)(de?.return)&&de.return()})}(Le,Te);if((0,Ne.U)(Le))return function se(Le,Te){return Ie((0,Ne.C)(Le),Te)}(Le,Te)}throw(0,Qt.L)(Le)}(Le,Te):(0,C.Tg)(Le)}},8750:(ot,le,x)=>{x.d(le,{Tg:()=>ze});var C=x(1635),F=x(7441),A=x(9858),ne=x(1985),W=x(5055),Z=x(7953),ge=x(591),Re=x(5397),be=x(5196),Q=x(8071),B=x(5334),fe=x(3494);function ze(Ne){if(Ne instanceof ne.c)return Ne;if(null!=Ne){if((0,W.l)(Ne))return function Ie(Ne){return new ne.c(se=>{const Ve=Ne[fe.s]();if((0,Q.T)(Ve.subscribe))return Ve.subscribe(se);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,F.X)(Ne))return function Xe(Ne){return new ne.c(se=>{for(let Ve=0;Ve<Ne.length&&!se.closed;Ve++)se.next(Ne[Ve]);se.complete()})}(Ne);if((0,A.y)(Ne))return function Tt(Ne){return new ne.c(se=>{Ne.then(Ve=>{se.closed||(se.next(Ve),se.complete())},Ve=>se.error(Ve)).then(null,B.m)})}(Ne);if((0,Z.T)(Ne))return It(Ne);if((0,Re.x)(Ne))return function mt(Ne){return new ne.c(se=>{for(const Ve of Ne)if(se.next(Ve),se.closed)return;se.complete()})}(Ne);if((0,be.U)(Ne))return function Ht(Ne){return It((0,be.C)(Ne))}(Ne)}throw(0,ge.L)(Ne)}function It(Ne){return new ne.c(se=>{(function Qt(Ne,se){var Ve,it,Le,Te;return(0,C.__awaiter)(this,void 0,void 0,function*(){try{for(Ve=(0,C.__asyncValues)(Ne);!(it=yield Ve.next()).done;)if(se.next(it.value),se.closed)return}catch(je){Le={error:je}}finally{try{it&&!it.done&&(Te=Ve.return)&&(yield Te.call(Ve))}finally{if(Le)throw Le.error}}se.complete()})})(Ne,se).catch(Ve=>se.error(Ve))})}},7673:(ot,le,x)=>{x.d(le,{of:()=>A});var C=x(3794),F=x(6648);function A(...ne){const W=(0,C.lI)(ne);return(0,F.H)(ne,W)}},4360:(ot,le,x)=>{x.d(le,{_:()=>F});var C=x(7707);function F(ne,W,Z,ge,Re){return new A(ne,W,Z,ge,Re)}class A extends C.vU{constructor(W,Z,ge,Re,be,Q){super(W),this.onFinalize=be,this.shouldUnsubscribe=Q,this._next=Z?function(B){try{Z(B)}catch(fe){W.error(fe)}}:super._next,this._error=Re?function(B){try{Re(B)}catch(fe){W.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(B){W.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var W;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Z}=this;super.unsubscribe(),!Z&&(null===(W=this.onFinalize)||void 0===W||W.call(this))}}}},9437:(ot,le,x)=>{x.d(le,{W:()=>ne});var C=x(8750),F=x(4360),A=x(9974);function ne(W){return(0,A.N)((Z,ge)=>{let Q,Re=null,be=!1;Re=Z.subscribe((0,F._)(ge,void 0,void 0,B=>{Q=(0,C.Tg)(W(B,ne(W)(Z))),Re?(Re.unsubscribe(),Re=null,Q.subscribe(ge)):be=!0})),be&&(Re.unsubscribe(),Re=null,Q.subscribe(ge))})}},274:(ot,le,x)=>{x.d(le,{H:()=>A});var C=x(1397),F=x(8071);function A(ne,W){return(0,F.T)(W)?(0,C.Z)(ne,W,1):(0,C.Z)(ne,1)}},5964:(ot,le,x)=>{x.d(le,{p:()=>A});var C=x(9974),F=x(4360);function A(ne,W){return(0,C.N)((Z,ge)=>{let Re=0;Z.subscribe((0,F._)(ge,be=>ne.call(W,be,Re++)&&ge.next(be)))})}},980:(ot,le,x)=>{x.d(le,{j:()=>F});var C=x(9974);function F(A){return(0,C.N)((ne,W)=>{try{ne.subscribe(W)}finally{W.add(A)}})}},6354:(ot,le,x)=>{x.d(le,{T:()=>A});var C=x(9974),F=x(4360);function A(ne,W){return(0,C.N)((Z,ge)=>{let Re=0;Z.subscribe((0,F._)(ge,be=>{ge.next(ne.call(W,be,Re++))}))})}},1397:(ot,le,x)=>{x.d(le,{Z:()=>Re});var C=x(6354),F=x(8750),A=x(9974),ne=x(5225),W=x(4360),ge=x(8071);function Re(be,Q,B=1/0){return(0,ge.T)(Q)?Re((fe,ze)=>(0,C.T)((Ie,Xe)=>Q(fe,Ie,ze,Xe))((0,F.Tg)(be(fe,ze))),B):("number"==typeof Q&&(B=Q),(0,A.N)((fe,ze)=>function Z(be,Q,B,fe,ze,Ie,Xe,Tt){const mt=[];let It=0,Ht=0,Qt=!1;const Ne=()=>{Qt&&!mt.length&&!It&&Q.complete()},se=it=>It<fe?Ve(it):mt.push(it),Ve=it=>{Ie&&Q.next(it),It++;let Le=!1;(0,F.Tg)(B(it,Ht++)).subscribe((0,W._)(Q,Te=>{ze?.(Te),Ie?se(Te):Q.next(Te)},()=>{Le=!0},void 0,()=>{if(Le)try{for(It--;mt.length&&It<fe;){const Te=mt.shift();Xe?(0,ne.N)(Q,Xe,()=>Ve(Te)):Ve(Te)}Ne()}catch(Te){Q.error(Te)}}))};return be.subscribe((0,W._)(Q,se,()=>{Qt=!0,Ne()})),()=>{Tt?.()}}(fe,ze,be,B)))}},5558:(ot,le,x)=>{x.d(le,{n:()=>ne});var C=x(8750),F=x(9974),A=x(4360);function ne(W,Z){return(0,F.N)((ge,Re)=>{let be=null,Q=0,B=!1;const fe=()=>B&&!be&&Re.complete();ge.subscribe((0,A._)(Re,ze=>{be?.unsubscribe();let Ie=0;const Xe=Q++;(0,C.Tg)(W(ze,Xe)).subscribe(be=(0,A._)(Re,Tt=>Re.next(Z?Z(ze,Tt,Xe,Ie++):Tt),()=>{be=null,fe()}))},()=>{B=!0,fe()}))})}},9270:(ot,le,x)=>{x.d(le,{f:()=>C});const C={setTimeout(F,A,...ne){const{delegate:W}=C;return W?.setTimeout?W.setTimeout(F,A,...ne):setTimeout(F,A,...ne)},clearTimeout(F){const{delegate:A}=C;return(A?.clearTimeout||clearTimeout)(F)},delegate:void 0}},4761:(ot,le,x)=>{x.d(le,{l:()=>F});const F=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(ot,le,x)=>{x.d(le,{s:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},3794:(ot,le,x)=>{x.d(le,{ms:()=>ne,lI:()=>W});var C=x(8071);function A(ge){return ge[ge.length-1]}function ne(ge){return(0,C.T)(A(ge))?ge.pop():void 0}function W(ge){return function F(ge){return ge&&(0,C.T)(ge.schedule)}(A(ge))?ge.pop():void 0}},7908:(ot,le,x)=>{function C(F,A){if(F){const ne=F.indexOf(A);0<=ne&&F.splice(ne,1)}}x.d(le,{o:()=>C})},1853:(ot,le,x)=>{function C(F){const ne=F(W=>{Error.call(W),W.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}x.d(le,{L:()=>C})},9786:(ot,le,x)=>{x.d(le,{Y:()=>A,l:()=>ne});var C=x(1026);let F=null;function A(W){if(C.$.useDeprecatedSynchronousErrorHandling){const Z=!F;if(Z&&(F={errorThrown:!1,error:null}),W(),Z){const{errorThrown:ge,error:Re}=F;if(F=null,ge)throw Re}}else W()}function ne(W){C.$.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=W)}},5225:(ot,le,x)=>{function C(F,A,ne,W=0,Z=!1){const ge=A.schedule(function(){ne(),Z?F.add(this.schedule(null,W)):this.unsubscribe()},W);if(F.add(ge),!Z)return ge}x.d(le,{N:()=>C})},3669:(ot,le,x)=>{function C(F){return F}x.d(le,{D:()=>C})},7441:(ot,le,x)=>{x.d(le,{X:()=>C});const C=F=>F&&"number"==typeof F.length&&"function"!=typeof F},7953:(ot,le,x)=>{x.d(le,{T:()=>F});var C=x(8071);function F(A){return Symbol.asyncIterator&&(0,C.T)(A?.[Symbol.asyncIterator])}},8071:(ot,le,x)=>{function C(F){return"function"==typeof F}x.d(le,{T:()=>C})},5055:(ot,le,x)=>{x.d(le,{l:()=>A});var C=x(3494),F=x(8071);function A(ne){return(0,F.T)(ne[C.s])}},5397:(ot,le,x)=>{x.d(le,{x:()=>A});var C=x(4761),F=x(8071);function A(ne){return(0,F.T)(ne?.[C.l])}},9858:(ot,le,x)=>{x.d(le,{y:()=>F});var C=x(8071);function F(A){return(0,C.T)(A?.then)}},5196:(ot,le,x)=>{x.d(le,{C:()=>A,U:()=>ne});var C=x(1635),F=x(8071);function A(W){return(0,C.__asyncGenerator)(this,arguments,function*(){const ge=W.getReader();try{for(;;){const{value:Re,done:be}=yield(0,C.__await)(ge.read());if(be)return yield(0,C.__await)(void 0);yield yield(0,C.__await)(Re)}}finally{ge.releaseLock()}})}function ne(W){return(0,F.T)(W?.getReader)}},9974:(ot,le,x)=>{x.d(le,{N:()=>A,S:()=>F});var C=x(8071);function F(ne){return(0,C.T)(ne?.lift)}function A(ne){return W=>{if(F(W))return W.lift(function(Z){try{return ne(Z,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(ot,le,x)=>{x.d(le,{I:()=>ne});var C=x(6354);const{isArray:F}=Array;function ne(W){return(0,C.T)(Z=>function A(W,Z){return F(Z)?W(...Z):W(Z)}(W,Z))}},5343:(ot,le,x)=>{function C(){}x.d(le,{l:()=>C})},1203:(ot,le,x)=>{x.d(le,{F:()=>F,m:()=>A});var C=x(3669);function F(...ne){return A(ne)}function A(ne){return 0===ne.length?C.D:1===ne.length?ne[0]:function(Z){return ne.reduce((ge,Re)=>Re(ge),Z)}}},5334:(ot,le,x)=>{x.d(le,{m:()=>A});var C=x(1026),F=x(9270);function A(ne){F.f.setTimeout(()=>{const{onUnhandledError:W}=C.$;if(!W)throw ne;W(ne)})}},591:(ot,le,x)=>{function C(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(le,{L:()=>C})},5766:(ot,le,x)=>{x.r(le),x.d(le,{getManifest:()=>Qt,initFederation:()=>Ne,loadManifest:()=>Ve,loadRemoteEntry:()=>Q,loadRemoteModule:()=>Tt,setManifest:()=>It});var C=x(467);let F={};const A={},ne={};let W=!1;function ge(){return(ge=(0,C.A)(function*(de,xe){return(yield A[de].get(xe))()})).apply(this,arguments)}function Re(de,xe){return be.apply(this,arguments)}function be(){return(be=(0,C.A)(function*(de,xe){return ne[xe]||(W||(yield x.I("default"),W=!0),yield de.init(x.S.default),ne[xe]=!0),de})).apply(this,arguments)}function Q(de,xe){return B.apply(this,arguments)}function B(){return B=(0,C.A)(function*(de,xe){if("string"==typeof de)return yield Ie(de,xe);if("script"===de.type){const st=de;return yield Ie(st.remoteEntry,st.remoteName)}"module"===de.type&&(yield function fe(de){return ze.apply(this,arguments)}(de.remoteEntry))}),B.apply(this,arguments)}function ze(){return(ze=(0,C.A)(function*(de){return A[de]?Promise.resolve():yield import(de).then(xe=>{Re(xe,de),A[de]=xe})})).apply(this,arguments)}function Ie(de,xe){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,C.A)(function*(de,xe){return new Promise((st,Ft)=>{if(A[xe])return void st();const Gt=document.createElement("script");Gt.src=de,Gt.onerror=Ft,Gt.onload=()=>{const Et=window[xe];Re(Et,xe),A[xe]=Et,st()},document.body.appendChild(Gt)})})).apply(this,arguments)}function Tt(de,xe){return mt.apply(this,arguments)}function mt(){return mt=(0,C.A)(function*(de,xe){let st,Ft,Gt,Et;if(Et="string"==typeof de?{type:"manifest",remoteName:de,exposedModule:xe}:de,!Et.type){const en=Object.keys(F).length>0;Et.type=en?"manifest":"script"}if("manifest"===Et.type){const en=F[Et.remoteName];if(!en)throw new Error("Manifest does not contain "+Et.remoteName);Et={type:en.type,exposedModule:Et.exposedModule,remoteEntry:en.remoteEntry,remoteName:"script"===en.type?Et.remoteName:void 0},Gt=en.remoteEntry}else Gt=Et.remoteEntry;return"script"===Et.type?(st={type:"script",remoteEntry:Et.remoteEntry,remoteName:Et.remoteName},Ft=Et.remoteName):"module"===Et.type&&(st={type:"module",remoteEntry:Et.remoteEntry},Ft=Et.remoteEntry),Gt&&(yield Q(st)),yield function Z(de,xe){return ge.apply(this,arguments)}(Ft,Et.exposedModule)}),mt.apply(this,arguments)}function It(de){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,C.A)(function*(de,xe=!1){F=Le(de),xe||(yield Te())})).apply(this,arguments)}function Qt(){return F}function Ne(de){return se.apply(this,arguments)}function se(){return(se=(0,C.A)(function*(de,xe=!1){return"string"==typeof de?Ve(de,xe):It(de,xe)})).apply(this,arguments)}function Ve(de){return it.apply(this,arguments)}function it(){return(it=(0,C.A)(function*(de,xe=!1){const st=yield fetch(de);if(!st.ok)throw Error("could not load configFile: "+de);F=Le(yield st.json()),xe||(yield Te())})).apply(this,arguments)}function Le(de){const xe={};for(const st in de){const Ft=de[st];let Gt;Gt="string"==typeof Ft?{remoteEntry:Ft,type:"module"}:{...Ft,type:Ft.type||"module"},xe[st]=Gt}return xe}function Te(){return je.apply(this,arguments)}function je(){return(je=(0,C.A)(function*(){const de=[];for(const xe in F){const st=F[xe];de.push(Q("module"===st.type?{type:"module",remoteEntry:st.remoteEntry}:{type:"script",remoteEntry:st.remoteEntry,remoteName:xe}))}yield Promise.all(de)})).apply(this,arguments)}},177:(ot,le,x)=>{x.d(le,{AJ:()=>Eo,MD:()=>Go,N0:()=>Zi,QT:()=>A,Sq:()=>R,VF:()=>W,Vy:()=>ma,ZD:()=>ne,_b:()=>zo,aZ:()=>It,bT:()=>ve,hb:()=>Ie,qQ:()=>ge});var C=x(4438);let F=null;function A(){return F}function ne(h){F??=h}class W{}const ge=new C.nKC("");let Re=792==x.j?(()=>{class h{historyGo(g){throw new Error("")}static{this.\u0275fac=function(w){return new(w||h)}}static{this.\u0275prov=C.jDH({token:h,factory:()=>(0,C.WQX)(Q),providedIn:"platform"})}}return h})():null,Q=792==x.j?(()=>{class h extends Re{constructor(){super(),this._doc=(0,C.WQX)(ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(g){const w=A().getGlobalEventTarget(this._doc,"window");return w.addEventListener("popstate",g,!1),()=>w.removeEventListener("popstate",g)}onHashChange(g){const w=A().getGlobalEventTarget(this._doc,"window");return w.addEventListener("hashchange",g,!1),()=>w.removeEventListener("hashchange",g)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(g){this._location.pathname=g}pushState(g,w,M){this._history.pushState(g,w,M)}replaceState(g,w,M){this._history.replaceState(g,w,M)}forward(){this._history.forward()}back(){this._history.back()}historyGo(g=0){this._history.go(g)}getState(){return this._history.state}static{this.\u0275fac=function(w){return new(w||h)}}static{this.\u0275prov=C.jDH({token:h,factory:()=>new h,providedIn:"platform"})}}return h})():null;function B(h,D){if(0==h.length)return D;if(0==D.length)return h;let g=0;return h.endsWith("/")&&g++,D.startsWith("/")&&g++,2==g?h+D.substring(1):1==g?h+D:h+"/"+D}function fe(h){const D=h.match(/#|\?|$/),g=D&&D.index||h.length;return h.slice(0,g-("/"===h[g-1]?1:0))+h.slice(g)}function ze(h){return h&&"?"!==h[0]?"?"+h:h}let Ie=792==x.j?(()=>{class h{historyGo(g){throw new Error("")}static{this.\u0275fac=function(w){return new(w||h)}}static{this.\u0275prov=C.jDH({token:h,factory:()=>(0,C.WQX)(Tt),providedIn:"root"})}}return h})():null;const Xe=new C.nKC("");let Tt=792==x.j?(()=>{class h extends Ie{constructor(g,w){super(),this._platformLocation=g,this._removeListenerFns=[],this._baseHref=w??this._platformLocation.getBaseHrefFromDOM()??(0,C.WQX)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(g){this._removeListenerFns.push(this._platformLocation.onPopState(g),this._platformLocation.onHashChange(g))}getBaseHref(){return this._baseHref}prepareExternalUrl(g){return B(this._baseHref,g)}path(g=!1){const w=this._platformLocation.pathname+ze(this._platformLocation.search),M=this._platformLocation.hash;return M&&g?`${w}${M}`:w}pushState(g,w,M,V){const ce=this.prepareExternalUrl(M+ze(V));this._platformLocation.pushState(g,w,ce)}replaceState(g,w,M,V){const ce=this.prepareExternalUrl(M+ze(V));this._platformLocation.replaceState(g,w,ce)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(g=0){this._platformLocation.historyGo?.(g)}static{this.\u0275fac=function(w){return new(w||h)(C.KVO(Re),C.KVO(Xe,8))}}static{this.\u0275prov=C.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})():null,It=792==x.j?(()=>{class h{constructor(g){this._subject=new C.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=g;const w=this._locationStrategy.getBaseHref();this._basePath=function se(h){if(new RegExp("^(https?:)?//").test(h)){const[,g]=h.split(/\/\/[^\/]+/);return g}return h}(fe(Ne(w))),this._locationStrategy.onPopState(M=>{this._subject.emit({url:this.path(!0),pop:!0,state:M.state,type:M.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(g=!1){return this.normalize(this._locationStrategy.path(g))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(g,w=""){return this.path()==this.normalize(g+ze(w))}normalize(g){return h.stripTrailingSlash(function Qt(h,D){if(!h||!D.startsWith(h))return D;const g=D.substring(h.length);return""===g||["/",";","?","#"].includes(g[0])?g:D}(this._basePath,Ne(g)))}prepareExternalUrl(g){return g&&"/"!==g[0]&&(g="/"+g),this._locationStrategy.prepareExternalUrl(g)}go(g,w="",M=null){this._locationStrategy.pushState(M,"",g,w),this._notifyUrlChangeListeners(this.prepareExternalUrl(g+ze(w)),M)}replaceState(g,w="",M=null){this._locationStrategy.replaceState(M,"",g,w),this._notifyUrlChangeListeners(this.prepareExternalUrl(g+ze(w)),M)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(g=0){this._locationStrategy.historyGo?.(g)}onUrlChange(g){return this._urlChangeListeners.push(g),this._urlChangeSubscription??=this.subscribe(w=>{this._notifyUrlChangeListeners(w.url,w.state)}),()=>{const w=this._urlChangeListeners.indexOf(g);this._urlChangeListeners.splice(w,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(g="",w){this._urlChangeListeners.forEach(M=>M(g,w))}subscribe(g,w,M){return this._subject.subscribe({next:g,error:w,complete:M})}static{this.normalizeQueryParams=ze}static{this.joinWithSlash=B}static{this.stripTrailingSlash=fe}static{this.\u0275fac=function(w){return new(w||h)(C.KVO(Ie))}}static{this.\u0275prov=C.jDH({token:h,factory:()=>function Ht(){return new It((0,C.KVO)(Ie))}(),providedIn:"root"})}}return h})():null;function Ne(h){return h.replace(/\/index.html$/,"")}function zo(h,D){D=encodeURIComponent(D);for(const g of h.split(";")){const w=g.indexOf("="),[M,V]=-1==w?[g,""]:[g.slice(0,w),g.slice(w+1)];if(M.trim()===D)return decodeURIComponent(V)}return null}class k{constructor(D,g,w,M){this.$implicit=D,this.ngForOf=g,this.index=w,this.count=M}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let R=(()=>{class h{set ngForOf(g){this._ngForOf=g,this._ngForOfDirty=!0}set ngForTrackBy(g){this._trackByFn=g}get ngForTrackBy(){return this._trackByFn}constructor(g,w,M){this._viewContainer=g,this._template=w,this._differs=M,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(g){g&&(this._template=g)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const g=this._ngForOf;!this._differ&&g&&(this._differ=this._differs.find(g).create(this.ngForTrackBy))}if(this._differ){const g=this._differ.diff(this._ngForOf);g&&this._applyChanges(g)}}_applyChanges(g){const w=this._viewContainer;g.forEachOperation((M,V,ce)=>{if(null==M.previousIndex)w.createEmbeddedView(this._template,new k(M.item,this._ngForOf,-1,-1),null===ce?void 0:ce);else if(null==ce)w.remove(null===V?void 0:V);else if(null!==V){const Ae=w.get(V);w.move(Ae,ce),$(Ae,M)}});for(let M=0,V=w.length;M<V;M++){const Ae=w.get(M).context;Ae.index=M,Ae.count=V,Ae.ngForOf=this._ngForOf}g.forEachIdentityChange(M=>{$(w.get(M.currentIndex),M)})}static ngTemplateContextGuard(g,w){return!0}static{this.\u0275fac=function(w){return new(w||h)(C.rXU(C.c1b),C.rXU(C.C4Q),C.rXU(C._q3))}}static{this.\u0275dir=C.FsC({type:h,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return h})();function $(h,D){h.context.$implicit=D.item}let ve=(()=>{class h{constructor(g,w){this._viewContainer=g,this._context=new Se,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=w}set ngIf(g){this._context.$implicit=this._context.ngIf=g,this._updateView()}set ngIfThen(g){re("ngIfThen",g),this._thenTemplateRef=g,this._thenViewRef=null,this._updateView()}set ngIfElse(g){re("ngIfElse",g),this._elseTemplateRef=g,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(g,w){return!0}static{this.\u0275fac=function(w){return new(w||h)(C.rXU(C.c1b),C.rXU(C.C4Q))}}static{this.\u0275dir=C.FsC({type:h,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return h})();class Se{constructor(){this.$implicit=null,this.ngIf=null}}function re(h,D){if(D&&!D.createEmbeddedView)throw new Error(`${h} must be a TemplateRef, but received '${(0,C.Tbb)(D)}'.`)}let Go=792==x.j?(()=>{class h{static{this.\u0275fac=function(w){return new(w||h)}}static{this.\u0275mod=C.$C({type:h})}static{this.\u0275inj=C.G2t({})}}return h})():null;const Eo="browser",Un="server";function ma(h){return h===Un}class Zi{}},1626:(ot,le,x)=>{if(x.d(le,{$R:()=>_o,Qq:()=>G,ZZ:()=>da,b$:()=>ca}),792==x.j)var C=x(467);var F=x(4438),A=x(7673);if(792==x.j)var ne=x(1985);if(792==x.j)var W=x(6648);var Z=x(274),ge=x(5964),Re=x(6354);if(792==x.j)var be=x(980);if(792==x.j)var Q=x(5558);if(792==x.j)var B=x(177);class fe{}class ze{}class Ie{constructor(k){this.normalizedNames=new Map,this.lazyUpdate=null,k?"string"==typeof k?this.lazyInit=()=>{this.headers=new Map,k.split("\n").forEach(R=>{const $=R.indexOf(":");if($>0){const X=R.slice(0,$),ve=X.toLowerCase(),Se=R.slice($+1).trim();this.maybeSetNormalizedName(X,ve),this.headers.has(ve)?this.headers.get(ve).push(Se):this.headers.set(ve,[Se])}})}:typeof Headers<"u"&&k instanceof Headers?(this.headers=new Map,k.forEach((R,$)=>{this.setHeaderEntries($,R)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(k).forEach(([R,$])=>{this.setHeaderEntries(R,$)})}:this.headers=new Map}has(k){return this.init(),this.headers.has(k.toLowerCase())}get(k){this.init();const R=this.headers.get(k.toLowerCase());return R&&R.length>0?R[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(k){return this.init(),this.headers.get(k.toLowerCase())||null}append(k,R){return this.clone({name:k,value:R,op:"a"})}set(k,R){return this.clone({name:k,value:R,op:"s"})}delete(k,R){return this.clone({name:k,value:R,op:"d"})}maybeSetNormalizedName(k,R){this.normalizedNames.has(R)||this.normalizedNames.set(R,k)}init(){this.lazyInit&&(this.lazyInit instanceof Ie?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(k=>this.applyUpdate(k)),this.lazyUpdate=null))}copyFrom(k){k.init(),Array.from(k.headers.keys()).forEach(R=>{this.headers.set(R,k.headers.get(R)),this.normalizedNames.set(R,k.normalizedNames.get(R))})}clone(k){const R=new Ie;return R.lazyInit=this.lazyInit&&this.lazyInit instanceof Ie?this.lazyInit:this,R.lazyUpdate=(this.lazyUpdate||[]).concat([k]),R}applyUpdate(k){const R=k.name.toLowerCase();switch(k.op){case"a":case"s":let $=k.value;if("string"==typeof $&&($=[$]),0===$.length)return;this.maybeSetNormalizedName(k.name,R);const X=("a"===k.op?this.headers.get(R):void 0)||[];X.push(...$),this.headers.set(R,X);break;case"d":const ve=k.value;if(ve){let Se=this.headers.get(R);if(!Se)return;Se=Se.filter(re=>-1===ve.indexOf(re)),0===Se.length?(this.headers.delete(R),this.normalizedNames.delete(R)):this.headers.set(R,Se)}else this.headers.delete(R),this.normalizedNames.delete(R)}}setHeaderEntries(k,R){const $=(Array.isArray(R)?R:[R]).map(ve=>ve.toString()),X=k.toLowerCase();this.headers.set(X,$),this.maybeSetNormalizedName(k,X)}forEach(k){this.init(),Array.from(this.normalizedNames.keys()).forEach(R=>k(this.normalizedNames.get(R),this.headers.get(R)))}}class Tt{encodeKey(k){return Qt(k)}encodeValue(k){return Qt(k)}decodeKey(k){return decodeURIComponent(k)}decodeValue(k){return decodeURIComponent(k)}}const It=/%(\d[a-f0-9])/gi,Ht={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Qt(I){return encodeURIComponent(I).replace(It,(k,R)=>Ht[R]??k)}function Ne(I){return`${I}`}class se{constructor(k={}){if(this.updates=null,this.cloneFrom=null,this.encoder=k.encoder||new Tt,k.fromString){if(k.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mt(I,k){const R=new Map;return I.length>0&&I.replace(/^\?/,"").split("&").forEach(X=>{const ve=X.indexOf("="),[Se,re]=-1==ve?[k.decodeKey(X),""]:[k.decodeKey(X.slice(0,ve)),k.decodeValue(X.slice(ve+1))],Oe=R.get(Se)||[];Oe.push(re),R.set(Se,Oe)}),R}(k.fromString,this.encoder)}else k.fromObject?(this.map=new Map,Object.keys(k.fromObject).forEach(R=>{const $=k.fromObject[R],X=Array.isArray($)?$.map(Ne):[Ne($)];this.map.set(R,X)})):this.map=null}has(k){return this.init(),this.map.has(k)}get(k){this.init();const R=this.map.get(k);return R?R[0]:null}getAll(k){return this.init(),this.map.get(k)||null}keys(){return this.init(),Array.from(this.map.keys())}append(k,R){return this.clone({param:k,value:R,op:"a"})}appendAll(k){const R=[];return Object.keys(k).forEach($=>{const X=k[$];Array.isArray(X)?X.forEach(ve=>{R.push({param:$,value:ve,op:"a"})}):R.push({param:$,value:X,op:"a"})}),this.clone(R)}set(k,R){return this.clone({param:k,value:R,op:"s"})}delete(k,R){return this.clone({param:k,value:R,op:"d"})}toString(){return this.init(),this.keys().map(k=>{const R=this.encoder.encodeKey(k);return this.map.get(k).map($=>R+"="+this.encoder.encodeValue($)).join("&")}).filter(k=>""!==k).join("&")}clone(k){const R=new se({encoder:this.encoder});return R.cloneFrom=this.cloneFrom||this,R.updates=(this.updates||[]).concat(k),R}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(k=>this.map.set(k,this.cloneFrom.map.get(k))),this.updates.forEach(k=>{switch(k.op){case"a":case"s":const R=("a"===k.op?this.map.get(k.param):void 0)||[];R.push(Ne(k.value)),this.map.set(k.param,R);break;case"d":if(void 0===k.value){this.map.delete(k.param);break}{let $=this.map.get(k.param)||[];const X=$.indexOf(Ne(k.value));-1!==X&&$.splice(X,1),$.length>0?this.map.set(k.param,$):this.map.delete(k.param)}}}),this.cloneFrom=this.updates=null)}}class it{constructor(){this.map=new Map}set(k,R){return this.map.set(k,R),this}get(k){return this.map.has(k)||this.map.set(k,k.defaultValue()),this.map.get(k)}delete(k){return this.map.delete(k),this}has(k){return this.map.has(k)}keys(){return this.map.keys()}}function Te(I){return typeof ArrayBuffer<"u"&&I instanceof ArrayBuffer}function je(I){return typeof Blob<"u"&&I instanceof Blob}function de(I){return typeof FormData<"u"&&I instanceof FormData}class st{constructor(k,R,$,X){let ve;if(this.url=R,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=k.toUpperCase(),function Le(I){switch(I){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||X?(this.body=void 0!==$?$:null,ve=X):ve=$,ve&&(this.reportProgress=!!ve.reportProgress,this.withCredentials=!!ve.withCredentials,ve.responseType&&(this.responseType=ve.responseType),ve.headers&&(this.headers=ve.headers),ve.context&&(this.context=ve.context),ve.params&&(this.params=ve.params),this.transferCache=ve.transferCache),this.headers??=new Ie,this.context??=new it,this.params){const Se=this.params.toString();if(0===Se.length)this.urlWithParams=R;else{const re=R.indexOf("?");this.urlWithParams=R+(-1===re?"?":re<R.length-1?"&":"")+Se}}else this.params=new se,this.urlWithParams=R}serializeBody(){return null===this.body?null:"string"==typeof this.body||Te(this.body)||je(this.body)||de(this.body)||function xe(I){return typeof URLSearchParams<"u"&&I instanceof URLSearchParams}(this.body)?this.body:this.body instanceof se?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||de(this.body)?null:je(this.body)?this.body.type||null:Te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof se?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(k={}){const R=k.method||this.method,$=k.url||this.url,X=k.responseType||this.responseType,ve=k.transferCache??this.transferCache,Se=void 0!==k.body?k.body:this.body,re=k.withCredentials??this.withCredentials,Oe=k.reportProgress??this.reportProgress;let qe=k.headers||this.headers,me=k.params||this.params;const Bt=k.context??this.context;return void 0!==k.setHeaders&&(qe=Object.keys(k.setHeaders).reduce((ke,rn)=>ke.set(rn,k.setHeaders[rn]),qe)),k.setParams&&(me=Object.keys(k.setParams).reduce((ke,rn)=>ke.set(rn,k.setParams[rn]),me)),new st(R,$,Se,{params:me,headers:qe,context:Bt,reportProgress:Oe,responseType:X,withCredentials:re,transferCache:ve})}}var Ft=function(I){return I[I.Sent=0]="Sent",I[I.UploadProgress=1]="UploadProgress",I[I.ResponseHeader=2]="ResponseHeader",I[I.DownloadProgress=3]="DownloadProgress",I[I.Response=4]="Response",I[I.User=5]="User",I}(Ft||{});class Gt{constructor(k,R=200,$="OK"){this.headers=k.headers||new Ie,this.status=void 0!==k.status?k.status:R,this.statusText=k.statusText||$,this.url=k.url||null,this.ok=this.status>=200&&this.status<300}}class Et extends Gt{constructor(k={}){super(k),this.type=Ft.ResponseHeader}clone(k={}){return new Et({headers:k.headers||this.headers,status:void 0!==k.status?k.status:this.status,statusText:k.statusText||this.statusText,url:k.url||this.url||void 0})}}class en extends Gt{constructor(k={}){super(k),this.type=Ft.Response,this.body=void 0!==k.body?k.body:null}clone(k={}){return new en({body:void 0!==k.body?k.body:this.body,headers:k.headers||this.headers,status:void 0!==k.status?k.status:this.status,statusText:k.statusText||this.statusText,url:k.url||this.url||void 0})}}class Ln extends Gt{constructor(k){super(k,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${k.url||"(unknown url)"}`:`Http failure response for ${k.url||"(unknown url)"}: ${k.status} ${k.statusText}`,this.error=k.error||null}}function H(I,k){return{body:k,headers:I.headers,context:I.context,observe:I.observe,params:I.params,reportProgress:I.reportProgress,responseType:I.responseType,withCredentials:I.withCredentials,transferCache:I.transferCache}}let G=(()=>{class I{constructor(R){this.handler=R}request(R,$,X={}){let ve;if(R instanceof st)ve=R;else{let Oe,qe;Oe=X.headers instanceof Ie?X.headers:new Ie(X.headers),X.params&&(qe=X.params instanceof se?X.params:new se({fromObject:X.params})),ve=new st(R,$,void 0!==X.body?X.body:null,{headers:Oe,context:X.context,params:qe,reportProgress:X.reportProgress,responseType:X.responseType||"json",withCredentials:X.withCredentials,transferCache:X.transferCache})}const Se=(0,A.of)(ve).pipe((0,Z.H)(Oe=>this.handler.handle(Oe)));if(R instanceof st||"events"===X.observe)return Se;const re=Se.pipe((0,ge.p)(Oe=>Oe instanceof en));switch(X.observe||"body"){case"body":switch(ve.responseType){case"arraybuffer":return re.pipe((0,Re.T)(Oe=>{if(null!==Oe.body&&!(Oe.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Oe.body}));case"blob":return re.pipe((0,Re.T)(Oe=>{if(null!==Oe.body&&!(Oe.body instanceof Blob))throw new Error("Response is not a Blob.");return Oe.body}));case"text":return re.pipe((0,Re.T)(Oe=>{if(null!==Oe.body&&"string"!=typeof Oe.body)throw new Error("Response is not a string.");return Oe.body}));default:return re.pipe((0,Re.T)(Oe=>Oe.body))}case"response":return re;default:throw new Error(`Unreachable: unhandled observe type ${X.observe}}`)}}delete(R,$={}){return this.request("DELETE",R,$)}get(R,$={}){return this.request("GET",R,$)}head(R,$={}){return this.request("HEAD",R,$)}jsonp(R,$){return this.request("JSONP",R,{params:(new se).append($,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(R,$={}){return this.request("OPTIONS",R,$)}patch(R,$,X={}){return this.request("PATCH",R,H(X,$))}post(R,$,X={}){return this.request("POST",R,H(X,$))}put(R,$,X={}){return this.request("PUT",R,H(X,$))}static{this.\u0275fac=function($){return new($||I)(F.KVO(fe))}}static{this.\u0275prov=F.jDH({token:I,factory:I.\u0275fac})}}return I})();const z=/^\)\]\}',?\n/,he=792==x.j?"X-Request-URL":null;function pe(I){if(I.url)return I.url;const k=he.toLocaleLowerCase();return I.headers.get(k)}let Ke=792==x.j?(()=>{class I{constructor(){this.fetchImpl=(0,F.WQX)(At,{optional:!0})?.fetch??((...R)=>globalThis.fetch(...R)),this.ngZone=(0,F.WQX)(F.SKi)}handle(R){return new ne.c($=>{const X=new AbortController;return this.doRequest(R,X.signal,$).then(tn,ve=>$.error(new Ln({error:ve}))),()=>X.abort()})}doRequest(R,$,X){var ve=this;return(0,C.A)(function*(){const Se=ve.createRequestInit(R);let re;try{const gn=ve.ngZone.runOutsideAngular(()=>ve.fetchImpl(R.urlWithParams,{signal:$,...Se}));(function Qe(I){I.then(tn,tn)})(gn),X.next({type:Ft.Sent}),re=yield gn}catch(gn){return void X.error(new Ln({error:gn,status:gn.status??0,statusText:gn.statusText,url:R.urlWithParams,headers:gn.headers}))}const Oe=new Ie(re.headers),qe=re.statusText,me=pe(re)??R.urlWithParams;let Bt=re.status,ke=null;if(R.reportProgress&&X.next(new Et({headers:Oe,status:Bt,statusText:qe,url:me})),re.body){const gn=re.headers.get("content-length"),ft=[],Pt=re.body.getReader();let Ce,Me,mn=0;const dr=typeof Zone<"u"&&Zone.current;yield ve.ngZone.runOutsideAngular((0,C.A)(function*(){for(;;){const{done:yn,value:zi}=yield Pt.read();if(yn)break;if(ft.push(zi),mn+=zi.length,R.reportProgress){Me="text"===R.responseType?(Me??"")+(Ce??=new TextDecoder).decode(zi,{stream:!0}):void 0;const Xn=()=>X.next({type:Ft.DownloadProgress,total:gn?+gn:void 0,loaded:mn,partialText:Me});dr?dr.run(Xn):Xn()}}}));const wo=ve.concatChunks(ft,mn);try{const yn=re.headers.get("Content-Type")??"";ke=ve.parseBody(R,wo,yn)}catch(yn){return void X.error(new Ln({error:yn,headers:new Ie(re.headers),status:re.status,statusText:re.statusText,url:pe(re)??R.urlWithParams}))}}0===Bt&&(Bt=ke?200:0),Bt>=200&&Bt<300?(X.next(new en({body:ke,headers:Oe,status:Bt,statusText:qe,url:me})),X.complete()):X.error(new Ln({error:ke,headers:Oe,status:Bt,statusText:qe,url:me}))})()}parseBody(R,$,X){switch(R.responseType){case"json":const ve=(new TextDecoder).decode($).replace(z,"");return""===ve?null:JSON.parse(ve);case"text":return(new TextDecoder).decode($);case"blob":return new Blob([$],{type:X});case"arraybuffer":return $.buffer}}createRequestInit(R){const $={},X=R.withCredentials?"include":void 0;if(R.headers.forEach((ve,Se)=>$[ve]=Se.join(",")),R.headers.has("Accept")||($.Accept="application/json, text/plain, */*"),!R.headers.has("Content-Type")){const ve=R.detectContentTypeHeader();null!==ve&&($["Content-Type"]=ve)}return{body:R.serializeBody(),method:R.method,headers:$,credentials:X}}concatChunks(R,$){const X=new Uint8Array($);let ve=0;for(const Se of R)X.set(Se,ve),ve+=Se.length;return X}static{this.\u0275fac=function($){return new($||I)}}static{this.\u0275prov=F.jDH({token:I,factory:I.\u0275fac})}}return I})():null;class At{}function tn(){}function Vt(I,k){return k(I)}const Nt=new F.nKC(""),bn=new F.nKC(""),Nn=new F.nKC("",{providedIn:"root",factory:()=>!0});let Nr=792==x.j?(()=>{class I extends fe{constructor(R,$){super(),this.backend=R,this.injector=$,this.chain=null,this.pendingTasks=(0,F.WQX)(F.TgB),this.contributeToStability=(0,F.WQX)(Nn)}handle(R){if(null===this.chain){const $=Array.from(new Set([...this.injector.get(Nt),...this.injector.get(bn,[])]));this.chain=$.reduceRight((X,ve)=>function Fn(I,k,R){return($,X)=>(0,F.N4e)(R,()=>k($,ve=>I(ve,X)))}(X,ve,this.injector),Vt)}if(this.contributeToStability){const $=this.pendingTasks.add();return this.chain(R,X=>this.backend.handle(X)).pipe((0,be.j)(()=>this.pendingTasks.remove($)))}return this.chain(R,$=>this.backend.handle($))}static{this.\u0275fac=function($){return new($||I)(F.KVO(ze),F.KVO(F.uvJ))}}static{this.\u0275prov=F.jDH({token:I,factory:I.\u0275fac})}}return I})():null;const dn=/^\)\]\}',?\n/;let Is=792==x.j?(()=>{class I{constructor(R){this.xhrFactory=R}handle(R){if("JSONP"===R.method)throw new F.wOt(-2800,!1);const $=this.xhrFactory;return($.\u0275loadImpl?(0,W.H)($.\u0275loadImpl()):(0,A.of)(null)).pipe((0,Q.n)(()=>new ne.c(ve=>{const Se=$.build();if(Se.open(R.method,R.urlWithParams),R.withCredentials&&(Se.withCredentials=!0),R.headers.forEach((ft,Pt)=>Se.setRequestHeader(ft,Pt.join(","))),R.headers.has("Accept")||Se.setRequestHeader("Accept","application/json, text/plain, */*"),!R.headers.has("Content-Type")){const ft=R.detectContentTypeHeader();null!==ft&&Se.setRequestHeader("Content-Type",ft)}if(R.responseType){const ft=R.responseType.toLowerCase();Se.responseType="json"!==ft?ft:"text"}const re=R.serializeBody();let Oe=null;const qe=()=>{if(null!==Oe)return Oe;const ft=Se.statusText||"OK",Pt=new Ie(Se.getAllResponseHeaders()),mn=function jt(I){return"responseURL"in I&&I.responseURL?I.responseURL:/^X-Request-URL:/m.test(I.getAllResponseHeaders())?I.getResponseHeader("X-Request-URL"):null}(Se)||R.url;return Oe=new Et({headers:Pt,status:Se.status,statusText:ft,url:mn}),Oe},me=()=>{let{headers:ft,status:Pt,statusText:mn,url:Ce}=qe(),Me=null;204!==Pt&&(Me=typeof Se.response>"u"?Se.responseText:Se.response),0===Pt&&(Pt=Me?200:0);let dr=Pt>=200&&Pt<300;if("json"===R.responseType&&"string"==typeof Me){const wo=Me;Me=Me.replace(dn,"");try{Me=""!==Me?JSON.parse(Me):null}catch(yn){Me=wo,dr&&(dr=!1,Me={error:yn,text:Me})}}dr?(ve.next(new en({body:Me,headers:ft,status:Pt,statusText:mn,url:Ce||void 0})),ve.complete()):ve.error(new Ln({error:Me,headers:ft,status:Pt,statusText:mn,url:Ce||void 0}))},Bt=ft=>{const{url:Pt}=qe(),mn=new Ln({error:ft,status:Se.status||0,statusText:Se.statusText||"Unknown Error",url:Pt||void 0});ve.error(mn)};let ke=!1;const rn=ft=>{ke||(ve.next(qe()),ke=!0);let Pt={type:Ft.DownloadProgress,loaded:ft.loaded};ft.lengthComputable&&(Pt.total=ft.total),"text"===R.responseType&&Se.responseText&&(Pt.partialText=Se.responseText),ve.next(Pt)},gn=ft=>{let Pt={type:Ft.UploadProgress,loaded:ft.loaded};ft.lengthComputable&&(Pt.total=ft.total),ve.next(Pt)};return Se.addEventListener("load",me),Se.addEventListener("error",Bt),Se.addEventListener("timeout",Bt),Se.addEventListener("abort",Bt),R.reportProgress&&(Se.addEventListener("progress",rn),null!==re&&Se.upload&&Se.upload.addEventListener("progress",gn)),Se.send(re),ve.next({type:Ft.Sent}),()=>{Se.removeEventListener("error",Bt),Se.removeEventListener("abort",Bt),Se.removeEventListener("load",me),Se.removeEventListener("timeout",Bt),R.reportProgress&&(Se.removeEventListener("progress",rn),null!==re&&Se.upload&&Se.upload.removeEventListener("progress",gn)),Se.readyState!==Se.DONE&&Se.abort()}})))}static{this.\u0275fac=function($){return new($||I)(F.KVO(B.N0))}}static{this.\u0275prov=F.jDH({token:I,factory:I.\u0275fac})}}return I})():null;const yt=new F.nKC(""),bt=new F.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),fi=new F.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jo{}let kr=792==x.j?(()=>{class I{constructor(R,$,X){this.doc=R,this.platform=$,this.cookieName=X,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const R=this.doc.cookie||"";return R!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,B._b)(R,this.cookieName),this.lastCookieString=R),this.lastToken}static{this.\u0275fac=function($){return new($||I)(F.KVO(B.qQ),F.KVO(F.Agw),F.KVO(bt))}}static{this.\u0275prov=F.jDH({token:I,factory:I.\u0275fac})}}return I})():null;function We(I,k){const R=I.url.toLowerCase();if(!(0,F.WQX)(yt)||"GET"===I.method||"HEAD"===I.method||R.startsWith("http://")||R.startsWith("https://"))return k(I);const $=(0,F.WQX)(jo).getToken(),X=(0,F.WQX)(fi);return null!=$&&!I.headers.has(X)&&(I=I.clone({headers:I.headers.set(X,$)})),k(I)}var nn=function(I){return I[I.Interceptors=0]="Interceptors",I[I.LegacyInterceptors=1]="LegacyInterceptors",I[I.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",I[I.NoXsrfProtection=3]="NoXsrfProtection",I[I.JsonpSupport=4]="JsonpSupport",I[I.RequestsMadeViaParent=5]="RequestsMadeViaParent",I[I.Fetch=6]="Fetch",I}(nn||{});function Yn(I,k){return{\u0275kind:I,\u0275providers:k}}function _o(...I){const k=[G,Is,Nr,{provide:fe,useExisting:Nr},{provide:ze,useFactory:()=>(0,F.WQX)(Ke,{optional:!0})??(0,F.WQX)(Is)},{provide:Nt,useValue:We,multi:!0},{provide:yt,useValue:!0},{provide:jo,useClass:kr}];for(const R of I)k.push(...R.\u0275providers);return(0,F.EmA)(k)}function ca(I){return Yn(nn.Interceptors,I.map(k=>({provide:Nt,useValue:k,multi:!0})))}function da(){return Yn(nn.Fetch,[Ke,{provide:ze,useExisting:Ke}])}},4438:(ot,le,x)=>{function C(e,t){return Object.is(e,t)}x.d(le,{iLQ:()=>Jd,sZ2:()=>Gl,o8S:()=>li,BIS:()=>f0,gRc:()=>FD,Ql9:()=>vN,Ocv:()=>CN,Z63:()=>Jn,aKT:()=>vu,uvJ:()=>tr,zcH:()=>ji,bkB:()=>ii,$GK:()=>wt,_qm:()=>ME,nKC:()=>et,zZn:()=>ir,_q3:()=>cg,MKu:()=>ug,xe9:()=>rg,Co$:()=>Rv,Vns:()=>na,SKi:()=>pn,Agw:()=>Jl,PLl:()=>im,sFG:()=>oC,_9s:()=>Vh,czy:()=>sd,C4Q:()=>Lu,NYb:()=>lN,giA:()=>ED,RxE:()=>pD,c1b:()=>Id,gXe:()=>no,L39:()=>Ix,EWP:()=>Sx,Ol2:()=>rp,w6W:()=>ZC,Rfq:()=>kr,WQX:()=>He,QuC:()=>jr,EmA:()=>Wt,N4e:()=>Us,vPA:()=>hv,O8t:()=>Tx,H3F:()=>gD,H8p:()=>so,KH2:()=>xc,TgB:()=>Js,wOt:()=>we,WHO:()=>wD,e01:()=>DD,H5H:()=>Rp,Zy3:()=>Mr,mq5:()=>F_,JZv:()=>dn,TL3:()=>ox,LfX:()=>Bo,plB:()=>vs,jNT:()=>Qp,zjR:()=>bD,TL$:()=>l0,Tbb:()=>bt,Vt3:()=>Qh,GFd:()=>xv,OA$:()=>ps,Jv_:()=>zw,aNF:()=>Ww,R7$:()=>ty,BMQ:()=>yp,AVh:()=>bp,wni:()=>vw,VBU:()=>Ps,FsC:()=>$c,jDH:()=>xt,G2t:()=>Ho,$C:()=>Di,EJ8:()=>zc,rXU:()=>sc,nrm:()=>Ap,eu8:()=>xp,k0s:()=>jd,j41:()=>Fd,RV6:()=>P_,xGo:()=>bg,KVO:()=>vn,kS0:()=>Hl,bIt:()=>Op,lsd:()=>Dw,XpG:()=>cw,Y8G:()=>Dp,mGM:()=>ww,Njj:()=>Nl,eBV:()=>Ba,n$t:()=>xm,DNE:()=>ip,EFF:()=>xw,JRh:()=>Up,SpI:()=>$d,Lme:()=>Vp,DH7:()=>Vw,mxI:()=>Bp,R50:()=>Hp,GBs:()=>_w});let F=null,A=!1,ne=1;const W=Symbol("SIGNAL");function Z(e){const t=F;return F=e,t}const Q={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function B(e){if(A)throw new Error("");if(null===F)return;F.consumerOnSignalRead(e);const t=F.nextProducerIndex++;it(F),t<F.producerNode.length&&F.producerNode[t]!==e&&Ve(F)&&se(F.producerNode[t],F.producerIndexOfThis[t]),F.producerNode[t]!==e&&(F.producerNode[t]=e,F.producerIndexOfThis[t]=Ve(F)?Ne(e,F,t):0),F.producerLastReadVersion[t]=e.version}function ze(e){if((!Ve(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ne)){if(!e.producerMustRecompute(e)&&!Ht(e))return e.dirty=!1,void(e.lastCleanEpoch=ne);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ne}}function Ie(e){if(void 0===e.liveConsumerNode)return;const t=A;A=!0;try{for(const n of e.liveConsumerNode)n.dirty||Tt(n)}finally{A=t}}function Xe(){return!1!==F?.consumerAllowSignalWrites}function Tt(e){e.dirty=!0,Ie(e),e.consumerMarkedDirty?.(e)}function mt(e){return e&&(e.nextProducerIndex=0),Z(e)}function It(e,t){if(Z(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ve(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)se(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ht(e){it(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(ze(n),r!==n.version))return!0}return!1}function Qt(e){if(it(e),Ve(e))for(let t=0;t<e.producerNode.length;t++)se(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ne(e,t,n){if(Le(e),0===e.liveConsumerNode.length&&Te(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Ne(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function se(e,t){if(Le(e),1===e.liveConsumerNode.length&&Te(e))for(let r=0;r<e.producerNode.length;r++)se(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];it(o),o.producerIndexOfThis[r]=t}}function Ve(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function it(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Le(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Te(e){return void 0!==e.producerNode}const de=Symbol("UNSET"),xe=Symbol("COMPUTING"),st=Symbol("ERRORED"),Ft={...Q,value:de,dirty:!0,error:null,equal:C,producerMustRecompute:e=>e.value===de||e.value===xe,producerRecomputeValue(e){if(e.value===xe)throw new Error("Detected cycle in computations.");const t=e.value;e.value=xe;const n=mt(e);let r;try{r=e.computation()}catch(o){r=st,e.error=o}finally{It(e,n)}t!==de&&t!==st&&r!==st&&e.equal(t,r)?e.value=t:(e.value=r,e.version++)}};let Et=function Gt(){throw new Error};function en(){Et()}let ar=null;function G(e,t){Xe()||en(),e.equal(e.value,t)||(e.value=t,function Ke(e){e.version++,function fe(){ne++}(),Ie(e),ar?.()}(e))}const pe={...Q,equal:C,value:void 0};var an=x(4412),Fn=x(1413),Ct=x(8359),Nt=x(6354);const Nn="https://g.co/ng/security#xss";class we extends Error{constructor(t,n){super(Mr(t,n)),this.code=t}}function Mr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function dt(e){return{toString:e}.toString()}const yo="__annotations__",yr="__parameters__",xn="__prop__metadata__";function vo(e,t,n,r,o){return dt(()=>{const i=Rn(t);function c(...d){if(this instanceof c)return i.call(this,...d),this;const f=new c(...d);return function(_){return o&&o(_,...d),(_.hasOwnProperty(yo)?_[yo]:Object.defineProperty(_,yo,{value:[]})[yo]).push(f),r&&r(_),_}}return n&&(c.prototype=Object.create(n.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}function Rn(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}function Rr(e,t,n){return dt(()=>{const r=Rn(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const c=new o(...i);return d.annotation=c,d;function d(f,m,_){const b=f.hasOwnProperty(yr)?f[yr]:Object.defineProperty(f,yr,{value:[]})[yr];for(;b.length<=_;)b.push(null);return(b[_]=b[_]||[]).push(c),f}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const dn=globalThis;function yt(e){for(let t in e)if(e[t]===yt)return t;throw Error("Could not find renamed property on target object.")}function Fo(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function bt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(bt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function di(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const jo=yt({__forward_ref__:yt});function kr(e){return e.__forward_ref__=kr,e.toString=function(){return bt(this())},e}function We(e){return hi(e)?e():e}function hi(e){return"function"==typeof e&&e.hasOwnProperty(jo)&&e.__forward_ref__===kr}function xt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ho(e){return{providers:e.providers||[],imports:e.imports||[]}}function qr(e){return $o(e,zo)||$o(e,Or)}function Bo(e){return null!==qr(e)}function $o(e,t){return e.hasOwnProperty(t)?e[t]:null}function lr(e){return e&&(e.hasOwnProperty(Wo)||e.hasOwnProperty(Ko))?e[Wo]:null}const zo=yt({\u0275prov:yt}),Wo=yt({\u0275inj:yt}),Or=yt({ngInjectableDef:yt}),Ko=yt({ngInjectorDef:yt});class et{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=xt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function me(e){return e&&!!e.\u0275providers}const Bt=yt({\u0275cmp:yt}),ke=yt({\u0275dir:yt}),rn=yt({\u0275pipe:yt}),gn=yt({\u0275mod:yt}),ft=yt({\u0275fac:yt}),Pt=yt({__NG_ELEMENT_ID__:yt}),mn=yt({__NG_ENV_ID__:yt});function Ce(e){return"string"==typeof e?e:null==e?"":String(e)}function Ss(e,t){throw new we(-201,!1)}var wt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(wt||{});let Yr;function Wi(){return Yr}function jn(e){const t=Yr;return Yr=e,t}function Qr(e,t,n){const r=qr(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&wt.Optional?null:void 0!==t?t:void Ss()}const Ze={},Ts="__NG_DI_FLAG__",Do="ngTempTokenPath",pa=/\n/gm,As="__source";let eo;function $t(e){const t=eo;return eo=e,t}function Gi(e,t=wt.Default){if(void 0===eo)throw new we(-203,!1);return null===eo?Qr(e,void 0,t):eo.get(e,t&wt.Optional?null:void 0,t)}function vn(e,t=wt.Default){return(Wi()||Gi)(We(e),t)}function He(e,t=wt.Default){return vn(e,Go(t))}function Go(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Eo(e){const t=[];for(let n=0;n<e.length;n++){const r=We(e[n]);if(Array.isArray(r)){if(0===r.length)throw new we(900,!1);let o,i=wt.Default;for(let c=0;c<r.length;c++){const d=r[c],f=vr(d);"number"==typeof f?-1===f?o=d.token:i|=f:o=d}t.push(vn(o,i))}else t.push(vn(r))}return t}function Un(e,t){return e[Ts]=t,e.prototype[Ts]=t,e}function vr(e){return e[Ts]}const ml=Un(Rr("Inject",e=>({token:e})),-1),Ji=Un(Rr("Optional"),8),ya=Un(Rr("Self"),2),Jo=Un(Rr("SkipSelf"),4),Zi=Un(Rr("Host"),1);function fr(e,t){return e.hasOwnProperty(ft)?e[ft]:null}function vi(e,t){e.forEach(n=>Array.isArray(n)?vi(n,t):t(n))}function Ms(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Xi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function qi(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function Vn(e,t,n){let r=Fr(e,t);return r>=0?e[1|r]=n:(r=~r,function _a(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Yi(e,t){const n=Fr(e,t);if(n>=0)return e[1|n]}function Fr(e,t){return function xs(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),c=e[i<<n];if(t===c)return i<<n;c>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const _r={},St=[],Jn=new et(""),Qi=new et("",-1),Rs=new et("");class es{get(t,n=Ze){if(n===Ze){const r=new Error(`NullInjectorError: No provider for ${bt(t)}!`);throw r.name="NullInjectorError",r}return n}}var _i=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(_i||{}),no=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(no||{}),ro=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ro||{});function jc(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function wi(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],c=n[r++],d=n[r++];e.setAttribute(t,c,d,i)}else{const i=o,c=n[++r];Uc(i)?e.setProperty(t,i,c):e.setAttribute(t,i,c),r++}}return r}function ks(e){return 3===e||4===e||6===e}function Uc(e){return 64===e.charCodeAt(0)}function bo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||Da(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function Da(e,t,n,r,o){let i=0,c=e.length;if(-1===t)c=-1;else for(;i<e.length;){const d=e[i++];if("number"==typeof d){if(d===t){c=-1;break}if(d>t){c=i-1;break}}}for(;i<e.length;){const d=e[i];if("number"==typeof d)break;if(d===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==c&&(e.splice(c,0,t),i=c+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}const Ea="ng-template";function ba(e,t,n,r){let o=0;if(r){for(;o<t.length&&"string"==typeof t[o];o+=2)if("class"===t[o]&&-1!==jc(t[o+1].toLowerCase(),n,0))return!0}else if(ts(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&"string"==typeof(i=t[o]);)if(i.toLowerCase()===n)return!0}return!1}function ts(e){return 4===e.type&&e.value!==Ea}function ns(e,t,n){return t===(4!==e.type||n?e.value:Ea)}function Ue(e,t,n){let r=4;const o=e.attrs,i=null!==o?function rs(e){for(let t=0;t<e.length;t++)if(ks(e[t]))return t;return e.length}(o):0;let c=!1;for(let d=0;d<t.length;d++){const f=t[d];if("number"!=typeof f){if(!c)if(4&r){if(r=2|1&r,""!==f&&!ns(e,f,n)||""===f&&1===t.length){if(hr(r))return!1;c=!0}}else if(8&r){if(null===o||!ba(e,o,f,n)){if(hr(r))return!1;c=!0}}else{const m=t[++d],_=Ia(f,o,ts(e),n);if(-1===_){if(hr(r))return!1;c=!0;continue}if(""!==m){let b;if(b=_>i?"":o[_+1].toLowerCase(),2&r&&m!==b){if(hr(r))return!1;c=!0}}}}else{if(!c&&!hr(r)&&!hr(f))return!1;if(c&&hr(f))continue;c=!1,r=f|1&r}}return hr(r)||c}function hr(e){return!(1&e)}function Ia(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const c=t[o];if(c===e)return o;if(3===c||6===c)i=!0;else{if(1===c||2===c){let d=t[++o];for(;"string"==typeof d;)d=t[++o];continue}if(4===c)break;if(0===c){o+=4;continue}}o+=i?1:2}return-1}return function oo(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ca(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ue(e,t[r],n))return!0;return!1}function Ta(e,t){return e?":not("+t.trim()+")":t}function yl(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const d=e[++n];o+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else 8&r?o+="."+c:4&r&&(o+=" "+c);else""!==o&&!hr(c)&&(t+=Ta(i,o),o=""),r=c,i=i||!hr(r);n++}return""!==o&&(t+=Ta(i,o)),t}function Ps(e){return dt(()=>{const t=Ei(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===_i.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||no.Emulated,styles:e.styles||St,_:null,schemas:e.schemas||null,tView:null,id:""};Io(n);const r=e.dependencies;return n.directiveDefs=Co(r,!1),n.pipeDefs=Co(r,!0),n.id=function Zo(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function Bc(e){return ht(e)||on(e)}function Os(e){return null!==e}function Di(e){return dt(()=>({type:e.type,bootstrap:e.bootstrap||St,declarations:e.declarations||St,imports:e.imports||St,exports:e.exports||St,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function er(e,t){if(null==e)return _r;const n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,c,d=ro.None;Array.isArray(o)?(d=o[0],i=o[1],c=o[2]??i):(i=o,c=o),t?(n[i]=d!==ro.None?[r,d]:r,t[i]=c):n[i]=r}return n}function $c(e){return dt(()=>{const t=Ei(e);return Io(t),t})}function zc(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ht(e){return e[Bt]||null}function on(e){return e[ke]||null}function wn(e){return e[rn]||null}function jr(e){const t=ht(e)||on(e)||wn(e);return null!==t&&t.standalone}function kn(e,t){const n=e[gn]||null;if(!n&&!0===t)throw new Error(`Type ${bt(e)} does not have '\u0275mod' property.`);return n}function Ei(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||_r,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||St,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:er(e.inputs,t),outputs:er(e.outputs),debugInfo:null}}function Io(e){e.features?.forEach(t=>t(e))}function Co(e,t){if(!e)return null;const n=t?wn:Bc;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Os)}function Wt(e){return{\u0275providers:e}}function wr(...e){return{\u0275providers:is(0,e),\u0275fromNgModule:!0}}function is(e,...t){const n=[],r=new Set;let o;const i=c=>{n.push(c)};return vi(t,c=>{const d=c;Hn(d,i,[],r)&&(o||=[],o.push(d))}),void 0!==o&&Ma(o,i),n}function Ma(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];ss(o,i=>{t(i,r)})}}function Hn(e,t,n,r){if(!(e=We(e)))return!1;let o=null,i=lr(e);const c=!i&&ht(e);if(i||c){if(c&&!c.standalone)return!1;o=e}else{const f=e.ngModule;if(i=lr(f),!i)return!1;o=f}const d=r.has(o);if(c){if(d)return!1;if(r.add(o),c.dependencies){const f="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const m of f)Hn(m,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!d){let m;r.add(o);try{vi(i.imports,_=>{Hn(_,t,n,r)&&(m||=[],m.push(_))})}finally{}void 0!==m&&Ma(m,t)}if(!d){const m=fr(o)||(()=>new o);t({provide:o,useFactory:m,deps:St},o),t({provide:Rs,useValue:o,multi:!0},o),t({provide:Jn,useValue:()=>vn(o),multi:!0},o)}const f=i.providers;if(null!=f&&!d){const m=e;ss(f,_=>{t(_,m)})}}}return o!==e&&void 0!==e.providers}function ss(e,t){for(let n of e)me(n)&&(n=n.\u0275providers),Array.isArray(n)?ss(n,t):t(n)}const Na=yt({provide:String,useValue:yt});function as(e){return null!==e&&"object"==typeof e&&Na in e}function io(e){return"function"==typeof e}const so=new et(""),bi={},Wc={};let cs;function us(){return void 0===cs&&(cs=new es),cs}class tr{}class Xo extends tr{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ci(t,c=>this.processProvider(c)),this.records.set(Qi,Vr(void 0,this)),o.has("environment")&&this.records.set(tr,Vr(void 0,this));const i=this.records.get(so);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Rs,St,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=Z(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=$t(this),r=jn(void 0);try{return t()}finally{$t(n),jn(r)}}get(t,n=Ze,r=wt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(mn))return t[mn](this);r=Go(r);const i=$t(this),c=jn(void 0);try{if(!(r&wt.SkipSelf)){let f=this.records.get(t);if(void 0===f){const m=function _l(e){return"function"==typeof e||"object"==typeof e&&e instanceof et}(t)&&qr(t);f=m&&this.injectableDefInScope(m)?Vr(js(t),bi):null,this.records.set(t,f)}if(null!=f)return this.hydrate(t,f)}return(r&wt.Self?us():this.parent).get(t,n=r&wt.Optional&&n===Ze?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[Do]=d[Do]||[]).unshift(bt(t)),i)throw d;return function ma(e,t,n,r){const o=e[Do];throw t[As]&&o.unshift(t[As]),e.message=function gl(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=bt(t);if(Array.isArray(t))o=t.map(bt).join(" -> ");else if("object"==typeof t){let i=[];for(let c in t)if(t.hasOwnProperty(c)){let d=t[c];i.push(c+":"+("string"==typeof d?JSON.stringify(d):bt(d)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(pa,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Do]=null,e}(d,t,"R3InjectorError",this.source)}throw d}finally{jn(c),$t(i)}}resolveInjectorInitializers(){const t=Z(null),n=$t(this),r=jn(void 0);try{const i=this.get(Jn,St,wt.Self);for(const c of i)c()}finally{$t(n),jn(r),Z(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(bt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(t){let n=io(t=We(t))?t:We(t&&t.provide);const r=function xa(e){return as(e)?Vr(void 0,e.useValue):Vr(Ii(e),bi)}(t);if(!io(t)&&!0===t.multi){let o=this.records.get(n);o||(o=Vr(void 0,bi,!0),o.factory=()=>Eo(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=Z(null);try{return n.value===bi&&(n.value=Wc,n.value=n.factory()),"object"==typeof n.value&&n.value&&function vl(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=We(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function js(e){const t=qr(e),n=null!==t?t.factory:fr(e);if(null!==n)return n;if(e instanceof et)throw new we(204,!1);if(e instanceof Function)return function So(e){if(e.length>0)throw new we(204,!1);const n=function yi(e){return e&&(e[zo]||e[Or])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new we(204,!1)}function Ii(e,t,n){let r;if(io(e)){const o=We(e);return fr(o)||js(o)}if(as(e))r=()=>We(e.useValue);else if(function Fs(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Eo(e.deps||[]));else if(function Ls(e){return!(!e||!e.useExisting)}(e))r=()=>vn(We(e.useExisting));else{const o=We(e&&(e.useClass||e.provide));if(!function Kc(e){return!!e.deps}(e))return fr(o)||js(o);r=()=>new o(...Eo(e.deps))}return r}function Vr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ci(e,t){for(const n of e)Array.isArray(n)?Ci(n,t):n&&me(n)?Ci(n.\u0275providers,t):t(n)}function Us(e,t){e instanceof Xo&&e.assertNotDestroyed();const r=$t(e),o=jn(void 0);try{return t()}finally{$t(r),jn(o)}}function D(e){const t=dn.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const g={\u0275\u0275defineInjectable:xt,\u0275\u0275defineInjector:Ho,\u0275\u0275inject:vn,\u0275\u0275invalidFactoryDep:function Lc(e){throw new we(202,!1)},resolveForwardRef:We},w=Function;function M(e){return"function"==typeof e}const V=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,ce=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Ae=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Rt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class Lt{constructor(t){this._reflect=t||dn.Reflect}factory(t){return(...n)=>new t(...n)}_zipTypesAndAnnotations(t,n){let r;r=qi(typeof t>"u"?n.length:t.length);for(let o=0;o<r.length;o++)r[o]=typeof t>"u"?[]:t[o]&&t[o]!=Object?[t[o]]:[],n&&null!=n[o]&&(r[o]=r[o].concat(n[o]));return r}_ownParameters(t,n){if(function at(e){return V.test(e)||Rt.test(e)||ce.test(e)&&!Ae.test(e)}(t.toString()))return null;if(t.parameters&&t.parameters!==n.parameters)return t.parameters;const o=t.ctorParameters;if(o&&o!==n.ctorParameters){const d="function"==typeof o?o():o,f=d.map(_=>_&&_.type),m=d.map(_=>_&&pt(_.decorators));return this._zipTypesAndAnnotations(f,m)}const i=t.hasOwnProperty(yr)&&t[yr],c=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return c||i?this._zipTypesAndAnnotations(c,i):qi(t.length)}parameters(t){if(!M(t))return[];const n=Kt(t);let r=this._ownParameters(t,n);return!r&&n!==Object&&(r=this.parameters(n)),r||[]}_ownAnnotations(t,n){if(t.annotations&&t.annotations!==n.annotations){let r=t.annotations;return"function"==typeof r&&r.annotations&&(r=r.annotations),r}return t.decorators&&t.decorators!==n.decorators?pt(t.decorators):t.hasOwnProperty(yo)?t[yo]:null}annotations(t){if(!M(t))return[];const n=Kt(t),r=this._ownAnnotations(t,n)||[];return(n!==Object?this.annotations(n):[]).concat(r)}_ownPropMetadata(t,n){if(t.propMetadata&&t.propMetadata!==n.propMetadata){let r=t.propMetadata;return"function"==typeof r&&r.propMetadata&&(r=r.propMetadata),r}if(t.propDecorators&&t.propDecorators!==n.propDecorators){const r=t.propDecorators,o={};return Object.keys(r).forEach(i=>{o[i]=pt(r[i])}),o}return t.hasOwnProperty(xn)?t[xn]:null}propMetadata(t){if(!M(t))return{};const n=Kt(t),r={};if(n!==Object){const i=this.propMetadata(n);Object.keys(i).forEach(c=>{r[c]=i[c]})}const o=this._ownPropMetadata(t,n);return o&&Object.keys(o).forEach(i=>{const c=[];r.hasOwnProperty(i)&&c.push(...r[i]),c.push(...o[i]),r[i]=c}),r}ownPropMetadata(t){return M(t)&&this._ownPropMetadata(t,Kt(t))||{}}hasLifecycleHook(t,n){return t instanceof w&&n in t.prototype}}function pt(e){return e?e.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Kt(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const $e=0,ie=1,Fe=2,vt=3,Cn=4,Zt=5,fn=6,zt=7,tt=8,un=9,Zn=10,Ye=11,qo=12,ls=13,Ti=14,Xt=15,Yo=16,Ai=17,Hr=18,Mi=19,Ra=20,To=21,Vs=22,rr=23,Be=25,Hs=1,Dr=7,Ni=9,hn=10;var Er=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Er||{});function sn(e){return Array.isArray(e)&&"object"==typeof e[Hs]}function Dn(e){return Array.isArray(e)&&!0===e[Hs]}function co(e){return!!(4&e.flags)}function Ao(e){return e.componentOffset>-1}function hs(e){return!(1&~e.flags)}function Br(e){return!!e.template}function xi(e){return!!(512&e[Fe])}class eu{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Oa(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function ps(){return Qo}function Qo(e){return e.type.prototype.ngOnChanges&&(e.setInput=ei),Mo}function Mo(){const e=ti(this),t=e?.current;if(t){const n=e.previous;if(n===_r)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function ei(e,t,n,r,o){const i=this.declaredInputs[r],c=ti(e)||function Ri(e,t){return e[La]=t}(e,{previous:_r,current:null}),d=c.current||(c.current={}),f=c.previous,m=f[i];d[i]=new eu(m&&m.currentValue,n,f===_r),Oa(e,t,o,n)}ps.ngInherit=!0;const La="__ngSimpleChanges__";function ti(e){return e[La]||null}const uo=function(e,t,n){};function Dt(e){for(;Array.isArray(e);)e=e[$e];return e}function fo(e,t){return Dt(t[e])}function gt(e,t){return Dt(t[e.index])}function ln(e,t){return e.data[t]}function _n(e,t){const n=t[e];return sn(n)?n:n[$e]}function nu(e){return!(128&~e[Fe])}function or(e,t){return null==t?null:e[t]}function $r(e){e[Ai]=0}function No(e){1024&e[Fe]||(e[Fe]|=1024,nu(e)&&Ua(e))}function ja(e){return!!(9216&e[Fe]||e[rr]?.dirty)}function ru(e){e[Zn].changeDetectionScheduler?.notify(8),64&e[Fe]&&(e[Fe]|=1024),ja(e)&&Ua(e)}function Ua(e){e[Zn].changeDetectionScheduler?.notify(0);let t=br(e);for(;null!==t&&!(8192&t[Fe])&&(t[Fe]|=8192,nu(t));)t=br(t)}function Va(e,t){if(!(256&~e[Fe]))throw new we(911,!1);null===e[To]&&(e[To]=[]),e[To].push(t)}function br(e){const t=e[vt];return Dn(t)?t[vt]:t}const nt={lFrame:hu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Tl=!1;function Al(){return nt.bindingsEnabled}function J(){return nt.lFrame.lView}function _t(){return nt.lFrame.tView}function Ba(e){return nt.lFrame.contextLView=e,e[tt]}function Nl(e){return nt.lFrame.contextLView=null,e}function Ut(){let e=$a();for(;null!==e&&64===e.type;)e=e.parent;return e}function $a(){return nt.lFrame.currentTNode}function qn(e,t){const n=nt.lFrame;n.currentTNode=e,n.isParent=t}function au(){return nt.lFrame.isParent}function cu(){nt.lFrame.isParent=!1}function Ws(){return Tl}function Wa(e){Tl=e}function Kr(){return nt.lFrame.bindingIndex++}function Ro(e){const t=nt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Df(e,t){const n=nt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ka(t)}function Ka(e){nt.lFrame.currentDirectiveIndex=e}function Oi(){return nt.lFrame.currentQueryIndex}function gs(e){nt.lFrame.currentQueryIndex=e}function Ef(e){const t=e[ie];return 2===t.type?t.declTNode:1===t.type?e[Zt]:null}function Rl(e,t,n){if(n&wt.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&wt.Host||(o=Ef(i),null===o||(i=i[Ti],10&o.type))););if(null===o)return!1;t=o,e=i}const r=nt.lFrame=kl();return r.currentTNode=t,r.lView=e,!0}function fu(e){const t=kl(),n=e[ie];nt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function kl(){const e=nt.lFrame,t=null===e?null:e.child;return null===t?hu(e):t}function hu(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Pl(){const e=nt.lFrame;return nt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ol=Pl;function ko(){const e=Pl();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $n(){return nt.lFrame.selectedIndex}function Li(e){nt.lFrame.selectedIndex=e}function qt(){const e=nt.lFrame;return ln(e.tView,e.selectedIndex)}let pu=!0;function Ks(){return pu}function ho(e){pu=e}function Ja(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:f,ngAfterViewChecked:m,ngOnDestroy:_}=i;c&&(e.contentHooks??=[]).push(-n,c),d&&((e.contentHooks??=[]).push(n,d),(e.contentCheckHooks??=[]).push(n,d)),f&&(e.viewHooks??=[]).push(-n,f),m&&((e.viewHooks??=[]).push(n,m),(e.viewCheckHooks??=[]).push(n,m)),null!=_&&(e.destroyHooks??=[]).push(n,_)}}function Gr(e,t,n){Ul(e,t,3,n)}function Za(e,t,n,r){(3&e[Fe])===n&&Ul(e,t,n,r)}function gu(e,t){let n=e[Fe];(3&n)===t&&(n&=16383,n+=1,e[Fe]=n)}function Ul(e,t,n,r){const i=r??-1,c=t.length-1;let d=0;for(let f=void 0!==r?65535&e[Ai]:0;f<c;f++)if("number"==typeof t[f+1]){if(d=t[f],null!=r&&d>=r)break}else t[f]<0&&(e[Ai]+=65536),(d<i||-1==i)&&(a(e,n,t,f),e[Ai]=(4294901760&e[Ai])+f+2),f++}function u(e,t){uo(4,e,t);const n=Z(null);try{t.call(e)}finally{Z(n),uo(5,e,t)}}function a(e,t,n,r){const o=n[r]<0,i=n[r+1],d=e[o?-n[r]:n[r]];o?e[Fe]>>14<e[Ai]>>16&&(3&e[Fe])===t&&(e[Fe]+=16384,u(d,i)):u(d,i)}const s=-1;class l{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const Y={};class K{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Go(r);const o=this.injector.get(t,Y,r);return o!==Y||n===Y?o:this.parentInjector.get(t,n,r)}}function ae(e){return e!==s}function te(e){return 32767&e}function ue(e,t){let n=function oe(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ti],n--;return r}let Pe=!0;function Ge(e){const t=Pe;return Pe=e,t}const ut=255,Ot=5;let pr=0;const Jt={};function On(e,t){const n=mu(e,t);if(-1!==n)return n;const r=t[ie];r.firstCreatePass&&(e.injectorIndex=t.length,Po(r.data,e),Po(t,null),Po(r.blueprint,null));const o=Fi(e,t),i=e.injectorIndex;if(ae(o)){const c=te(o),d=ue(o,t),f=d[ie].data;for(let m=0;m<8;m++)t[i+m]=d[c+m]|f[c+m]}return t[i+8]=o,i}function Po(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mu(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Fi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=Ig(o),null===r)return s;if(n++,o=o[Ti],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return s}function Sf(e,t,n){!function po(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pt)&&(r=n[Pt]),null==r&&(r=n[Pt]=pr++);const o=r&ut;t.data[e+(o>>Ot)]|=1<<o}(e,t,n)}function yg(e,t,n){if(n&wt.Optional||void 0!==e)return e;Ss()}function vg(e,t,n,r){if(n&wt.Optional&&void 0===r&&(r=null),!(n&(wt.Self|wt.Host))){const o=e[un],i=jn(void 0);try{return o?o.get(t,r,n&wt.Optional):Qr(t,r,n&wt.Optional)}finally{jn(i)}}return yg(r,0,n)}function _g(e,t,n,r=wt.Default,o){if(null!==e){if(2048&t[Fe]&&!(r&wt.Self)){const c=function DE(e,t,n,r,o){let i=e,c=t;for(;null!==i&&null!==c&&2048&c[Fe]&&!(512&c[Fe]);){const d=wg(i,c,n,r|wt.Self,Jt);if(d!==Jt)return d;let f=i.parent;if(!f){const m=c[Ra];if(m){const _=m.get(n,Jt,r);if(_!==Jt)return _}f=Ig(c),c=c[Ti]}i=f}return o}(e,t,n,r,Jt);if(c!==Jt)return c}const i=wg(e,t,n,r,Jt);if(i!==Jt)return i}return vg(t,n,r,o)}function wg(e,t,n,r,o){const i=function _E(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Pt)?e[Pt]:void 0;return"number"==typeof t?t>=0?t&ut:wE:t}(n);if("function"==typeof i){if(!Rl(t,e,r))return r&wt.Host?yg(o,0,r):vg(t,n,r,o);try{let c;if(c=i(r),null!=c||r&wt.Optional)return c;Ss()}finally{Ol()}}else if("number"==typeof i){let c=null,d=mu(e,t),f=s,m=r&wt.Host?t[Xt][Zt]:null;for((-1===d||r&wt.SkipSelf)&&(f=-1===d?Fi(e,t):t[d+8],f!==s&&Eg(r,!1)?(c=t[ie],d=te(f),t=ue(f,t)):d=-1);-1!==d;){const _=t[ie];if(Dg(i,d,_.data)){const b=vE(d,t,n,c,r,m);if(b!==Jt)return b}f=t[d+8],f!==s&&Eg(r,t[ie].data[d+8]===m)&&Dg(i,d,t)?(c=_,d=te(f),t=ue(f,t)):d=-1}}return o}function vE(e,t,n,r,o,i){const c=t[ie],d=c.data[e+8],_=Vl(d,c,n,null==r?Ao(d)&&Pe:r!=c&&!!(3&d.type),o&wt.Host&&i===d);return null!==_?Gs(t,c,_,d):Jt}function Vl(e,t,n,r,o){const i=e.providerIndexes,c=t.data,d=1048575&i,f=e.directiveStart,_=i>>20,N=o?d+_:e.directiveEnd;for(let O=r?d:d+_;O<N;O++){const L=c[O];if(O<f&&n===L||O>=f&&L.type===n)return O}if(o){const O=c[f];if(O&&Br(O)&&O.type===n)return f}return null}function Gs(e,t,n,r){let o=e[n];const i=t.data;if(function p(e){return e instanceof l}(o)){const c=o;c.resolving&&function yn(e,t){throw t&&t.join(" > "),new we(-200,e)}(function Me(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ce(e)}(i[n]));const d=Ge(c.canSeeViewProviders);c.resolving=!0;const m=c.injectImpl?jn(c.injectImpl):null;Rl(e,r,wt.Default);try{o=e[n]=c.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function jl(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const c=Qo(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==m&&jn(m),Ge(d),c.resolving=!1,Ol()}}return o}function Dg(e,t,n){return!!(n[t+(e>>Ot)]&1<<e)}function Eg(e,t){return!(e&wt.Self||e&wt.Host&&t)}class zn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _g(this._tNode,this._lView,t,Go(r),n)}}function wE(){return new zn(Ut(),J())}function bg(e){return dt(()=>{const t=e.prototype.constructor,n=t[ft]||Tf(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[ft]||Tf(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Tf(e){return hi(e)?()=>{const t=Tf(We(e));return t&&t()}:fr(e)}function Ig(e){const t=e[ie],n=t.type;return 2===n?t.declTNode:1===n?e[Zt]:null}function Hl(e){return function yE(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(ks(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(Ut(),e)}const EE=Rr("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>Hl(e)}));let Cg=null;function Bl(e){return Sg(function Af(){return Cg=Cg||new Lt}().parameters(e))}function Sg(e){return e.map(t=>function bE(e){const t={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(e)&&e.length>0)for(let n=0;n<e.length;n++){const r=e[n];if(void 0===r)continue;const o=Object.getPrototypeOf(r);if(r instanceof Ji||"Optional"===o.ngMetadataName)t.optional=!0;else if(r instanceof Jo||"SkipSelf"===o.ngMetadataName)t.skipSelf=!0;else if(r instanceof ya||"Self"===o.ngMetadataName)t.self=!0;else if(r instanceof Zi||"Host"===o.ngMetadataName)t.host=!0;else if(r instanceof ml)t.token=r.token;else if(r instanceof EE){if(void 0===r.attributeName)throw new we(204,!1);t.attribute=r.attributeName}else t.token=r}else t.token=void 0===e||Array.isArray(e)&&0===e.length?null:e;return t}(t))}const CE=yt({provide:String,useValue:yt});function Tg(e){return void 0!==e.useClass}function Ag(e){return void 0!==e.useFactory}const ME=vo("Injectable",void 0,void 0,void 0,(e,t)=>function IE(e,t){let n=null,r=null;e.hasOwnProperty(zo)||Object.defineProperty(e,zo,{get:()=>(null===n&&(n=D().compileInjectable(g,`ng:///${e.name}/\u0275prov.js`,function AE(e,t){const n=t||{providedIn:null},r={name:e.name,type:e,typeArgumentCount:0,providedIn:n.providedIn};return(Tg(n)||Ag(n))&&void 0!==n.deps&&(r.deps=Sg(n.deps)),Tg(n)?r.useClass=n.useClass:function SE(e){return CE in e}(n)?r.useValue=n.useValue:Ag(n)?r.useFactory=n.useFactory:function TE(e){return void 0!==e.useExisting}(n)&&(r.useExisting=n.useExisting),r}(e,t))),n)}),e.hasOwnProperty(ft)||Object.defineProperty(e,ft,{get:()=>{if(null===r){const o=D();r=o.compileFactory(g,`ng:///${e.name}/\u0275fac.js`,{name:e.name,type:e,typeArgumentCount:0,deps:Bl(e),target:o.FactoryTarget.Injectable})}return r},configurable:!0})}(e,t));function Mg(e,t=null,n=null,r){const o=Ng(e,t,n,r);return o.resolveInjectorInitializers(),o}function Ng(e,t=null,n=null,r,o=new Set){const i=[n||St,wr(e)];return r=r||("object"==typeof e?void 0:bt(e)),new Xo(i,t||us(),r||null,o)}class ir{static{this.THROW_IF_NOT_FOUND=Ze}static{this.NULL=new es}static create(t,n){if(Array.isArray(t))return Mg({name:""},n,t,"");{const r=t.name??"";return Mg({name:r},t.parent,t.providers,r)}}static{this.\u0275prov=xt({token:ir,providedIn:"any",factory:()=>vn(Qi)})}static{this.__NG_ELEMENT_ID__=-1}}new et("").__NG_ELEMENT_ID__=e=>{const t=Ut();if(null===t)throw new we(204,!1);if(2&t.type)return t.value;if(e&wt.Optional)return null;throw new we(204,!1)};function Mf(e){return e.ngOriginalError}const Rg=!0;let yu=(()=>{class e{static{this.__NG_ELEMENT_ID__=RE}static{this.__NG_ENV_ID__=n=>n}}return e})();class xE extends yu{constructor(t){super(),this._lView=t}onDestroy(t){return Va(this._lView,t),()=>function zs(e,t){if(null===e[To])return;const n=e[To].indexOf(t);-1!==n&&e[To].splice(n,1)}(this._lView,t)}}function RE(){return new xE(J())}let Js=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new an.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=xt({token:e,providedIn:"root",factory:()=>new e})}}return e})();const ii=class kE extends Fn.B{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,function Si(){return void 0!==Wi()||null!=function to(){return eo}()}()&&(this.destroyRef=He(yu,{optional:!0})??void 0,this.pendingTasks=He(Js,{optional:!0})??void 0)}emit(t){const n=Z(null);try{super.next(t)}finally{Z(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),c=r;if(t&&"object"==typeof t){const f=t;o=f.next?.bind(f),i=f.error?.bind(f),c=f.complete?.bind(f)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),c&&(c=this.wrapInTimeout(c)));const d=super.subscribe({next:o,error:i,complete:c});return t instanceof Ct.yU&&t.add(d),d}wrapInTimeout(t){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{t(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function $l(...e){}function kg(e){let t,n;function r(){e=$l;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Pg(e){return queueMicrotask(()=>e()),()=>{e=$l}}const Nf="isAngularZone",zl=Nf+"_ID";let PE=0;class pn{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ii(!1),this.onMicrotaskEmpty=new ii(!1),this.onStable=new ii(!1),this.onError=new ii(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Rg}=t;if(typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!o&&r,c.shouldCoalesceRunChangeDetection=o,c.callbackScheduled=!1,c.scheduleInRootZone=i,function FE(e){const t=()=>{!function LE(e){function t(){kg(()=>{e.callbackScheduled=!1,Rf(e),e.isCheckStableRunning=!0,xf(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Rf(e))}(e)},n=PE++;e._inner=e._inner.fork({name:"angular",properties:{[Nf]:!0,[zl]:n,[zl+n]:!0},onInvokeTask:(r,o,i,c,d,f)=>{if(function jE(e){return Fg(e,"__ignore_ng_zone__")}(f))return r.invokeTask(i,c,d,f);try{return Og(e),r.invokeTask(i,c,d,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),Lg(e)}},onInvoke:(r,o,i,c,d,f,m)=>{try{return Og(e),r.invoke(i,c,d,f,m)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function UE(e){return Fg(e,"__scheduler_tick__")}(f)&&t(),Lg(e)}},onHasTask:(r,o,i,c)=>{r.hasTask(i,c),o===i&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,Rf(e),xf(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(r,o,i,c)=>(r.handleError(i,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Nf)}static assertInAngularZone(){if(!pn.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(pn.isInAngularZone())throw new we(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,c=i.scheduleEventTask("NgZoneEvent: "+o,t,OE,$l,$l);try{return i.runTask(c,n,r)}finally{i.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const OE={};function xf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Og(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Lg(e){e._nesting--,xf(e)}class kf{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ii,this.onMicrotaskEmpty=new ii,this.onStable=new ii,this.onError=new ii}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}function Fg(e,t){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[t]}class ji{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Mf(t);for(;n&&Mf(n);)n=Mf(n);return n||null}}const HE=new et("",{providedIn:"root",factory:()=>{const e=He(pn),t=He(ji);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function BE(){return Ya(Ut(),J())}function Ya(e,t){return new vu(gt(e,t))}let vu=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=BE}}return e})();function Ug(e){return e instanceof vu?e.nativeElement:e}function $E(){return this._results[Symbol.iterator]()}class Pf{get changes(){return this._changes??=new ii}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=Pf.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$E)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function In(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function va(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function wu(e){return!(128&~e.flags)}const Lf=new Map;let WE=0;function Ff(e){Lf.delete(e[Mi])}const Wl="__ngContext__";function sr(e,t){sn(t)?(e[Wl]=t[Mi],function GE(e){Lf.set(e[Mi],e)}(t)):e[Wl]=t}function Zg(e){return qg(e[qo])}function Xg(e){return qg(e[Cn])}function qg(e){for(;null!==e&&!Dn(e);)e=e[Cn];return e}let Uf;function l0(e){Uf=e}const Gl=new et("",{providedIn:"root",factory:()=>d0}),d0="ng",im=new et(""),Jl=new et("",{providedIn:"platform",factory:()=>"unknown"}),f0=new et("",{providedIn:"root",factory:()=>function ms(){if(void 0!==Uf)return Uf;if(typeof document<"u")return document;throw new we(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sm=()=>null;function Kf(e,t,n=!1){return sm(e,t,n)}const pm=new et("",{providedIn:"root",factory:()=>!1});let nd;function _m(e){return function Yf(){if(void 0===nd&&(nd=null,dn.trustedTypes))try{nd=dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return nd}()?.createScriptURL(e)||e}class wm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nn})`}}function ys(e){return e instanceof wm?e.changingThisBreaksApplicationSecurity:e}function Tu(e,t){const n=function x0(e){return e instanceof wm&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Nn})`)}return n===t}const O0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var rc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(rc||{});function Mm(e){const t=Mu();return t?t.sanitize(rc.URL,e)||"":Tu(e,"URL")?ys(e):function Qf(e){return(e=String(e)).match(O0)?e:"unsafe:"+e}(Ce(e))}function Nm(e){const t=Mu();if(t)return _m(t.sanitize(rc.RESOURCE_URL,e)||"");if(Tu(e,"ResourceURL"))return _m(ys(e));throw new we(904,!1)}function xm(e,t,n){return function X0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Nm:Mm}(t,n)(e)}function Mu(){const e=J();return e&&e[Zn].sanitizer}const q0=/^>|^->|<!--|-->|--!>|<!-$/g,Y0=/(<|>)/g,Q0="\u200b$1\u200b";function Jr(e){return e instanceof Function?e():e}var sd=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(sd||{});let ih;function sh(e,t){return ih(e,t)}function ic(e,t,n,r,o){if(null!=r){let i,c=!1;Dn(r)?i=r:sn(r)&&(c=!0,r=r[$e]);const d=Dt(r);0===e&&null!==n?null==o?zm(t,n,d):Xs(t,n,d,o||null,!0):1===e&&null!==n?Xs(t,n,d,o||null,!0):2===e?function xu(e,t,n){e.removeChild(null,t,n)}(t,d,c):3===e&&t.destroyNode(d),null!=i&&function _b(e,t,n,r,o){const i=n[Dr];i!==Dt(n)&&ic(t,e,r,i,o);for(let d=hn;d<n.length;d++){const f=n[d];ld(f[ie],f,e,t,r,i)}}(t,e,i,n,o)}}function ch(e,t){return e.createComment(function Rm(e){return e.replace(q0,t=>t.replace(Y0,Q0))}(t))}function ad(e,t,n){return e.createElement(t,n)}function Hm(e,t){t[Zn].changeDetectionScheduler?.notify(9),ld(e,t,t[Ye],2,null,null)}function Bm(e,t){const n=e[Ni],r=t[vt];(sn(r)||t[Xt]!==r[vt][Xt])&&(e[Fe]|=Er.HasTransplantedViews),null===n?e[Ni]=[t]:n.push(t)}function uh(e,t){const n=e[Ni],r=n.indexOf(t);n.splice(r,1)}function Nu(e,t){if(e.length<=hn)return;const n=hn+t,r=e[n];if(r){const o=r[Yo];null!==o&&o!==e&&uh(o,r),t>0&&(e[n-1][Cn]=r[Cn]);const i=Xi(e,hn+t);!function db(e,t){Hm(e,t),t[$e]=null,t[Zt]=null}(r[ie],r);const c=i[Hr];null!==c&&c.detachView(i[ie]),r[vt]=null,r[Cn]=null,r[Fe]&=-129}return r}function cd(e,t){if(!(256&t[Fe])){const n=t[Ye];n.destroyNode&&ld(e,t,n,3,null,null),function hb(e){let t=e[qo];if(!t)return lh(e[ie],e);for(;t;){let n=null;if(sn(t))n=t[qo];else{const r=t[hn];r&&(n=r)}if(!n){for(;t&&!t[Cn]&&t!==e;)sn(t)&&lh(t[ie],t),t=t[vt];null===t&&(t=e),sn(t)&&lh(t[ie],t),n=t&&t[Cn]}t=n}}(t)}}function lh(e,t){if(256&t[Fe])return;const n=Z(null);try{t[Fe]&=-129,t[Fe]|=256,t[rr]&&Qt(t[rr]),function mb(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof l)){const i=n[r+1];if(Array.isArray(i))for(let c=0;c<i.length;c+=2){const d=o[i[c]],f=i[c+1];uo(4,d,f);try{f.call(d)}finally{uo(5,d,f)}}else{uo(4,o,i);try{i.call(o)}finally{uo(5,o,i)}}}}}(e,t),function gb(e,t){const n=e.cleanup,r=t[zt];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const c=n[i+3];c>=0?r[c]():r[-c].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[zt]=null);const o=t[To];if(null!==o){t[To]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[ie].type&&t[Ye].destroy();const r=t[Yo];if(null!==r&&Dn(t[vt])){r!==t[vt]&&uh(r,t);const o=t[Hr];null!==o&&o.detachView(e)}Ff(t)}finally{Z(n)}}function dh(e,t,n){return function $m(e,t,n){let r=t;for(;null!==r&&168&r.type;)r=(t=r).parent;if(null===r)return n[$e];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===no.None||i===no.Emulated)return null}return gt(r,n)}}(e,t.parent,n)}function Xs(e,t,n,r,o){e.insertBefore(t,n,r,o)}function zm(e,t,n){e.appendChild(t,n)}function Wm(e,t,n,r,o){null!==r?Xs(e,t,n,r,o):zm(e,t,n)}function fh(e,t){return e.parentNode(t)}let hh,Jm=function Gm(e,t,n){return 40&e.type?gt(e,n):null};function ud(e,t,n,r){const o=dh(e,r,t),i=t[Ye],d=function Km(e,t,n){return Jm(e,t,n)}(r.parent||t[Zt],r,t);if(null!=o)if(Array.isArray(n))for(let f=0;f<n.length;f++)Wm(i,o,n[f],d,!1);else Wm(i,o,n,d,!1);void 0!==hh&&hh(i,r,t,n,o)}function qs(e,t){if(null!==t){const n=t.type;if(3&n)return gt(t,e);if(4&n)return ph(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return qs(e,r);{const o=e[t.index];return Dn(o)?ph(-1,o):Dt(o)}}if(128&n)return qs(e,t.next);if(32&n)return sh(t,e)()||Dt(e[t.index]);{const r=Xm(e,t);return null!==r?Array.isArray(r)?r[0]:qs(br(e[Xt]),r):qs(e,t.next)}}return null}function Xm(e,t){return null!==t?e[Xt][Zt].projection[t.projection]:null}function ph(e,t){const n=hn+e+1;if(n<t.length){const r=t[n],o=r[ie].firstChild;if(null!==o)return qs(r,o)}return t[Dr]}function gh(e,t,n,r,o,i,c){for(;null!=n;){if(128===n.type){n=n.next;continue}const d=r[n.index],f=n.type;if(c&&0===t&&(d&&sr(Dt(d),r),n.flags|=2),32&~n.flags)if(8&f)gh(e,t,n.child,r,o,i,!1),ic(t,e,o,d,i);else if(32&f){const m=sh(n,r);let _;for(;_=m();)ic(t,e,o,_,i);ic(t,e,o,d,i)}else 16&f?Ym(e,t,r,n,o,i):ic(t,e,o,d,i);n=c?n.projectionNext:n.next}}function ld(e,t,n,r,o,i){gh(n,r,e.firstChild,t,o,i,!1)}function Ym(e,t,n,r,o,i){const c=n[Xt],f=c[Zt].projection[r.projection];if(Array.isArray(f))for(let m=0;m<f.length;m++)ic(t,e,o,f[m],i);else{let m=f;const _=c[vt];wu(r)&&(m.flags|=128),gh(e,t,m,_,o,i,!0)}}function Qm(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ey(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&wi(e,t,r),null!==o&&Qm(e,t,o),null!==i&&function Db(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}const lt={};function ty(e=1){ny(_t(),J(),$n()+e,!1)}function ny(e,t,n,r){if(!r)if(3&~t[Fe]){const i=e.preOrderHooks;null!==i&&Za(t,i,0,n)}else{const i=e.preOrderCheckHooks;null!==i&&Gr(t,i,n)}Li(n)}function sc(e,t=wt.Default){const n=J();return null===n?vn(e,t):_g(Ut(),n,We(e),t)}function ry(e,t,n,r,o,i){const c=Z(null);try{let d=null;o&ro.SignalBased&&(d=t[r][W]),null!==d&&void 0!==d.transformFn&&(i=d.transformFn(i)),o&ro.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(t,i)),null!==e.setInput?e.setInput(t,d,i,n,r):Oa(t,d,r,i)}finally{Z(c)}}function dd(e,t,n,r,o,i,c,d,f,m,_){const b=t.blueprint.slice();return b[$e]=o,b[Fe]=204|r,(null!==m||e&&2048&e[Fe])&&(b[Fe]|=2048),$r(b),b[vt]=b[Ti]=e,b[tt]=n,b[Zn]=c||e&&e[Zn],b[Ye]=d||e&&e[Ye],b[un]=f||e&&e[un]||null,b[Zt]=i,b[Mi]=function KE(){return WE++}(),b[fn]=_,b[Ra]=m,b[Xt]=2==t.type?e[Xt]:b,b}function Ys(e,t,n,r,o){let i=e.data[t];if(null===i)i=function mh(e,t,n,r,o){const i=$a(),c=au(),f=e.data[t]=function Nb(e,t,n,r,o,i){let c=t?t.injectorIndex:-1,d=0;return function oi(){return null!==nt.skipHydrationRootTNode}()&&(d|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=f),null!==i&&(c?null==i.child&&null!==f.parent&&(i.child=f):null===i.next&&(i.next=f,f.prev=i)),f}(e,t,n,r,o),function xl(){return nt.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const c=function Pi(){const e=nt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===c?-1:c.injectorIndex}return qn(i,!0),i}function Ru(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function oy(e,t,n,r,o){const i=$n(),c=2&r;try{Li(-1),c&&t.length>Be&&ny(e,t,Be,!1),uo(c?2:0,o),n(r,o)}finally{Li(i),uo(c?3:1,o)}}function yh(e,t,n){if(co(t)){const r=Z(null);try{const i=t.directiveEnd;for(let c=t.directiveStart;c<i;c++){const d=e.data[c];d.contentQueries&&d.contentQueries(1,n[c],c)}}finally{Z(r)}}}function vh(e,t,n){Al()&&(function Fb(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;Ao(n)&&function zb(e,t,n){const r=gt(t,e),o=iy(n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const d=fd(e,dd(e,o,null,c,r,t,null,e[Zn].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=d}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||On(n,t),sr(r,t);const c=n.initialInputs;for(let d=o;d<i;d++){const f=e.data[d],m=Gs(t,e,d,n);sr(m,t),null!==c&&Wb(0,d-o,m,f,0,c),Br(f)&&(_n(n.index,t)[tt]=Gs(t,e,d,n))}}(e,t,n,gt(n,t)),!(64&~n.flags)&&ly(e,t,n))}function _h(e,t,n=gt){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const c=r[i+1],d=-1===c?n(t,e):e[c];e[o++]=d}}}function iy(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=wh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function wh(e,t,n,r,o,i,c,d,f,m,_){const b=Be+r,N=b+o,O=function Ib(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:lt);return n}(b,N),L="function"==typeof m?m():m;return O[ie]={type:e,blueprint:O,template:n,queries:null,viewQuery:d,declTNode:t,data:O.slice().fill(null,b),bindingStartIndex:b,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:f,consts:L,incompleteFirstPass:!1,ssrId:_}}let sy=()=>null;function ay(e,t,n,r,o){for(let i in t){if(!t.hasOwnProperty(i))continue;const c=t[i];if(void 0===c)continue;r??={};let d,f=ro.None;Array.isArray(c)?(d=c[0],f=c[1]):d=c;let m=i;if(null!==o){if(!o.hasOwnProperty(i))continue;m=o[i]}0===e?cy(r,n,m,d,f):cy(r,n,m,d)}return r}function cy(e,t,n,r,o){let i;e.hasOwnProperty(n)?(i=e[n]).push(t,r):i=e[n]=[t,r],void 0!==o&&i.push(o)}function Sr(e,t,n,r,o,i,c,d){const f=gt(t,n);let _,m=t.inputs;!d&&null!=m&&(_=m[r])?(Ch(e,n,_,r,o),Ao(t)&&function kb(e,t){const n=_n(t,e);16&n[Fe]||(n[Fe]|=64)}(n,t.index)):3&t.type&&(r=function Rb(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=c?c(o,t.value||"",r):o,i.setProperty(f,r,o))}function Dh(e,t,n,r){if(Al()){const o=null===r?null:{"":-1},i=function Ub(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const c=n[i];if(Ca(t,c.selectors,!1))if(r||(r=[]),Br(c))if(null!==c.findHostDirectiveDefs){const d=[];o=o||new Map,c.findHostDirectiveDefs(c,d,o),r.unshift(...d,c),Eh(e,t,d.length)}else r.unshift(c),Eh(e,t,0);else o=o||new Map,c.findHostDirectiveDefs?.(c,r,o),r.push(c)}return null===r?null:[r,o]}(e,n);let c,d;null===i?c=d=null:[c,d]=i,null!==c&&uy(e,t,n,c,o,d),o&&function Vb(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new we(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=bo(n.mergedAttrs,n.attrs)}function uy(e,t,n,r,o,i){for(let m=0;m<r.length;m++)Sf(On(n,t),e,r[m].type);!function Bb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let m=0;m<r.length;m++){const _=r[m];_.providersResolver&&_.providersResolver(_)}let c=!1,d=!1,f=Ru(e,t,r.length,null);for(let m=0;m<r.length;m++){const _=r[m];n.mergedAttrs=bo(n.mergedAttrs,_.hostAttrs),$b(e,n,t,f,_),Hb(f,_,o),null!==_.contentQueries&&(n.flags|=4),(null!==_.hostBindings||null!==_.hostAttrs||0!==_.hostVars)&&(n.flags|=64);const b=_.type.prototype;!c&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!d&&(b.ngOnChanges||b.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),f++}!function xb(e,t,n){const o=t.directiveEnd,i=e.data,c=t.attrs,d=[];let f=null,m=null;for(let _=t.directiveStart;_<o;_++){const b=i[_],N=n?n.get(b):null,L=N?N.outputs:null;f=ay(0,b.inputs,_,f,N?N.inputs:null),m=ay(1,b.outputs,_,m,L);const ee=null===f||null===c||ts(t)?null:Kb(f,_,c);d.push(ee)}null!==f&&(f.hasOwnProperty("class")&&(t.flags|=8),f.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=d,t.inputs=f,t.outputs=m}(e,n,i)}function ly(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,c=function ct(){return nt.lFrame.currentDirectiveIndex}();try{Li(i);for(let d=r;d<o;d++){const f=e.data[d],m=t[d];Ka(d),(null!==f.hostBindings||0!==f.hostVars||null!==f.hostAttrs)&&jb(f,m)}}finally{Li(-1),Ka(c)}}function jb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Eh(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Hb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Br(t)&&(n[""]=e)}}function $b(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=fr(o.type)),c=new l(i,Br(o),sc);e.blueprint[r]=c,n[r]=c,function Ob(e,t,n,r,o){const i=o.hostBindings;if(i){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const d=~t.index;(function Lb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=d&&c.push(d),c.push(n,r,i)}}(e,t,r,Ru(e,n,o.hostVars,lt),o)}function si(e,t,n,r,o,i){const c=gt(e,t);!function bh(e,t,n,r,o,i,c){if(null==i)e.removeAttribute(t,o,n);else{const d=null==c?Ce(i):c(i,r||"",o);e.setAttribute(t,o,d,n)}}(t[Ye],c,i,e.value,n,r,o)}function Wb(e,t,n,r,o,i){const c=i[t];if(null!==c)for(let d=0;d<c.length;)ry(r,n,c[d++],c[d++],c[d++],c[d++])}function Kb(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const c=e[i];for(let d=0;d<c.length;d+=3)if(c[d]===t){r.push(i,c[d+1],c[d+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function dy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function fy(e,t){const n=e.contentQueries;if(null!==n){const r=Z(null);try{for(let o=0;o<n.length;o+=2){const c=n[o+1];if(-1!==c){const d=e.data[c];gs(n[o]),d.contentQueries(2,t[c],c)}}}finally{Z(r)}}}function fd(e,t){return e[qo]?e[ls][Cn]=t:e[qo]=t,e[ls]=t,t}function Ih(e,t,n){gs(0);const r=Z(null);try{t(e,n)}finally{Z(r)}}function hy(e){return e[zt]??=[]}function py(e){return e.cleanup??=[]}function hd(e,t){const n=e[un],r=n?n.get(ji,null):null;r&&r.handleError(t)}function Ch(e,t,n,r,o){for(let i=0;i<n.length;){const c=n[i++],d=n[i++],f=n[i++];ry(e.data[c],t[c],r,d,f,o)}}function Vi(e,t,n){const r=fo(t,e);!function Vm(e,t,n){e.setValue(t,n)}(e[Ye],r,n)}function Gb(e,t){const n=_n(t,e),r=n[ie];!function Jb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[$e];null!==o&&null===n[fn]&&(n[fn]=Kf(o,n[un])),Sh(r,n,n[tt])}function Sh(e,t,n){fu(t);try{const r=e.viewQuery;null!==r&&Ih(1,r,n);const o=e.template;null!==o&&oy(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Hr]?.finishViewCreation(e),e.staticContentQueries&&fy(e,t),e.staticViewQueries&&Ih(2,e.viewQuery,n);const i=e.components;null!==i&&function Zb(e,t){for(let n=0;n<t.length;n++)Gb(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Fe]&=-5,ko()}}function Qs(e,t){return!t||null===t.firstChild||wu(e)}function ku(e,t,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=t[n.index];null!==i&&r.push(Dt(i)),Dn(i)&&yy(i,r);const c=n.type;if(8&c)ku(e,t,n.child,r);else if(32&c){const d=sh(n,t);let f;for(;f=d();)r.push(f)}else if(16&c){const d=Xm(t,n);if(Array.isArray(d))r.push(...d);else{const f=br(t[Xt]);ku(f[ie],f,d,r,!0)}}n=o?n.projectionNext:n.next}return r}function yy(e,t){for(let n=hn;n<e.length;n++){const r=e[n],o=r[ie].firstChild;null!==o&&ku(r[ie],r,o,t)}e[Dr]!==e[$e]&&t.push(e[Dr])}let vy=[];const Qb={...Q,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ua(e.lView)},consumerOnSignalRead(){this.lView[rr]=this}},tI={...Q,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=br(e.lView);for(;t&&!_y(t[ie]);)t=br(t);t&&No(t)},consumerOnSignalRead(){this.lView[rr]=this}};function _y(e){return 2!==e.type}const nI=100;function pd(e,t=!0,n=0){const r=e[Zn],o=r.rendererFactory;o.begin?.();try{!function rI(e,t){const n=Ws();try{Wa(!0),Ah(e,t);let r=0;for(;ja(e);){if(r===nI)throw new we(103,!1);r++,Ah(e,1)}}finally{Wa(n)}}(e,n)}catch(c){throw t&&hd(e,c),c}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function oI(e,t,n,r){const o=t[Fe];if(!(256&~o))return;t[Zn].inlineEffectRunner?.flush(),fu(t);let d=!0,f=null,m=null;_y(e)?(m=function Xb(e){return e[rr]??function qb(e){const t=vy.pop()??Object.create(Qb);return t.lView=e,t}(e)}(t),f=mt(m)):null===function ge(){return F}()?(d=!1,m=function eI(e){const t=e[rr]??Object.create(tI);return t.lView=e,t}(t),f=mt(m)):t[rr]&&(Qt(t[rr]),t[rr]=null);try{$r(t),function uu(e){return nt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&oy(e,t,n,2,r);const _=!(3&~o);if(_){const O=e.preOrderCheckHooks;null!==O&&Gr(t,O,null)}else{const O=e.preOrderHooks;null!==O&&Za(t,O,0,null),gu(t,0)}if(function iI(e){for(let t=Zg(e);null!==t;t=Xg(t)){if(!(t[Fe]&Er.HasTransplantedViews))continue;const n=t[Ni];for(let r=0;r<n.length;r++)No(n[r])}}(t),Dy(t,0),null!==e.contentQueries&&fy(e,t),_){const O=e.contentCheckHooks;null!==O&&Gr(t,O)}else{const O=e.contentHooks;null!==O&&Za(t,O,1),gu(t,1)}!function bb(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Li(~o);else{const i=o,c=n[++r],d=n[++r];Df(c,i),d(2,t[i])}}}finally{Li(-1)}}(e,t);const b=e.components;null!==b&&by(t,b,0);const N=e.viewQuery;if(null!==N&&Ih(2,N,r),_){const O=e.viewCheckHooks;null!==O&&Gr(t,O)}else{const O=e.viewHooks;null!==O&&Za(t,O,2),gu(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Vs]){for(const O of t[Vs])O();t[Vs]=null}t[Fe]&=-73}catch(_){throw Ua(t),_}finally{null!==m&&(It(m,f),d&&function Yb(e){e.lView[rr]!==e&&(e.lView=null,vy.push(e))}(m)),ko()}}function Dy(e,t){for(let n=Zg(e);null!==n;n=Xg(n))for(let r=hn;r<n.length;r++)Ey(n[r],t)}function sI(e,t,n){Ey(_n(t,e),n)}function Ey(e,t){nu(e)&&Ah(e,t)}function Ah(e,t){const r=e[ie],o=e[Fe],i=e[rr];let c=!!(0===t&&16&o);if(c||=!!(64&o&&0===t),c||=!!(1024&o),c||=!(!i?.dirty||!Ht(i)),c||=!1,i&&(i.dirty=!1),e[Fe]&=-9217,c)oI(r,e,r.template,e[tt]);else if(8192&o){Dy(e,1);const d=r.components;null!==d&&by(e,d,1)}}function by(e,t,n){for(let r=0;r<t.length;r++)sI(e,t[r],n)}function Pu(e,t){const n=Ws()?64:1088;for(e[Zn].changeDetectionScheduler?.notify(t);e;){e[Fe]|=n;const r=br(e);if(xi(e)&&!r)return e;e=r}return null}class Ou{get rootNodes(){const t=this._lView,n=t[ie];return ku(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tt]}set context(t){this._lView[tt]=t}get destroyed(){return!(256&~this._lView[Fe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[vt];if(Dn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Nu(t,r),Xi(n,r))}this._attachedToViewContainer=!1}cd(this._lView[ie],this._lView)}onDestroy(t){Va(this._lView,t)}markForCheck(){Pu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Fe]&=-129}reattach(){ru(this._lView),this._lView[Fe]|=128}detectChanges(){this._lView[Fe]|=1024,pd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=xi(this._lView),n=this._lView[Yo];null!==n&&!t&&uh(n,this._lView),Hm(this._lView[ie],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=t;const n=xi(this._lView),r=this._lView[Yo];null!==r&&!n&&Bm(r,this._lView),ru(this._lView)}}let Lu=(()=>{class e{static{this.__NG_ELEMENT_ID__=uI}}return e})();const aI=Lu,cI=class extends aI{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function ac(e,t,n,r){const o=Z(null);try{const i=t.tView,f=dd(e,i,n,4096&e[Fe]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);f[Yo]=e[t.index];const _=e[Hr];return null!==_&&(f[Hr]=_.createEmbeddedView(i)),Sh(i,f,n),f}finally{Z(o)}}(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Ou(o)}};function uI(){return gd(Ut(),J())}function gd(e,t){return 4&e.type?new cI(t,e,Ya(e,t)):null}class lc{}const zu=new et("",{providedIn:"root",factory:()=>!1}),Wy=new et(""),Uh=new et("");class tC{}class Ky{}class rC{resolveComponentFactory(t){throw function nC(e){const t=Error(`No component factory found for ${bt(e)}.`);return t.ngComponent=e,t}(t)}}class Dd{static{this.NULL=new rC}}class Vh{}let oC=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function iC(){const e=J(),n=_n(Ut().index,e);return(sn(n)?n:e)[Ye]}()}}return e})(),sC=(()=>{class e{static{this.\u0275prov=xt({token:e,providedIn:"root",factory:()=>null})}}return e})();function vs(e){return!!kn(e)}function bd(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let c=0;c<t.length;c++){const d=t[c];"number"==typeof d?i=d:1==i?o=di(o,d):2==i&&(r=di(r,d+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}class Xy extends Dd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ht(t);return new Gu(n,this.ngModule)}}function qy(e,t){const n=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const o=e[r];if(void 0===o)continue;const i=Array.isArray(o),c=i?o[0]:o;n.push(t?{propName:c,templateName:r,isSignal:!!((i?o[1]:ro.None)&ro.SignalBased)}:{propName:c,templateName:r})}return n}class Gu extends Ky{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=qy(t.inputs,!0);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return qy(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function os(e){return e.map(yl).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){const i=Z(null);try{let c=(o=o||this.ngModule)instanceof tr?o:o?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const d=c?new K(t,c):t,f=d.get(Vh,null);if(null===f)throw new we(407,!1);const b={rendererFactory:f,sanitizer:d.get(sC,null),inlineEffectRunner:null,changeDetectionScheduler:d.get(lc,null)},N=f.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",L=r?function Cb(e,t,n,r){const i=r.get(pm,!1)||n===no.ShadowDom,c=e.selectRootElement(t,i);return function Sb(e){sy(e)}(c),c}(N,r,this.componentDef.encapsulation,d):ad(N,O,function uC(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(O));let ee=512;this.componentDef.signals?ee|=4096:this.componentDef.onPush||(ee|=16);let ye=null;null!==L&&(ye=Kf(L,d,!0));const Ee=wh(0,null,null,1,0,null,null,null,null,null,null),q=dd(null,Ee,null,ee,null,null,b,N,d,null,ye);fu(q);let rt,kt,Yt=null;try{const Mn=this.componentDef;let Ar,Oc=null;Mn.findHostDirectiveDefs?(Ar=[],Oc=new Map,Mn.findHostDirectiveDefs(Mn,Ar,Oc),Ar.push(Mn)):Ar=[Mn];const gE=function dC(e,t){const n=e[ie],r=Be;return e[r]=t,Ys(n,r,2,"#host",null)}(q,L);Yt=function fC(e,t,n,r,o,i,c){const d=o[ie];!function hC(e,t,n,r){for(const o of e)t.mergedAttrs=bo(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(bd(t,t.mergedAttrs,!0),null!==n&&ey(r,n,t))}(r,e,t,c);let f=null;null!==t&&(f=Kf(t,o[un]));const m=i.rendererFactory.createRenderer(t,n);let _=16;n.signals?_=4096:n.onPush&&(_=64);const b=dd(o,iy(n),null,_,o[e.index],e,i,m,null,null,f);return d.firstCreatePass&&Eh(d,e,r.length-1),fd(o,b),o[e.index]=b}(gE,L,Mn,Ar,q,b,N),kt=ln(Ee,Be),L&&function gC(e,t,n,r){if(r)wi(e,n,["ng-version","18.2.14"]);else{const{attrs:o,classes:i}=function Hc(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!hr(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&wi(e,n,o),i&&i.length>0&&Qm(e,n,i.join(" "))}}(N,Mn,L,r),void 0!==n&&function mC(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(kt,this.ngContentSelectors,n),rt=function pC(e,t,n,r,o,i){const c=Ut(),d=o[ie],f=gt(c,o);uy(d,o,c,n,null,r);for(let _=0;_<n.length;_++)sr(Gs(o,d,c.directiveStart+_,c),o);ly(d,o,c),f&&sr(f,o);const m=Gs(o,d,c.directiveStart+c.componentOffset,c);if(e[tt]=o[tt]=m,null!==i)for(const _ of i)_(m,t);return yh(d,c,o),m}(Yt,Mn,Ar,Oc,q,[yC]),Sh(Ee,q,null)}catch(Mn){throw null!==Yt&&Ff(Yt),Ff(q),Mn}finally{ko()}return new lC(this.componentType,rt,Ya(kt,q),q,kt)}finally{Z(i)}}}class lC extends tC{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ou(o,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;Ch(i[ie],i,o,t,n),this.previousInputValues.set(t,n),Pu(_n(this._tNode.index,i),1)}}get injector(){return new zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function yC(){const e=Ut();Ja(J()[ie],e)}let Id=(()=>{class e{static{this.__NG_ELEMENT_ID__=vC}}return e})();function vC(){return ev(Ut(),J())}const _C=Id,Yy=class extends _C{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ya(this._hostTNode,this._hostLView)}get injector(){return new zn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fi(this._hostTNode,this._hostLView);if(ae(t)){const n=ue(t,this._hostLView),r=te(t);return new zn(n[ie].data[r+8],n)}return new zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Qy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-hn}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const d=t.createEmbeddedViewImpl(n||{},i,null);return this.insertImpl(d,o,Qs(this._hostTNode,null)),d}createComponent(t,n,r,o,i){const c=t&&!M(t);let d;if(c)d=n;else{const L=n||{};d=L.index,r=L.injector,o=L.projectableNodes,i=L.environmentInjector||L.ngModuleRef}const f=c?t:new Gu(ht(t)),m=r||this.parentInjector;if(!i&&null==f.ngModule){const ee=(c?m:this.parentInjector).get(tr,null);ee&&(i=ee)}ht(f.componentType??{});const O=f.create(m,o,null,i);return this.insertImpl(O.hostView,d,Qs(this._hostTNode,null)),O}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const o=t._lView;if(function yf(e){return Dn(e[vt])}(o)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const f=o[vt],m=new Yy(f,f[Zt],f[vt]);m.detach(m.indexOf(t))}}const i=this._adjustIndex(n),c=this._lContainer;return function cc(e,t,n,r=!0){const o=t[ie];if(function pb(e,t,n,r){const o=hn+r,i=n.length;r>0&&(n[o-1][Cn]=t),r<i-hn?(t[Cn]=n[o],Ms(n,hn+r,t)):(n.push(t),t[Cn]=null),t[vt]=n;const c=t[Yo];null!==c&&n!==c&&Bm(c,t);const d=t[Hr];null!==d&&d.insertView(e),ru(t),t[Fe]|=128}(o,t,e,n),r){const c=ph(n,e),d=t[Ye],f=fh(d,e[Dr]);null!==f&&function fb(e,t,n,r,o,i){r[$e]=o,r[Zt]=t,ld(e,r,n,1,o,i)}(o,e[Zt],d,t,f,c)}const i=t[fn];null!==i&&null!==i.firstChild&&(i.firstChild=null)}(c,o,i,r),t.attachToViewContainerRef(),Ms($h(c),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Qy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Nu(this._lContainer,n);r&&(Xi($h(this._lContainer),n),cd(r[ie],r))}detach(t){const n=this._adjustIndex(t,-1),r=Nu(this._lContainer,n);return r&&null!=Xi($h(this._lContainer),n)?new Ou(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Qy(e){return e[8]}function $h(e){return e[8]||(e[8]=[])}function ev(e,t){let n;const r=t[e.index];return Dn(r)?n=r:(n=dy(r,t,null,e),t[e.index]=n,fd(t,n)),tv(n,t,e,r),new Yy(n,e,t)}let tv=function rv(e,t,n,r){if(e[Dr])return;let o;o=8&n.type?Dt(r):function wC(e,t){const n=e[Ye],r=n.createComment(""),o=gt(t,e);return Xs(n,fh(n,o),r,function yb(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[Dr]=o},zh=()=>!1;class Wh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Wh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const c=n.getByIndex(i);o.push(this.queries[c.indexInDeclarationView].clone())}return new Kh(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==qh(t,n).matches&&this.queries[n].setDirty()}}class ov{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function AC(e){return e.split(",").map(t=>t.trim())}(t):t}}class Gh{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Gh(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Jh{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Jh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,IC(n,i)),this.matchTNodeWithReadOption(t,n,Vl(n,t,i,!1,!1))}else r===Lu?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Vl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===vu||o===Id||o===Lu&&4&n.type)this.addMatch(n.index,-2);else{const i=Vl(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function IC(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function SC(e,t,n,r){return-1===n?function CC(e,t){return 11&e.type?Ya(e,t):4&e.type?gd(e,t):null}(t,e):-2===n?function TC(e,t,n){return n===vu?Ya(t,e):n===Lu?gd(t,e):n===Id?ev(t,e):void 0}(e,t,r):Gs(e,e[ie],n,t)}function iv(e,t,n,r){const o=t[Hr].queries[r];if(null===o.matches){const i=e.data,c=n.matches,d=[];for(let f=0;null!==c&&f<c.length;f+=2){const m=c[f];d.push(m<0?null:SC(t,i[m],c[f+1],n.metadata.read))}o.matches=d}return o.matches}function Zh(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const c=iv(e,t,o,n);for(let d=0;d<i.length;d+=2){const f=i[d];if(f>0)r.push(c[d/2]);else{const m=i[d+1],_=t[-f];for(let b=hn;b<_.length;b++){const N=_[b];N[Yo]===N[vt]&&Zh(N[ie],N,m,r)}if(null!==_[Ni]){const b=_[Ni];for(let N=0;N<b.length;N++){const O=b[N];Zh(O[ie],O,m,r)}}}}}return r}function sv(e,t,n){const r=new Pf(!(4&~n));return function Mb(e,t,n,r){const o=hy(t);o.push(n),e.firstCreatePass&&py(e).push(r,o.length-1)}(e,t,r,r.destroy),(t[Hr]??=new Kh).queries.push(new Wh(r))-1}function uv(e,t,n){null===e.queries&&(e.queries=new Gh),e.queries.track(new Jh(t,n))}function qh(e,t){return e.queries.getByIndex(t)}function lv(e,t){const n=e[ie],r=qh(n,t);return r.crossesNgTemplate?Zh(n,e,t,[]):iv(n,e,r,t)}const dv=new Set;function gr(e){dv.has(e)||(dv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function hv(e,t){gr("NgSignals");const n=function Hi(e){const t=Object.create(pe);t.value=e;const n=()=>(B(t),t.value);return n[W]=t,n}(e),r=n[W];return t?.equal&&(r.equal=t.equal),n.set=o=>G(r,o),n.update=o=>function z(e,t){Xe()||en(),G(e,t(e.value))}(r,o),n.asReadonly=pv.bind(n),n}function pv(){const e=this[W];if(void 0===e.readonlyFn){const t=()=>this();t[W]=e,e.readonlyFn=t}return e.readonlyFn}function gv(e){return function fv(e){return"function"==typeof e&&void 0!==e[W]}(e)&&"function"==typeof e.set}function Qh(e){let t=function Sv(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(Br(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new we(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const c=e;c.inputs=Sd(e.inputs),c.inputTransforms=Sd(e.inputTransforms),c.declaredInputs=Sd(e.declaredInputs),c.outputs=Sd(e.outputs);const d=o.hostBindings;d&&$C(e,d);const f=o.viewQuery,m=o.contentQueries;if(f&&HC(e,f),m&&BC(e,m),UC(e,o),Fo(e.outputs,o.outputs),Br(o)&&o.data.animation){const _=e.data;_.animation=(_.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let c=0;c<i.length;c++){const d=i[c];d&&d.ngInherit&&d(e),d===Qh&&(n=!1)}}t=Object.getPrototypeOf(t)}!function VC(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=bo(o.hostAttrs,n=bo(n,o.hostAttrs))}}(r)}function UC(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(o))continue;e.inputTransforms??={},e.inputTransforms[o]=t.inputTransforms[o]}}}function Sd(e){return e===_r?{}:e===St?[]:e}function HC(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function BC(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function $C(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function xv(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}e.inputTransforms=n}class na{}class Rv{}function ZC(e,t){return new tp(e,t??null,[])}class tp extends na{constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xy(this);const i=kn(t);this._bootstrapComponents=Jr(i.bootstrap),this._r3Injector=Ng(t,n,[{provide:na,useValue:this},{provide:Dd,useValue:this.componentFactoryResolver},...r],bt(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class np extends Rv{constructor(t){super(),this.moduleType=t}create(t){return new tp(this.moduleType,t,[])}}class kv extends na{constructor(t){super(),this.componentFactoryResolver=new Xy(this),this.instance=null;const n=new Xo([...t.providers,{provide:na,useValue:this},{provide:Dd,useValue:this.componentFactoryResolver}],t.parent||us(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rp(e,t,n=null){return new kv({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function Td(e){return!!op(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function op(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Sn(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Xu(e,t,n,r,o,i,c,d,f,m){const _=n+Be,b=t.firstCreatePass?function tS(e,t,n,r,o,i,c,d,f){const m=t.consts,_=Ys(t,e,4,c||null,d||null);Dh(t,n,_,or(m,f)),Ja(t,_);const b=_.tView=wh(2,_,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,m,null);return null!==t.queries&&(t.queries.template(t,_),b.queries=t.queries.embeddedTView(_)),_}(_,t,e,r,o,i,c,d,f):t.data[_];qn(b,!1);const N=Pv(t,e,b,n);Ks()&&ud(t,e,N,b),sr(N,e);const O=dy(N,e,N,b);return e[_]=O,fd(e,O),function nv(e,t,n){return zh(e,t,n)}(O,b,e),hs(b)&&vh(t,e,b),null!=f&&_h(e,b,m),b}function ip(e,t,n,r,o,i,c,d){const f=J(),m=_t();return Xu(f,m,e,t,n,r,o,or(m.consts,i),c,d),ip}let Pv=function Ov(e,t,n,r){return ho(!0),t[Ye].createComment("")};var pc=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(pc||{});let Hv=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=xt({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Qu{constructor(){this.ngZone=He(pn),this.scheduler=He(lc),this.errorHandler=He(ji,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[pc.EarlyRead,pc.Write,pc.MixedReadWrite,pc.Read]}execute(){this.executing=!0;for(const t of Qu.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[t])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=xt({token:Qu,providedIn:"root",factory:()=>new Qu})}}function yp(e,t,n,r){const o=J();return Sn(o,Kr(),t)&&(_t(),si(qt(),o,e,t,n,r)),yp}function Ec(e,t,n,r,o,i){const d=function ra(e,t,n,r){const o=Sn(e,t,n);return Sn(e,t+1,r)||o}(e,function Wr(){return nt.lFrame.bindingIndex}(),n,o);return Ro(2),d?t+Ce(n)+r+Ce(o)+i:lt}function Pd(e,t){return e<<17|t<<2}function Ds(e){return e>>17&32767}function vp(e){return 2|e}function ia(e){return(131068&e)>>2}function _p(e,t){return-131069&e|t<<2}function wp(e){return 1|e}function g_(e,t,n,r){const o=e[n+1],i=null===t;let c=r?Ds(o):ia(o),d=!1;for(;0!==c&&(!1===d||i);){const m=e[c+1];$S(e[c],t)&&(d=!0,e[c+1]=r?wp(m):vp(m)),c=r?Ds(m):ia(m)}d&&(e[n+1]=r?vp(o):wp(o))}function $S(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Fr(e,t)>=0}function Dp(e,t,n){const r=J();return Sn(r,Kr(),t)&&Sr(_t(),qt(),r,e,t,r[Ye],n,!1),Dp}function Ep(e,t,n,r,o){const c=o?"class":"style";Ch(e,n,t.inputs[c],c,r)}function bp(e,t){return function Oo(e,t,n,r){const o=J(),i=_t(),c=Ro(2);i.firstUpdatePass&&function I_(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[$n()],c=function b_(e,t){return t>=e.expandoStartIndex}(e,n);(function A_(e,t){return!!(e.flags&(t?8:16))})(i,r)&&null===t&&!c&&(t=!1),t=function YS(e,t,n,r){const o=function du(e){const t=nt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=tl(n=Ip(null,e,t,n,r),t.attrs,r),i=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==o)if(n=Ip(o,e,t,n,r),null===i){let f=function QS(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ia(r))return e[Ds(r)]}(e,t,r);void 0!==f&&Array.isArray(f)&&(f=Ip(null,e,t,f[1],r),f=tl(f,t.attrs,r),function eT(e,t,n,r){e[Ds(n?t.classBindings:t.styleBindings)]=r}(e,t,r,f))}else i=function tT(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=tl(r,e[i].hostAttrs,n);return tl(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function HS(e,t,n,r,o,i){let c=i?t.classBindings:t.styleBindings,d=Ds(c),f=ia(c);e[r]=n;let _,m=!1;if(Array.isArray(n)?(_=n[1],(null===_||Fr(n,_)>0)&&(m=!0)):_=n,o)if(0!==f){const N=Ds(e[d+1]);e[r+1]=Pd(N,d),0!==N&&(e[N+1]=_p(e[N+1],r)),e[d+1]=function US(e,t){return 131071&e|t<<17}(e[d+1],r)}else e[r+1]=Pd(d,0),0!==d&&(e[d+1]=_p(e[d+1],r)),d=r;else e[r+1]=Pd(f,0),0===d?d=r:e[f+1]=_p(e[f+1],r),f=r;m&&(e[r+1]=vp(e[r+1])),g_(e,_,r,!0),g_(e,_,r,!1),function BS(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Fr(i,t)>=0&&(n[r+1]=wp(n[r+1]))}(t,_,e,r,i),c=Pd(d,f),i?t.classBindings=c:t.styleBindings=c}(o,i,t,n,c,r)}}(i,e,c,r),t!==lt&&Sn(o,c,t)&&function S_(e,t,n,r,o,i,c,d){if(!(3&t.type))return;const f=e.data,m=f[d+1],_=function VS(e){return!(1&~e)}(m)?T_(f,t,n,o,ia(m),c):void 0;Od(_)||(Od(i)||function jS(e){return!(2&~e)}(m)&&(i=T_(f,null,n,o,d,c)),function wb(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:sd.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=sd.Important),e.setStyle(n,r,o,i))}}(r,c,fo($n(),n),o,i))}(i,i.data[$n()],o,o[Ye],e,o[c+1]=function iT(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=bt(ys(e)))),e}(t,n),r,c)}(e,t,null,!0),bp}function Ip(e,t,n,r,o){let i=null;const c=n.directiveEnd;let d=n.directiveStylingLast;for(-1===d?d=n.directiveStart:d++;d<c&&(i=t[d],r=tl(r,i.hostAttrs,o),i!==e);)d++;return null!==e&&(n.directiveStylingLast=d),r}function tl(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const c=t[i];"number"==typeof c?o=c:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Vn(e,c,!!n||t[++i]))}return void 0===e?null:e}function T_(e,t,n,r,o,i){const c=null===t;let d;for(;o>0;){const f=e[o],m=Array.isArray(f),_=m?f[1]:f,b=null===_;let N=n[o+1];N===lt&&(N=b?St:void 0);let O=b?Yi(N,r):_===r?N:void 0;if(m&&!Od(O)&&(O=Yi(f,r)),Od(O)&&(d=O,c))return d;const L=e[o+1];o=c?Ds(L):ia(L)}if(null!==t){let f=i?t.residualClasses:t.residualStyles;null!=f&&(d=Yi(f,r))}return d}function Od(e){return void 0!==e}function Fd(e,t,n,r){const o=J(),i=_t(),c=Be+e,d=o[Ye],f=i.firstCreatePass?function AT(e,t,n,r,o,i){const c=t.consts,f=Ys(t,e,2,r,or(c,o));return Dh(t,n,f,or(c,i)),null!==f.attrs&&bd(f,f.attrs,!1),null!==f.mergedAttrs&&bd(f,f.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,f),f}(c,i,o,t,n,r):i.data[c],m=R_(i,o,f,d,t,e);o[c]=m;const _=hs(f);return qn(f,!0),ey(d,m,f),!function fc(e){return!(32&~e.flags)}(f)&&Ks()&&ud(i,o,m,f),0===function vf(){return nt.lFrame.elementDepthCount}()&&sr(m,o),function ki(){nt.lFrame.elementDepthCount++}(),_&&(vh(i,o,f),yh(i,f,o)),null!==r&&_h(o,f),Fd}function jd(){let e=Ut();au()?cu():(e=e.parent,qn(e,!1));const t=e;(function Ml(e){return nt.skipHydrationRootTNode===e})(t)&&function wf(){nt.skipHydrationRootTNode=null}(),function iu(){nt.lFrame.elementDepthCount--}();const n=_t();return n.firstCreatePass&&(Ja(n,e),co(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function S(e){return!!(8&e.flags)}(t)&&Ep(n,t,J(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function P(e){return!!(16&e.flags)}(t)&&Ep(n,t,J(),t.stylesWithoutHost,!1),jd}function Ap(e,t,n,r){return Fd(e,t,n,r),jd(),Ap}let R_=(e,t,n,r,o,i)=>(ho(!0),ad(r,o,function Fl(){return nt.lFrame.currentNamespace}()));function Mp(e,t,n){const r=J(),o=_t(),i=e+Be,c=o.firstCreatePass?function xT(e,t,n,r,o){const i=t.consts,c=or(i,r),d=Ys(t,e,8,"ng-container",c);return null!==c&&bd(d,c,!0),Dh(t,n,d,or(i,o)),null!==t.queries&&t.queries.elementStart(t,d),d}(i,o,r,t,n):o.data[i];qn(c,!0);const d=k_(o,r,c,e);return r[i]=d,Ks()&&ud(o,r,d,c),sr(d,r),hs(c)&&(vh(o,r,c),yh(o,c,r)),null!=n&&_h(r,c),Mp}function Np(){let e=Ut();const t=_t();return au()?cu():(e=e.parent,qn(e,!1)),t.firstCreatePass&&(Ja(t,e),co(e)&&t.queries.elementEnd(e)),Np}function xp(e,t,n){return Mp(e,t,n),Np(),xp}let k_=(e,t,n,r)=>(ho(!0),ch(t[Ye],""));function P_(){return J()}const sa=void 0;var OT=["en",[["a","p"],["AM","PM"],sa],[["AM","PM"],sa,sa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],sa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],sa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",sa,"{1} 'at' {0}",sa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function PT(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Nc={};function Rp(e){const t=function LT(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=j_(t);if(n)return n;const r=t.split("-")[0];if(n=j_(r),n)return n;if("en"===r)return OT;throw new we(701,!1)}function F_(e){return Rp(e)[xc.PluralCase]}function j_(e){return e in Nc||(Nc[e]=dn.ng&&dn.ng.common&&dn.ng.common.locales&&dn.ng.common.locales[e]),Nc[e]}var xc=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(xc||{});const Ud="en-US";let U_=Ud,rw=(e,t,n)=>{};function Op(e,t,n,r){const o=J(),i=_t(),c=Ut();return Lp(i,o,o[Ye],c,e,t,r),Op}function Lp(e,t,n,r,o,i,c){const d=hs(r),m=e.firstCreatePass&&py(e),_=t[tt],b=hy(t);let N=!0;if(3&r.type||c){const ee=gt(r,t),ye=c?c(ee):ee,Ee=b.length,q=c?kt=>c(Dt(kt[r.index])):r.index;let rt=null;if(!c&&d&&(rt=function IA(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const c=o[i];if(c===n&&o[i+1]===r){const d=t[zt],f=o[i+2];return d.length>f?d[f]:null}"string"==typeof c&&(i+=2)}return null}(e,t,o,r.index)),null!==rt)(rt.__ngLastListenerFn__||rt).__ngNextListenerFn__=i,rt.__ngLastListenerFn__=i,N=!1;else{i=aw(r,t,_,i),rw(ee,o,i);const kt=n.listen(ye,o,i);b.push(i,kt),m&&m.push(o,q,Ee,Ee+1)}}else i=aw(r,t,_,i);const O=r.outputs;let L;if(N&&null!==O&&(L=O[o])){const ee=L.length;if(ee)for(let ye=0;ye<ee;ye+=2){const Yt=t[L[ye]][L[ye+1]].subscribe(i),Mn=b.length;b.push(i,Yt),m&&m.push(o,r.index,Mn,-(Mn+1))}}}function sw(e,t,n,r){const o=Z(null);try{return uo(6,t,n),!1!==n(r)}catch(i){return hd(e,i),!1}finally{uo(7,t,n),Z(o)}}function aw(e,t,n,r){return function o(i){if(i===Function)return r;Pu(e.componentOffset>-1?_n(e.index,t):t,5);let d=sw(t,n,r,i),f=o.__ngNextListenerFn__;for(;f;)d=sw(t,n,f,i)&&d,f=f.__ngNextListenerFn__;return d}}function cw(e=1){return function bf(e){return(nt.lFrame.contextLView=function Fa(e,t){for(;e>0;)t=t[Ti],e--;return t}(e,nt.lFrame.contextLView))[tt]}(e)}function vw(e,t,n,r){!function cv(e,t,n,r){const o=_t();if(o.firstCreatePass){const i=Ut();uv(o,new ov(t,n,r),i.index),function MC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),!(2&~n)&&(o.staticContentQueries=!0)}return sv(o,J(),n)}(e,t,n,r)}function _w(e,t,n){!function av(e,t,n){const r=_t();return r.firstCreatePass&&(uv(r,new ov(e,t,n),-1),!(2&~t)&&(r.staticViewQueries=!0)),sv(r,J(),t)}(e,t,n)}function ww(e){const t=J(),n=_t(),r=Oi();gs(r+1);const o=qh(n,r);if(e.dirty&&function mf(e){return!(4&~e[Fe])}(t)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=lv(t,r);e.reset(i,Ug),e.notifyOnChanges()}return!0}return!1}function Dw(){return function Xh(e,t){return e[Hr].queries[t].queryList}(J(),Oi())}function xw(e,t=""){const n=J(),r=_t(),o=e+Be,i=r.firstCreatePass?Ys(r,o,1,t,null):r.data[o],c=Rw(r,n,i,t,e);n[o]=c,Ks()&&ud(r,n,c,i),qn(i,!1)}let Rw=(e,t,n,r,o)=>(ho(!0),function ah(e,t){return e.createText(t)}(t[Ye],r));function Up(e){return $d("",e,""),Up}function $d(e,t,n){const r=J(),o=function Dc(e,t,n,r){return Sn(e,Kr(),n)?t+Ce(n)+r:lt}(r,e,t,n);return o!==lt&&Vi(r,$n(),o),$d}function Vp(e,t,n,r,o){const i=J(),c=Ec(i,e,t,n,r,o);return c!==lt&&Vi(i,$n(),c),Vp}function Hp(e,t,n){gv(t)&&(t=t());const r=J();return Sn(r,Kr(),t)&&Sr(_t(),qt(),r,e,t,r[Ye],n,!1),Hp}function Vw(e,t){const n=gv(e);return n&&e.set(t),n}function Bp(e,t){const n=J(),r=_t(),o=Ut();return Lp(r,n,n[Ye],o,e,t),Bp}function $p(e,t,n,r,o){if(e=We(e),Array.isArray(e))for(let i=0;i<e.length;i++)$p(e[i],t,n,r,o);else{const i=_t(),c=J(),d=Ut();let f=io(e)?e:We(e.provide);const m=Ii(e),_=1048575&d.providerIndexes,b=d.directiveStart,N=d.providerIndexes>>20;if(io(e)||!e.multi){const O=new l(m,o,sc),L=Wp(f,t,o?_:_+N,b);-1===L?(Sf(On(d,c),i,f),zp(i,e,t.length),t.push(f),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(O),c.push(O)):(n[L]=O,c[L]=O)}else{const O=Wp(f,t,_+N,b),L=Wp(f,t,_,_+N),ye=L>=0&&n[L];if(o&&!ye||!o&&!(O>=0&&n[O])){Sf(On(d,c),i,f);const Ee=function ZA(e,t,n,r,o){const i=new l(e,n,sc);return i.multi=[],i.index=t,i.componentProviders=0,$w(i,o,r&&!n),i}(o?JA:GA,n.length,o,r,m);!o&&ye&&(n[L].providerFactory=Ee),zp(i,e,t.length,0),t.push(f),d.directiveStart++,d.directiveEnd++,o&&(d.providerIndexes+=1048576),n.push(Ee),c.push(Ee)}else zp(i,e,O>-1?O:L,$w(n[o?L:O],m,!o&&r));!o&&r&&ye&&n[L].componentProviders++}}}function zp(e,t,n,r){const o=io(t),i=function Ur(e){return!!e.useClass}(t);if(o||i){const f=(i?We(t.useClass):t).prototype.ngOnDestroy;if(f){const m=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const _=m.indexOf(n);-1===_?m.push(n,[r,f]):m[_+1].push(r,f)}else m.push(n,f)}}}function $w(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Wp(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function GA(e,t,n,r){return Kp(this.multi,[])}function JA(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const c=this.providerFactory.componentProviders,d=Gs(n,n[ie],this.providerFactory.index,r);i=d.slice(0,c),Kp(o,i);for(let f=c;f<d.length;f++)i.push(d[f])}else i=[],Kp(o,i);return i}function Kp(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function zw(e,t=[]){return n=>{n.providersResolver=(r,o)=>function KA(e,t,n){const r=_t();if(r.firstCreatePass){const o=Br(e);$p(n,r.data,r.blueprint,o,!0),$p(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}let XA=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=is(0,n.type),o=r.length>0?rp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=xt({token:e,providedIn:"environment",factory:()=>new e(vn(tr))})}}return e})();function Ww(e){gr("NgStandalone"),e.getStandaloneInjector=t=>t.get(XA).getOrCreateStandaloneInjector(e)}class pD{constructor(t){this.full=t;const n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}}let gD=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const wD=new et(""),DD=new et("");let Yp,lN=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Yp||(function dN(e){Yp=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==i),n()},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(vn(pn),vn(ED),vn(DD))}}static{this.\u0275prov=xt({token:e,factory:e.\u0275fac})}}return e})(),ED=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Yp?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function Qp(e){return!!e&&"function"==typeof e.then}function bD(e){return!!e&&"function"==typeof e.subscribe}const fN=new et("");let ID=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=He(fN,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(Qp(i))n.push(i);else if(bD(i)){const c=new Promise((d,f)=>{i.subscribe({complete:d,error:f})});n.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Jd=new et("");let li=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=He(HE),this.afterRenderManager=He(Hv),this.zonelessEnabled=He(zu),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Fn.B,this.afterTick=new Fn.B,this.componentTypes=[],this.components=[],this.isStable=He(Js).hasPendingTasks.pipe((0,Nt.T)(n=>!n)),this._injector=He(tr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Ky;if(!this._injector.get(ID).done)throw!o&&jr(n),new we(405,!1);let c;c=o?n:this._injector.get(Dd).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const d=function hN(e){return e.isBoundToModule}(c)?void 0:this._injector.get(na),m=c.create(ir.NULL,[],r||c.selector,d),_=m.location.nativeElement,b=m.injector.get(wD,null);return b?.registerApplication(_),m.onDestroy(()=>{this.detachView(m.hostView),Zd(this.components,m),b?.unregisterApplication(_)}),this._loadComponent(m),m}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new we(101,!1);const n=Z(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Z(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Vh,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:i}of this._views)mN(o,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>ja(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Zd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Jd,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new we(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Zd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function mN(e,t,n,r){(n||ja(e))&&pd(e,t,n&&!r?0:1)}class yN{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let vN=(()=>{class e{compileModuleSync(n){return new np(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=Jr(kn(n).declarations).reduce((c,d)=>{const f=ht(d);return f&&c.push(new Gu(f)),c},[]);return new yN(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),DN=(()=>{class e{constructor(){this.zone=He(pn),this.changeDetectionScheduler=He(lc),this.applicationRef=He(li)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function eg({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new pn({...tg(),scheduleInRootZone:n}),[{provide:pn,useFactory:e},{provide:Jn,multi:!0,useFactory:()=>{const r=He(DN,{optional:!0});return()=>r.initialize()}},{provide:Jn,multi:!0,useFactory:()=>{const r=He(bN);return()=>{r.initialize()}}},!0===t?{provide:Wy,useValue:!0}:[],{provide:Uh,useValue:n??Rg}]}function tg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bN=(()=>{class e{constructor(){this.subscription=new Ct.yU,this.initialized=!1,this.zone=He(pn),this.pendingTasks=He(Js)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pn.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pn.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dl=(()=>{class e{constructor(){this.appRef=He(li),this.taskService=He(Js),this.ngZone=He(pn),this.zonelessEnabled=He(zu),this.disableScheduling=He(Wy,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ct.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(zl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(He(Uh,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof kf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?Pg:kg;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(zl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Pg(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const rg=new et("",{providedIn:"root",factory:()=>He(rg,wt.Optional|wt.SkipSelf)||function IN(){return typeof $localize<"u"&&$localize.locale||Ud}()}),CN=new et("",{providedIn:"root",factory:()=>"USD"}),qd=new et("");function Yd(e){return!e.moduleRef}let Es=null;const Pc=new et("");let FD=(()=>{class e{static{this.__NG_ELEMENT_ID__=PN}}return e})();function PN(e){return function ON(e,t,n){if(Ao(e)&&!n){const r=_n(e.index,t);return new Ou(r,r)}return 175&e.type?new Ou(t[Xt],t):null}(Ut(),J(),!(16&~e))}class HD{constructor(){}supports(t){return Td(t)}create(t){return new VN(t)}}const UN=(e,t)=>t;class VN{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UN}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const c=!r||n&&n.currentIndex<$D(r,o,i)?n:r,d=$D(c,o,i),f=c.currentIndex;if(c===r)o--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)o++;else{i||(i=[]);const m=d-o,_=f-o;if(m!=_){for(let N=0;N<m;N++){const O=N<i.length?i[N]:i[N]=0,L=O+N;_<=L&&L<m&&(i[N]=O+1)}i[c.previousIndex]=_-m}}d!==f&&t(c,d,f)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Td(t))throw new we(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let d=0;d<this.length;d++)i=t[d],c=this._trackByFn(d,i),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,i,c,d)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,c,d),r=!0),n=n._next}else o=0,function QC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,d=>{c=this._trackByFn(o,d),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,d,c,o)),Object.is(n.item,d)||this._addIdentityChange(n,d)):(n=this._mismatch(n,d,c,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new HN(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new BD),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BD),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class HN{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BN{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class BD{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new BN,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $D(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class zD{constructor(){}supports(t){return t instanceof Map||op(t)}create(){return new $N}}class $N{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||op(t)))throw new we(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const i=o._prev,c=o._next;return i&&(i._next=c),c&&(c._prev=i),o._next=null,o._prev=null,o}const r=new zN(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class zN{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function WD(){return new cg([new HD])}let cg=(()=>{class e{static{this.\u0275prov=xt({token:e,providedIn:"root",factory:WD})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||WD()),deps:[[e,new Jo,new Ji]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new we(901,!1)}}return e})();function KD(){return new ug([new zD])}let ug=(()=>{class e{static{this.\u0275prov=xt({token:e,providedIn:"root",factory:KD})}constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||KD()),deps:[[e,new Jo,new Ji]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new we(901,!1)}}return e})();function ox(e){const{rootComponent:t,appProviders:n,platformProviders:r,platformRef:o}=e;try{const i=o?.injector??function kN(e=[]){if(Es)return Es;const t=function PD(e=[],t){return ir.create({name:t,providers:[{provide:so,useValue:"platform"},{provide:qd,useValue:new Set([()=>Es=null])},...e]})}(e);return t.get(Pc,!1)||(Es=t),function CD(){!function Ln(e){Et=e}(()=>{throw new we(600,!1)})}(),function OD(e){e.get(im,null)?.forEach(n=>n())}(t),t}(r);if(!0===i.get(Pc,!1)&&!e.platformRef)throw new we(401,!1);const c=[eg({}),{provide:lc,useExisting:dl},...n||[]];return function RD(e){const t=Yd(e)?e.r3Injector:e.moduleRef.injector,n=t.get(pn);return n.run(()=>{Yd(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=t.get(ji,null);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),Yd(e)){const i=()=>t.destroy(),c=e.platformInjector.get(qd);c.add(i),t.onDestroy(()=>{o.unsubscribe(),c.delete(i)})}else{const i=()=>e.moduleRef.destroy(),c=e.platformInjector.get(qd);c.add(i),e.moduleRef.onDestroy(()=>{Zd(e.allPlatformModules,e.moduleRef),o.unsubscribe(),c.delete(i)})}return function gN(e,t,n){try{const r=n();return Qp(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(r,n,()=>{const i=t.get(ID);return i.runInitializers(),i.donePromise.then(()=>{if(function VT(e){"string"==typeof e&&(U_=e.toLowerCase().replace(/_/g,"-"))}(t.get(rg,Ud)||Ud),Yd(e)){const d=t.get(li);return void 0!==e.rootComponent&&d.bootstrap(e.rootComponent),d}return function NN(e,t){const n=e.injector.get(li);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new we(-403,!1);e.instance.ngDoBootstrap(n)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({r3Injector:new kv({providers:c,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:t})}catch(i){return Promise.reject(i)}}function Ix(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Sx(e,t){gr("NgSignals");const n=function je(e){const t=Object.create(Ft);t.computation=e;const n=()=>{if(ze(t),B(t),t.value===st)throw t.error;return t.value};return n[W]=t,n}(e);return t?.equal&&(n[W].equal=t.equal),n}function Tx(e){const t=Z(null);try{return e()}finally{Z(t)}}},467:(ot,le,x)=>{function C(A,ne,W,Z,ge,Re,be){try{var Q=A[Re](be),B=Q.value}catch(fe){return void W(fe)}Q.done?ne(B):Promise.resolve(B).then(Z,ge)}function F(A){return function(){var ne=this,W=arguments;return new Promise(function(Z,ge){var Re=A.apply(ne,W);function be(B){C(Re,Z,ge,be,Q,"next",B)}function Q(B){C(Re,Z,ge,be,Q,"throw",B)}be(void 0)})}}x.d(le,{A:()=>F})},1635:(ot,le,x)=>{x.r(le),x.d(le,{__addDisposableResource:()=>Et,__assign:()=>A,__asyncDelegator:()=>Ve,__asyncGenerator:()=>se,__asyncValues:()=>it,__await:()=>Ne,__awaiter:()=>fe,__classPrivateFieldGet:()=>st,__classPrivateFieldIn:()=>Gt,__classPrivateFieldSet:()=>Ft,__createBinding:()=>Ie,__decorate:()=>W,__disposeResources:()=>Ln,__esDecorate:()=>ge,__exportStar:()=>Xe,__extends:()=>F,__generator:()=>ze,__importDefault:()=>xe,__importStar:()=>de,__makeTemplateObject:()=>Le,__metadata:()=>B,__param:()=>Z,__propKey:()=>be,__read:()=>mt,__rest:()=>ne,__rewriteRelativeImportExtension:()=>ar,__runInitializers:()=>Re,__setFunctionName:()=>Q,__spread:()=>It,__spreadArray:()=>Qt,__spreadArrays:()=>Ht,__values:()=>Tt,default:()=>Hi});var C=function(U,H){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,z){G.__proto__=z}||function(G,z){for(var he in z)Object.prototype.hasOwnProperty.call(z,he)&&(G[he]=z[he])})(U,H)};function F(U,H){if("function"!=typeof H&&null!==H)throw new TypeError("Class extends value "+String(H)+" is not a constructor or null");function G(){this.constructor=U}C(U,H),U.prototype=null===H?Object.create(H):(G.prototype=H.prototype,new G)}var A=function(){return A=Object.assign||function(H){for(var G,z=1,he=arguments.length;z<he;z++)for(var pe in G=arguments[z])Object.prototype.hasOwnProperty.call(G,pe)&&(H[pe]=G[pe]);return H},A.apply(this,arguments)};function ne(U,H){var G={};for(var z in U)Object.prototype.hasOwnProperty.call(U,z)&&H.indexOf(z)<0&&(G[z]=U[z]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(z=Object.getOwnPropertySymbols(U);he<z.length;he++)H.indexOf(z[he])<0&&Object.prototype.propertyIsEnumerable.call(U,z[he])&&(G[z[he]]=U[z[he]])}return G}function W(U,H,G,z){var Ke,he=arguments.length,pe=he<3?H:null===z?z=Object.getOwnPropertyDescriptor(H,G):z;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pe=Reflect.decorate(U,H,G,z);else for(var At=U.length-1;At>=0;At--)(Ke=U[At])&&(pe=(he<3?Ke(pe):he>3?Ke(H,G,pe):Ke(H,G))||pe);return he>3&&pe&&Object.defineProperty(H,G,pe),pe}function Z(U,H){return function(G,z){H(G,z,U)}}function ge(U,H,G,z,he,pe){function Ke(we){if(void 0!==we&&"function"!=typeof we)throw new TypeError("Function expected");return we}for(var an,At=z.kind,tn="getter"===At?"get":"setter"===At?"set":"value",Qe=!H&&U?z.static?U:U.prototype:null,Vt=H||(Qe?Object.getOwnPropertyDescriptor(Qe,z.name):{}),Fn=!1,Ct=G.length-1;Ct>=0;Ct--){var Nt={};for(var bn in z)Nt[bn]="access"===bn?{}:z[bn];for(var bn in z.access)Nt.access[bn]=z.access[bn];Nt.addInitializer=function(we){if(Fn)throw new TypeError("Cannot add initializers after decoration has completed");pe.push(Ke(we||null))};var Nn=(0,G[Ct])("accessor"===At?{get:Vt.get,set:Vt.set}:Vt[tn],Nt);if("accessor"===At){if(void 0===Nn)continue;if(null===Nn||"object"!=typeof Nn)throw new TypeError("Object expected");(an=Ke(Nn.get))&&(Vt.get=an),(an=Ke(Nn.set))&&(Vt.set=an),(an=Ke(Nn.init))&&he.unshift(an)}else(an=Ke(Nn))&&("field"===At?he.unshift(an):Vt[tn]=an)}Qe&&Object.defineProperty(Qe,z.name,Vt),Fn=!0}function Re(U,H,G){for(var z=arguments.length>2,he=0;he<H.length;he++)G=z?H[he].call(U,G):H[he].call(U);return z?G:void 0}function be(U){return"symbol"==typeof U?U:"".concat(U)}function Q(U,H,G){return"symbol"==typeof H&&(H=H.description?"[".concat(H.description,"]"):""),Object.defineProperty(U,"name",{configurable:!0,value:G?"".concat(G," ",H):H})}function B(U,H){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(U,H)}function fe(U,H,G,z){return new(G||(G=Promise))(function(pe,Ke){function At(Vt){try{Qe(z.next(Vt))}catch(an){Ke(an)}}function tn(Vt){try{Qe(z.throw(Vt))}catch(an){Ke(an)}}function Qe(Vt){Vt.done?pe(Vt.value):function he(pe){return pe instanceof G?pe:new G(function(Ke){Ke(pe)})}(Vt.value).then(At,tn)}Qe((z=z.apply(U,H||[])).next())})}function ze(U,H){var z,he,pe,G={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]},Ke=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return Ke.next=At(0),Ke.throw=At(1),Ke.return=At(2),"function"==typeof Symbol&&(Ke[Symbol.iterator]=function(){return this}),Ke;function At(Qe){return function(Vt){return function tn(Qe){if(z)throw new TypeError("Generator is already executing.");for(;Ke&&(Ke=0,Qe[0]&&(G=0)),G;)try{if(z=1,he&&(pe=2&Qe[0]?he.return:Qe[0]?he.throw||((pe=he.return)&&pe.call(he),0):he.next)&&!(pe=pe.call(he,Qe[1])).done)return pe;switch(he=0,pe&&(Qe=[2&Qe[0],pe.value]),Qe[0]){case 0:case 1:pe=Qe;break;case 4:return G.label++,{value:Qe[1],done:!1};case 5:G.label++,he=Qe[1],Qe=[0];continue;case 7:Qe=G.ops.pop(),G.trys.pop();continue;default:if(!(pe=(pe=G.trys).length>0&&pe[pe.length-1])&&(6===Qe[0]||2===Qe[0])){G=0;continue}if(3===Qe[0]&&(!pe||Qe[1]>pe[0]&&Qe[1]<pe[3])){G.label=Qe[1];break}if(6===Qe[0]&&G.label<pe[1]){G.label=pe[1],pe=Qe;break}if(pe&&G.label<pe[2]){G.label=pe[2],G.ops.push(Qe);break}pe[2]&&G.ops.pop(),G.trys.pop();continue}Qe=H.call(U,G)}catch(Vt){Qe=[6,Vt],he=0}finally{z=pe=0}if(5&Qe[0])throw Qe[1];return{value:Qe[0]?Qe[1]:void 0,done:!0}}([Qe,Vt])}}}var Ie=Object.create?function(U,H,G,z){void 0===z&&(z=G);var he=Object.getOwnPropertyDescriptor(H,G);(!he||("get"in he?!H.__esModule:he.writable||he.configurable))&&(he={enumerable:!0,get:function(){return H[G]}}),Object.defineProperty(U,z,he)}:function(U,H,G,z){void 0===z&&(z=G),U[z]=H[G]};function Xe(U,H){for(var G in U)"default"!==G&&!Object.prototype.hasOwnProperty.call(H,G)&&Ie(H,U,G)}function Tt(U){var H="function"==typeof Symbol&&Symbol.iterator,G=H&&U[H],z=0;if(G)return G.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&z>=U.length&&(U=void 0),{value:U&&U[z++],done:!U}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}function mt(U,H){var G="function"==typeof Symbol&&U[Symbol.iterator];if(!G)return U;var he,Ke,z=G.call(U),pe=[];try{for(;(void 0===H||H-- >0)&&!(he=z.next()).done;)pe.push(he.value)}catch(At){Ke={error:At}}finally{try{he&&!he.done&&(G=z.return)&&G.call(z)}finally{if(Ke)throw Ke.error}}return pe}function It(){for(var U=[],H=0;H<arguments.length;H++)U=U.concat(mt(arguments[H]));return U}function Ht(){for(var U=0,H=0,G=arguments.length;H<G;H++)U+=arguments[H].length;var z=Array(U),he=0;for(H=0;H<G;H++)for(var pe=arguments[H],Ke=0,At=pe.length;Ke<At;Ke++,he++)z[he]=pe[Ke];return z}function Qt(U,H,G){if(G||2===arguments.length)for(var pe,z=0,he=H.length;z<he;z++)(pe||!(z in H))&&(pe||(pe=Array.prototype.slice.call(H,0,z)),pe[z]=H[z]);return U.concat(pe||Array.prototype.slice.call(H))}function Ne(U){return this instanceof Ne?(this.v=U,this):new Ne(U)}function se(U,H,G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,z=G.apply(U,H||[]),pe=[];return he=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),At("next"),At("throw"),At("return",function Ke(Ct){return function(Nt){return Promise.resolve(Nt).then(Ct,an)}}),he[Symbol.asyncIterator]=function(){return this},he;function At(Ct,Nt){z[Ct]&&(he[Ct]=function(bn){return new Promise(function(Nn,we){pe.push([Ct,bn,Nn,we])>1||tn(Ct,bn)})},Nt&&(he[Ct]=Nt(he[Ct])))}function tn(Ct,Nt){try{!function Qe(Ct){Ct.value instanceof Ne?Promise.resolve(Ct.value.v).then(Vt,an):Fn(pe[0][2],Ct)}(z[Ct](Nt))}catch(bn){Fn(pe[0][3],bn)}}function Vt(Ct){tn("next",Ct)}function an(Ct){tn("throw",Ct)}function Fn(Ct,Nt){Ct(Nt),pe.shift(),pe.length&&tn(pe[0][0],pe[0][1])}}function Ve(U){var H,G;return H={},z("next"),z("throw",function(he){throw he}),z("return"),H[Symbol.iterator]=function(){return this},H;function z(he,pe){H[he]=U[he]?function(Ke){return(G=!G)?{value:Ne(U[he](Ke)),done:!1}:pe?pe(Ke):Ke}:pe}}function it(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,H=U[Symbol.asyncIterator];return H?H.call(U):(U=Tt(U),G={},z("next"),z("throw"),z("return"),G[Symbol.asyncIterator]=function(){return this},G);function z(pe){G[pe]=U[pe]&&function(Ke){return new Promise(function(At,tn){!function he(pe,Ke,At,tn){Promise.resolve(tn).then(function(Qe){pe({value:Qe,done:At})},Ke)}(At,tn,(Ke=U[pe](Ke)).done,Ke.value)})}}}function Le(U,H){return Object.defineProperty?Object.defineProperty(U,"raw",{value:H}):U.raw=H,U}var Te=Object.create?function(U,H){Object.defineProperty(U,"default",{enumerable:!0,value:H})}:function(U,H){U.default=H},je=function(U){return(je=Object.getOwnPropertyNames||function(H){var G=[];for(var z in H)Object.prototype.hasOwnProperty.call(H,z)&&(G[G.length]=z);return G})(U)};function de(U){if(U&&U.__esModule)return U;var H={};if(null!=U)for(var G=je(U),z=0;z<G.length;z++)"default"!==G[z]&&Ie(H,U,G[z]);return Te(H,U),H}function xe(U){return U&&U.__esModule?U:{default:U}}function st(U,H,G,z){if("a"===G&&!z)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof H?U!==H||!z:!H.has(U))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===G?z:"a"===G?z.call(U):z?z.value:H.get(U)}function Ft(U,H,G,z,he){if("m"===z)throw new TypeError("Private method is not writable");if("a"===z&&!he)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof H?U!==H||!he:!H.has(U))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===z?he.call(U,G):he?he.value=G:H.set(U,G),G}function Gt(U,H){if(null===H||"object"!=typeof H&&"function"!=typeof H)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof U?H===U:U.has(H)}function Et(U,H,G){if(null!=H){if("object"!=typeof H&&"function"!=typeof H)throw new TypeError("Object expected.");var z,he;if(G){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");z=H[Symbol.asyncDispose]}if(void 0===z){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");z=H[Symbol.dispose],G&&(he=z)}if("function"!=typeof z)throw new TypeError("Object not disposable.");he&&(z=function(){try{he.call(this)}catch(pe){return Promise.reject(pe)}}),U.stack.push({value:H,dispose:z,async:G})}else G&&U.stack.push({async:!0});return H}var en="function"==typeof SuppressedError?SuppressedError:function(U,H,G){var z=new Error(G);return z.name="SuppressedError",z.error=U,z.suppressed=H,z};function Ln(U){function H(pe){U.error=U.hasError?new en(pe,U.error,"An error was suppressed during disposal."):pe,U.hasError=!0}var G,z=0;return function he(){for(;G=U.stack.pop();)try{if(!G.async&&1===z)return z=0,U.stack.push(G),Promise.resolve().then(he);if(G.dispose){var pe=G.dispose.call(G.value);if(G.async)return z|=2,Promise.resolve(pe).then(he,function(Ke){return H(Ke),he()})}else z|=1}catch(Ke){H(Ke)}if(1===z)return U.hasError?Promise.reject(U.error):Promise.resolve();if(U.hasError)throw U.error}()}function ar(U,H){return"string"==typeof U&&/^\.\.?\//.test(U)?U.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(G,z,he,pe,Ke){return z?H?".jsx":".js":!he||pe&&Ke?he+pe+"."+Ke.toLowerCase()+"js":G}):U}const Hi={__extends:F,__assign:A,__rest:ne,__decorate:W,__param:Z,__esDecorate:ge,__runInitializers:Re,__propKey:be,__setFunctionName:Q,__metadata:B,__awaiter:fe,__generator:ze,__createBinding:Ie,__exportStar:Xe,__values:Tt,__read:mt,__spread:It,__spreadArrays:Ht,__spreadArray:Qt,__await:Ne,__asyncGenerator:se,__asyncDelegator:Ve,__asyncValues:it,__makeTemplateObject:Le,__importStar:de,__importDefault:xe,__classPrivateFieldGet:st,__classPrivateFieldSet:Ft,__classPrivateFieldIn:Gt,__addDisposableResource:Et,__disposeResources:Ln,__rewriteRelativeImportExtension:ar}}}]);